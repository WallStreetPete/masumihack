"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@ai-sdk";
exports.ids = ["vendor-chunks/@ai-sdk"];
exports.modules = {

/***/ "(rsc)/./node_modules/@ai-sdk/openai/dist/index.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@ai-sdk/openai/dist/index.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createOpenAI: () => (/* binding */ createOpenAI),\n/* harmony export */   openai: () => (/* binding */ openai)\n/* harmony export */ });\n/* harmony import */ var _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ai-sdk/provider-utils */ \"(rsc)/./node_modules/@ai-sdk/provider-utils/dist/index.mjs\");\n/* harmony import */ var _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ai-sdk/provider */ \"(rsc)/./node_modules/@ai-sdk/provider/dist/index.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n// src/openai-provider.ts\n\n// src/openai-chat-language-model.ts\n\n\n\n// src/convert-to-openai-chat-messages.ts\n\n\nfunction convertToOpenAIChatMessages({ prompt, useLegacyFunctionCalling = false, systemMessageMode = \"system\" }) {\n    const messages = [];\n    const warnings = [];\n    for (const { role, content } of prompt){\n        switch(role){\n            case \"system\":\n                {\n                    switch(systemMessageMode){\n                        case \"system\":\n                            {\n                                messages.push({\n                                    role: \"system\",\n                                    content\n                                });\n                                break;\n                            }\n                        case \"developer\":\n                            {\n                                messages.push({\n                                    role: \"developer\",\n                                    content\n                                });\n                                break;\n                            }\n                        case \"remove\":\n                            {\n                                warnings.push({\n                                    type: \"other\",\n                                    message: \"system messages are removed for this model\"\n                                });\n                                break;\n                            }\n                        default:\n                            {\n                                const _exhaustiveCheck = systemMessageMode;\n                                throw new Error(`Unsupported system message mode: ${_exhaustiveCheck}`);\n                            }\n                    }\n                    break;\n                }\n            case \"user\":\n                {\n                    if (content.length === 1 && content[0].type === \"text\") {\n                        messages.push({\n                            role: \"user\",\n                            content: content[0].text\n                        });\n                        break;\n                    }\n                    messages.push({\n                        role: \"user\",\n                        content: content.map((part, index)=>{\n                            var _a, _b, _c, _d;\n                            switch(part.type){\n                                case \"text\":\n                                    {\n                                        return {\n                                            type: \"text\",\n                                            text: part.text\n                                        };\n                                    }\n                                case \"image\":\n                                    {\n                                        return {\n                                            type: \"image_url\",\n                                            image_url: {\n                                                url: part.image instanceof URL ? part.image.toString() : `data:${(_a = part.mimeType) != null ? _a : \"image/jpeg\"};base64,${(0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.convertUint8ArrayToBase64)(part.image)}`,\n                                                // OpenAI specific extension: image detail\n                                                detail: (_c = (_b = part.providerMetadata) == null ? void 0 : _b.openai) == null ? void 0 : _c.imageDetail\n                                            }\n                                        };\n                                    }\n                                case \"file\":\n                                    {\n                                        if (part.data instanceof URL) {\n                                            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                                                functionality: \"'File content parts with URL data' functionality not supported.\"\n                                            });\n                                        }\n                                        switch(part.mimeType){\n                                            case \"audio/wav\":\n                                                {\n                                                    return {\n                                                        type: \"input_audio\",\n                                                        input_audio: {\n                                                            data: part.data,\n                                                            format: \"wav\"\n                                                        }\n                                                    };\n                                                }\n                                            case \"audio/mp3\":\n                                            case \"audio/mpeg\":\n                                                {\n                                                    return {\n                                                        type: \"input_audio\",\n                                                        input_audio: {\n                                                            data: part.data,\n                                                            format: \"mp3\"\n                                                        }\n                                                    };\n                                                }\n                                            case \"application/pdf\":\n                                                {\n                                                    return {\n                                                        type: \"file\",\n                                                        file: {\n                                                            filename: (_d = part.filename) != null ? _d : `part-${index}.pdf`,\n                                                            file_data: `data:application/pdf;base64,${part.data}`\n                                                        }\n                                                    };\n                                                }\n                                            default:\n                                                {\n                                                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                                                        functionality: `File content part type ${part.mimeType} in user messages`\n                                                    });\n                                                }\n                                        }\n                                    }\n                            }\n                        })\n                    });\n                    break;\n                }\n            case \"assistant\":\n                {\n                    let text = \"\";\n                    const toolCalls = [];\n                    for (const part of content){\n                        switch(part.type){\n                            case \"text\":\n                                {\n                                    text += part.text;\n                                    break;\n                                }\n                            case \"tool-call\":\n                                {\n                                    toolCalls.push({\n                                        id: part.toolCallId,\n                                        type: \"function\",\n                                        function: {\n                                            name: part.toolName,\n                                            arguments: JSON.stringify(part.args)\n                                        }\n                                    });\n                                    break;\n                                }\n                        }\n                    }\n                    if (useLegacyFunctionCalling) {\n                        if (toolCalls.length > 1) {\n                            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                                functionality: \"useLegacyFunctionCalling with multiple tool calls in one message\"\n                            });\n                        }\n                        messages.push({\n                            role: \"assistant\",\n                            content: text,\n                            function_call: toolCalls.length > 0 ? toolCalls[0].function : void 0\n                        });\n                    } else {\n                        messages.push({\n                            role: \"assistant\",\n                            content: text,\n                            tool_calls: toolCalls.length > 0 ? toolCalls : void 0\n                        });\n                    }\n                    break;\n                }\n            case \"tool\":\n                {\n                    for (const toolResponse of content){\n                        if (useLegacyFunctionCalling) {\n                            messages.push({\n                                role: \"function\",\n                                name: toolResponse.toolName,\n                                content: JSON.stringify(toolResponse.result)\n                            });\n                        } else {\n                            messages.push({\n                                role: \"tool\",\n                                tool_call_id: toolResponse.toolCallId,\n                                content: JSON.stringify(toolResponse.result)\n                            });\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    const _exhaustiveCheck = role;\n                    throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n                }\n        }\n    }\n    return {\n        messages,\n        warnings\n    };\n}\n// src/map-openai-chat-logprobs.ts\nfunction mapOpenAIChatLogProbsOutput(logprobs) {\n    var _a, _b;\n    return (_b = (_a = logprobs == null ? void 0 : logprobs.content) == null ? void 0 : _a.map(({ token, logprob, top_logprobs })=>({\n            token,\n            logprob,\n            topLogprobs: top_logprobs ? top_logprobs.map(({ token: token2, logprob: logprob2 })=>({\n                    token: token2,\n                    logprob: logprob2\n                })) : []\n        }))) != null ? _b : void 0;\n}\n// src/map-openai-finish-reason.ts\nfunction mapOpenAIFinishReason(finishReason) {\n    switch(finishReason){\n        case \"stop\":\n            return \"stop\";\n        case \"length\":\n            return \"length\";\n        case \"content_filter\":\n            return \"content-filter\";\n        case \"function_call\":\n        case \"tool_calls\":\n            return \"tool-calls\";\n        default:\n            return \"unknown\";\n    }\n}\n// src/openai-error.ts\n\n\nvar openaiErrorDataSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    error: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        message: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n        // The additional information below is handled loosely to support\n        // OpenAI-compatible providers that have slightly different error\n        // responses:\n        type: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n        param: zod__WEBPACK_IMPORTED_MODULE_2__.z.any().nullish(),\n        code: zod__WEBPACK_IMPORTED_MODULE_2__.z.union([\n            zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            zod__WEBPACK_IMPORTED_MODULE_2__.z.number()\n        ]).nullish()\n    })\n});\nvar openaiFailedResponseHandler = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createJsonErrorResponseHandler)({\n    errorSchema: openaiErrorDataSchema,\n    errorToMessage: (data)=>data.error.message\n});\n// src/get-response-metadata.ts\nfunction getResponseMetadata({ id, model, created }) {\n    return {\n        id: id != null ? id : void 0,\n        modelId: model != null ? model : void 0,\n        timestamp: created != null ? new Date(created * 1e3) : void 0\n    };\n}\n// src/openai-prepare-tools.ts\n\nfunction prepareTools({ mode, useLegacyFunctionCalling = false, structuredOutputs }) {\n    var _a;\n    const tools = ((_a = mode.tools) == null ? void 0 : _a.length) ? mode.tools : void 0;\n    const toolWarnings = [];\n    if (tools == null) {\n        return {\n            tools: void 0,\n            tool_choice: void 0,\n            toolWarnings\n        };\n    }\n    const toolChoice = mode.toolChoice;\n    if (useLegacyFunctionCalling) {\n        const openaiFunctions = [];\n        for (const tool of tools){\n            if (tool.type === \"provider-defined\") {\n                toolWarnings.push({\n                    type: \"unsupported-tool\",\n                    tool\n                });\n            } else {\n                openaiFunctions.push({\n                    name: tool.name,\n                    description: tool.description,\n                    parameters: tool.parameters\n                });\n            }\n        }\n        if (toolChoice == null) {\n            return {\n                functions: openaiFunctions,\n                function_call: void 0,\n                toolWarnings\n            };\n        }\n        const type2 = toolChoice.type;\n        switch(type2){\n            case \"auto\":\n            case \"none\":\n            case void 0:\n                return {\n                    functions: openaiFunctions,\n                    function_call: void 0,\n                    toolWarnings\n                };\n            case \"required\":\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                    functionality: \"useLegacyFunctionCalling and toolChoice: required\"\n                });\n            default:\n                return {\n                    functions: openaiFunctions,\n                    function_call: {\n                        name: toolChoice.toolName\n                    },\n                    toolWarnings\n                };\n        }\n    }\n    const openaiTools2 = [];\n    for (const tool of tools){\n        if (tool.type === \"provider-defined\") {\n            toolWarnings.push({\n                type: \"unsupported-tool\",\n                tool\n            });\n        } else {\n            openaiTools2.push({\n                type: \"function\",\n                function: {\n                    name: tool.name,\n                    description: tool.description,\n                    parameters: tool.parameters,\n                    strict: structuredOutputs ? true : void 0\n                }\n            });\n        }\n    }\n    if (toolChoice == null) {\n        return {\n            tools: openaiTools2,\n            tool_choice: void 0,\n            toolWarnings\n        };\n    }\n    const type = toolChoice.type;\n    switch(type){\n        case \"auto\":\n        case \"none\":\n        case \"required\":\n            return {\n                tools: openaiTools2,\n                tool_choice: type,\n                toolWarnings\n            };\n        case \"tool\":\n            return {\n                tools: openaiTools2,\n                tool_choice: {\n                    type: \"function\",\n                    function: {\n                        name: toolChoice.toolName\n                    }\n                },\n                toolWarnings\n            };\n        default:\n            {\n                const _exhaustiveCheck = type;\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                    functionality: `Unsupported tool choice type: ${_exhaustiveCheck}`\n                });\n            }\n    }\n}\n// src/openai-chat-language-model.ts\nvar OpenAIChatLanguageModel = class {\n    constructor(modelId, settings, config){\n        this.specificationVersion = \"v1\";\n        this.modelId = modelId;\n        this.settings = settings;\n        this.config = config;\n    }\n    get supportsStructuredOutputs() {\n        var _a;\n        return (_a = this.settings.structuredOutputs) != null ? _a : isReasoningModel(this.modelId);\n    }\n    get defaultObjectGenerationMode() {\n        if (isAudioModel(this.modelId)) {\n            return \"tool\";\n        }\n        return this.supportsStructuredOutputs ? \"json\" : \"tool\";\n    }\n    get provider() {\n        return this.config.provider;\n    }\n    get supportsImageUrls() {\n        return !this.settings.downloadImages;\n    }\n    getArgs({ mode, prompt, maxTokens, temperature, topP, topK, frequencyPenalty, presencePenalty, stopSequences, responseFormat, seed, providerMetadata }) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        const type = mode.type;\n        const warnings = [];\n        if (topK != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"topK\"\n            });\n        }\n        if ((responseFormat == null ? void 0 : responseFormat.type) === \"json\" && responseFormat.schema != null && !this.supportsStructuredOutputs) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"responseFormat\",\n                details: \"JSON response format schema is only supported with structuredOutputs\"\n            });\n        }\n        const useLegacyFunctionCalling = this.settings.useLegacyFunctionCalling;\n        if (useLegacyFunctionCalling && this.settings.parallelToolCalls === true) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                functionality: \"useLegacyFunctionCalling with parallelToolCalls\"\n            });\n        }\n        if (useLegacyFunctionCalling && this.supportsStructuredOutputs) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                functionality: \"structuredOutputs with useLegacyFunctionCalling\"\n            });\n        }\n        const { messages, warnings: messageWarnings } = convertToOpenAIChatMessages({\n            prompt,\n            useLegacyFunctionCalling,\n            systemMessageMode: getSystemMessageMode(this.modelId)\n        });\n        warnings.push(...messageWarnings);\n        const baseArgs = {\n            // model id:\n            model: this.modelId,\n            // model specific settings:\n            logit_bias: this.settings.logitBias,\n            logprobs: this.settings.logprobs === true || typeof this.settings.logprobs === \"number\" ? true : void 0,\n            top_logprobs: typeof this.settings.logprobs === \"number\" ? this.settings.logprobs : typeof this.settings.logprobs === \"boolean\" ? this.settings.logprobs ? 0 : void 0 : void 0,\n            user: this.settings.user,\n            parallel_tool_calls: this.settings.parallelToolCalls,\n            // standardized settings:\n            max_tokens: maxTokens,\n            temperature,\n            top_p: topP,\n            frequency_penalty: frequencyPenalty,\n            presence_penalty: presencePenalty,\n            response_format: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" ? this.supportsStructuredOutputs && responseFormat.schema != null ? {\n                type: \"json_schema\",\n                json_schema: {\n                    schema: responseFormat.schema,\n                    strict: true,\n                    name: (_a = responseFormat.name) != null ? _a : \"response\",\n                    description: responseFormat.description\n                }\n            } : {\n                type: \"json_object\"\n            } : void 0,\n            stop: stopSequences,\n            seed,\n            // openai specific settings:\n            // TODO remove in next major version; we auto-map maxTokens now\n            max_completion_tokens: (_b = providerMetadata == null ? void 0 : providerMetadata.openai) == null ? void 0 : _b.maxCompletionTokens,\n            store: (_c = providerMetadata == null ? void 0 : providerMetadata.openai) == null ? void 0 : _c.store,\n            metadata: (_d = providerMetadata == null ? void 0 : providerMetadata.openai) == null ? void 0 : _d.metadata,\n            prediction: (_e = providerMetadata == null ? void 0 : providerMetadata.openai) == null ? void 0 : _e.prediction,\n            reasoning_effort: (_g = (_f = providerMetadata == null ? void 0 : providerMetadata.openai) == null ? void 0 : _f.reasoningEffort) != null ? _g : this.settings.reasoningEffort,\n            // messages:\n            messages\n        };\n        if (isReasoningModel(this.modelId)) {\n            if (baseArgs.temperature != null) {\n                baseArgs.temperature = void 0;\n                warnings.push({\n                    type: \"unsupported-setting\",\n                    setting: \"temperature\",\n                    details: \"temperature is not supported for reasoning models\"\n                });\n            }\n            if (baseArgs.top_p != null) {\n                baseArgs.top_p = void 0;\n                warnings.push({\n                    type: \"unsupported-setting\",\n                    setting: \"topP\",\n                    details: \"topP is not supported for reasoning models\"\n                });\n            }\n            if (baseArgs.frequency_penalty != null) {\n                baseArgs.frequency_penalty = void 0;\n                warnings.push({\n                    type: \"unsupported-setting\",\n                    setting: \"frequencyPenalty\",\n                    details: \"frequencyPenalty is not supported for reasoning models\"\n                });\n            }\n            if (baseArgs.presence_penalty != null) {\n                baseArgs.presence_penalty = void 0;\n                warnings.push({\n                    type: \"unsupported-setting\",\n                    setting: \"presencePenalty\",\n                    details: \"presencePenalty is not supported for reasoning models\"\n                });\n            }\n            if (baseArgs.logit_bias != null) {\n                baseArgs.logit_bias = void 0;\n                warnings.push({\n                    type: \"other\",\n                    message: \"logitBias is not supported for reasoning models\"\n                });\n            }\n            if (baseArgs.logprobs != null) {\n                baseArgs.logprobs = void 0;\n                warnings.push({\n                    type: \"other\",\n                    message: \"logprobs is not supported for reasoning models\"\n                });\n            }\n            if (baseArgs.top_logprobs != null) {\n                baseArgs.top_logprobs = void 0;\n                warnings.push({\n                    type: \"other\",\n                    message: \"topLogprobs is not supported for reasoning models\"\n                });\n            }\n            if (baseArgs.max_tokens != null) {\n                if (baseArgs.max_completion_tokens == null) {\n                    baseArgs.max_completion_tokens = baseArgs.max_tokens;\n                }\n                baseArgs.max_tokens = void 0;\n            }\n        } else if (this.modelId.startsWith(\"gpt-4o-search-preview\") || this.modelId.startsWith(\"gpt-4o-mini-search-preview\")) {\n            if (baseArgs.temperature != null) {\n                baseArgs.temperature = void 0;\n                warnings.push({\n                    type: \"unsupported-setting\",\n                    setting: \"temperature\",\n                    details: \"temperature is not supported for the search preview models and has been removed.\"\n                });\n            }\n        }\n        switch(type){\n            case \"regular\":\n                {\n                    const { tools, tool_choice, functions, function_call, toolWarnings } = prepareTools({\n                        mode,\n                        useLegacyFunctionCalling,\n                        structuredOutputs: this.supportsStructuredOutputs\n                    });\n                    return {\n                        args: {\n                            ...baseArgs,\n                            tools,\n                            tool_choice,\n                            functions,\n                            function_call\n                        },\n                        warnings: [\n                            ...warnings,\n                            ...toolWarnings\n                        ]\n                    };\n                }\n            case \"object-json\":\n                {\n                    return {\n                        args: {\n                            ...baseArgs,\n                            response_format: this.supportsStructuredOutputs && mode.schema != null ? {\n                                type: \"json_schema\",\n                                json_schema: {\n                                    schema: mode.schema,\n                                    strict: true,\n                                    name: (_h = mode.name) != null ? _h : \"response\",\n                                    description: mode.description\n                                }\n                            } : {\n                                type: \"json_object\"\n                            }\n                        },\n                        warnings\n                    };\n                }\n            case \"object-tool\":\n                {\n                    return {\n                        args: useLegacyFunctionCalling ? {\n                            ...baseArgs,\n                            function_call: {\n                                name: mode.tool.name\n                            },\n                            functions: [\n                                {\n                                    name: mode.tool.name,\n                                    description: mode.tool.description,\n                                    parameters: mode.tool.parameters\n                                }\n                            ]\n                        } : {\n                            ...baseArgs,\n                            tool_choice: {\n                                type: \"function\",\n                                function: {\n                                    name: mode.tool.name\n                                }\n                            },\n                            tools: [\n                                {\n                                    type: \"function\",\n                                    function: {\n                                        name: mode.tool.name,\n                                        description: mode.tool.description,\n                                        parameters: mode.tool.parameters,\n                                        strict: this.supportsStructuredOutputs ? true : void 0\n                                    }\n                                }\n                            ]\n                        },\n                        warnings\n                    };\n                }\n            default:\n                {\n                    const _exhaustiveCheck = type;\n                    throw new Error(`Unsupported type: ${_exhaustiveCheck}`);\n                }\n        }\n    }\n    async doGenerate(options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        const { args: body, warnings } = this.getArgs(options);\n        const { responseHeaders, value: response, rawValue: rawResponse } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/chat/completions\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), options.headers),\n            body,\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createJsonResponseHandler)(openaiChatResponseSchema),\n            abortSignal: options.abortSignal,\n            fetch: this.config.fetch\n        });\n        const { messages: rawPrompt, ...rawSettings } = body;\n        const choice = response.choices[0];\n        const completionTokenDetails = (_a = response.usage) == null ? void 0 : _a.completion_tokens_details;\n        const promptTokenDetails = (_b = response.usage) == null ? void 0 : _b.prompt_tokens_details;\n        const providerMetadata = {\n            openai: {}\n        };\n        if ((completionTokenDetails == null ? void 0 : completionTokenDetails.reasoning_tokens) != null) {\n            providerMetadata.openai.reasoningTokens = completionTokenDetails == null ? void 0 : completionTokenDetails.reasoning_tokens;\n        }\n        if ((completionTokenDetails == null ? void 0 : completionTokenDetails.accepted_prediction_tokens) != null) {\n            providerMetadata.openai.acceptedPredictionTokens = completionTokenDetails == null ? void 0 : completionTokenDetails.accepted_prediction_tokens;\n        }\n        if ((completionTokenDetails == null ? void 0 : completionTokenDetails.rejected_prediction_tokens) != null) {\n            providerMetadata.openai.rejectedPredictionTokens = completionTokenDetails == null ? void 0 : completionTokenDetails.rejected_prediction_tokens;\n        }\n        if ((promptTokenDetails == null ? void 0 : promptTokenDetails.cached_tokens) != null) {\n            providerMetadata.openai.cachedPromptTokens = promptTokenDetails == null ? void 0 : promptTokenDetails.cached_tokens;\n        }\n        return {\n            text: (_c = choice.message.content) != null ? _c : void 0,\n            toolCalls: this.settings.useLegacyFunctionCalling && choice.message.function_call ? [\n                {\n                    toolCallType: \"function\",\n                    toolCallId: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId)(),\n                    toolName: choice.message.function_call.name,\n                    args: choice.message.function_call.arguments\n                }\n            ] : (_d = choice.message.tool_calls) == null ? void 0 : _d.map((toolCall)=>{\n                var _a2;\n                return {\n                    toolCallType: \"function\",\n                    toolCallId: (_a2 = toolCall.id) != null ? _a2 : (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId)(),\n                    toolName: toolCall.function.name,\n                    args: toolCall.function.arguments\n                };\n            }),\n            finishReason: mapOpenAIFinishReason(choice.finish_reason),\n            usage: {\n                promptTokens: (_f = (_e = response.usage) == null ? void 0 : _e.prompt_tokens) != null ? _f : NaN,\n                completionTokens: (_h = (_g = response.usage) == null ? void 0 : _g.completion_tokens) != null ? _h : NaN\n            },\n            rawCall: {\n                rawPrompt,\n                rawSettings\n            },\n            rawResponse: {\n                headers: responseHeaders,\n                body: rawResponse\n            },\n            request: {\n                body: JSON.stringify(body)\n            },\n            response: getResponseMetadata(response),\n            warnings,\n            logprobs: mapOpenAIChatLogProbsOutput(choice.logprobs),\n            providerMetadata\n        };\n    }\n    async doStream(options) {\n        if (this.settings.simulateStreaming) {\n            const result = await this.doGenerate(options);\n            const simulatedStream = new ReadableStream({\n                start (controller) {\n                    controller.enqueue({\n                        type: \"response-metadata\",\n                        ...result.response\n                    });\n                    if (result.text) {\n                        controller.enqueue({\n                            type: \"text-delta\",\n                            textDelta: result.text\n                        });\n                    }\n                    if (result.toolCalls) {\n                        for (const toolCall of result.toolCalls){\n                            controller.enqueue({\n                                type: \"tool-call-delta\",\n                                toolCallType: \"function\",\n                                toolCallId: toolCall.toolCallId,\n                                toolName: toolCall.toolName,\n                                argsTextDelta: toolCall.args\n                            });\n                            controller.enqueue({\n                                type: \"tool-call\",\n                                ...toolCall\n                            });\n                        }\n                    }\n                    controller.enqueue({\n                        type: \"finish\",\n                        finishReason: result.finishReason,\n                        usage: result.usage,\n                        logprobs: result.logprobs,\n                        providerMetadata: result.providerMetadata\n                    });\n                    controller.close();\n                }\n            });\n            return {\n                stream: simulatedStream,\n                rawCall: result.rawCall,\n                rawResponse: result.rawResponse,\n                warnings: result.warnings\n            };\n        }\n        const { args, warnings } = this.getArgs(options);\n        const body = {\n            ...args,\n            stream: true,\n            // only include stream_options when in strict compatibility mode:\n            stream_options: this.config.compatibility === \"strict\" ? {\n                include_usage: true\n            } : void 0\n        };\n        const { responseHeaders, value: response } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/chat/completions\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), options.headers),\n            body,\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createEventSourceResponseHandler)(openaiChatChunkSchema),\n            abortSignal: options.abortSignal,\n            fetch: this.config.fetch\n        });\n        const { messages: rawPrompt, ...rawSettings } = args;\n        const toolCalls = [];\n        let finishReason = \"unknown\";\n        let usage = {\n            promptTokens: void 0,\n            completionTokens: void 0\n        };\n        let logprobs;\n        let isFirstChunk = true;\n        const { useLegacyFunctionCalling } = this.settings;\n        const providerMetadata = {\n            openai: {}\n        };\n        return {\n            stream: response.pipeThrough(new TransformStream({\n                transform (chunk, controller) {\n                    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l;\n                    if (!chunk.success) {\n                        finishReason = \"error\";\n                        controller.enqueue({\n                            type: \"error\",\n                            error: chunk.error\n                        });\n                        return;\n                    }\n                    const value = chunk.value;\n                    if (\"error\" in value) {\n                        finishReason = \"error\";\n                        controller.enqueue({\n                            type: \"error\",\n                            error: value.error\n                        });\n                        return;\n                    }\n                    if (isFirstChunk) {\n                        isFirstChunk = false;\n                        controller.enqueue({\n                            type: \"response-metadata\",\n                            ...getResponseMetadata(value)\n                        });\n                    }\n                    if (value.usage != null) {\n                        const { prompt_tokens, completion_tokens, prompt_tokens_details, completion_tokens_details } = value.usage;\n                        usage = {\n                            promptTokens: prompt_tokens != null ? prompt_tokens : void 0,\n                            completionTokens: completion_tokens != null ? completion_tokens : void 0\n                        };\n                        if ((completion_tokens_details == null ? void 0 : completion_tokens_details.reasoning_tokens) != null) {\n                            providerMetadata.openai.reasoningTokens = completion_tokens_details == null ? void 0 : completion_tokens_details.reasoning_tokens;\n                        }\n                        if ((completion_tokens_details == null ? void 0 : completion_tokens_details.accepted_prediction_tokens) != null) {\n                            providerMetadata.openai.acceptedPredictionTokens = completion_tokens_details == null ? void 0 : completion_tokens_details.accepted_prediction_tokens;\n                        }\n                        if ((completion_tokens_details == null ? void 0 : completion_tokens_details.rejected_prediction_tokens) != null) {\n                            providerMetadata.openai.rejectedPredictionTokens = completion_tokens_details == null ? void 0 : completion_tokens_details.rejected_prediction_tokens;\n                        }\n                        if ((prompt_tokens_details == null ? void 0 : prompt_tokens_details.cached_tokens) != null) {\n                            providerMetadata.openai.cachedPromptTokens = prompt_tokens_details == null ? void 0 : prompt_tokens_details.cached_tokens;\n                        }\n                    }\n                    const choice = value.choices[0];\n                    if ((choice == null ? void 0 : choice.finish_reason) != null) {\n                        finishReason = mapOpenAIFinishReason(choice.finish_reason);\n                    }\n                    if ((choice == null ? void 0 : choice.delta) == null) {\n                        return;\n                    }\n                    const delta = choice.delta;\n                    if (delta.content != null) {\n                        controller.enqueue({\n                            type: \"text-delta\",\n                            textDelta: delta.content\n                        });\n                    }\n                    const mappedLogprobs = mapOpenAIChatLogProbsOutput(choice == null ? void 0 : choice.logprobs);\n                    if (mappedLogprobs == null ? void 0 : mappedLogprobs.length) {\n                        if (logprobs === void 0) logprobs = [];\n                        logprobs.push(...mappedLogprobs);\n                    }\n                    const mappedToolCalls = useLegacyFunctionCalling && delta.function_call != null ? [\n                        {\n                            type: \"function\",\n                            id: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId)(),\n                            function: delta.function_call,\n                            index: 0\n                        }\n                    ] : delta.tool_calls;\n                    if (mappedToolCalls != null) {\n                        for (const toolCallDelta of mappedToolCalls){\n                            const index = toolCallDelta.index;\n                            if (toolCalls[index] == null) {\n                                if (toolCallDelta.type !== \"function\") {\n                                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.InvalidResponseDataError({\n                                        data: toolCallDelta,\n                                        message: `Expected 'function' type.`\n                                    });\n                                }\n                                if (toolCallDelta.id == null) {\n                                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.InvalidResponseDataError({\n                                        data: toolCallDelta,\n                                        message: `Expected 'id' to be a string.`\n                                    });\n                                }\n                                if (((_a = toolCallDelta.function) == null ? void 0 : _a.name) == null) {\n                                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.InvalidResponseDataError({\n                                        data: toolCallDelta,\n                                        message: `Expected 'function.name' to be a string.`\n                                    });\n                                }\n                                toolCalls[index] = {\n                                    id: toolCallDelta.id,\n                                    type: \"function\",\n                                    function: {\n                                        name: toolCallDelta.function.name,\n                                        arguments: (_b = toolCallDelta.function.arguments) != null ? _b : \"\"\n                                    },\n                                    hasFinished: false\n                                };\n                                const toolCall2 = toolCalls[index];\n                                if (((_c = toolCall2.function) == null ? void 0 : _c.name) != null && ((_d = toolCall2.function) == null ? void 0 : _d.arguments) != null) {\n                                    if (toolCall2.function.arguments.length > 0) {\n                                        controller.enqueue({\n                                            type: \"tool-call-delta\",\n                                            toolCallType: \"function\",\n                                            toolCallId: toolCall2.id,\n                                            toolName: toolCall2.function.name,\n                                            argsTextDelta: toolCall2.function.arguments\n                                        });\n                                    }\n                                    if ((0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.isParsableJson)(toolCall2.function.arguments)) {\n                                        controller.enqueue({\n                                            type: \"tool-call\",\n                                            toolCallType: \"function\",\n                                            toolCallId: (_e = toolCall2.id) != null ? _e : (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId)(),\n                                            toolName: toolCall2.function.name,\n                                            args: toolCall2.function.arguments\n                                        });\n                                        toolCall2.hasFinished = true;\n                                    }\n                                }\n                                continue;\n                            }\n                            const toolCall = toolCalls[index];\n                            if (toolCall.hasFinished) {\n                                continue;\n                            }\n                            if (((_f = toolCallDelta.function) == null ? void 0 : _f.arguments) != null) {\n                                toolCall.function.arguments += (_h = (_g = toolCallDelta.function) == null ? void 0 : _g.arguments) != null ? _h : \"\";\n                            }\n                            controller.enqueue({\n                                type: \"tool-call-delta\",\n                                toolCallType: \"function\",\n                                toolCallId: toolCall.id,\n                                toolName: toolCall.function.name,\n                                argsTextDelta: (_i = toolCallDelta.function.arguments) != null ? _i : \"\"\n                            });\n                            if (((_j = toolCall.function) == null ? void 0 : _j.name) != null && ((_k = toolCall.function) == null ? void 0 : _k.arguments) != null && (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.isParsableJson)(toolCall.function.arguments)) {\n                                controller.enqueue({\n                                    type: \"tool-call\",\n                                    toolCallType: \"function\",\n                                    toolCallId: (_l = toolCall.id) != null ? _l : (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId)(),\n                                    toolName: toolCall.function.name,\n                                    args: toolCall.function.arguments\n                                });\n                                toolCall.hasFinished = true;\n                            }\n                        }\n                    }\n                },\n                flush (controller) {\n                    var _a, _b;\n                    controller.enqueue({\n                        type: \"finish\",\n                        finishReason,\n                        logprobs,\n                        usage: {\n                            promptTokens: (_a = usage.promptTokens) != null ? _a : NaN,\n                            completionTokens: (_b = usage.completionTokens) != null ? _b : NaN\n                        },\n                        ...providerMetadata != null ? {\n                            providerMetadata\n                        } : {}\n                    });\n                }\n            })),\n            rawCall: {\n                rawPrompt,\n                rawSettings\n            },\n            rawResponse: {\n                headers: responseHeaders\n            },\n            request: {\n                body: JSON.stringify(body)\n            },\n            warnings\n        };\n    }\n};\nvar openaiTokenUsageSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    prompt_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n    completion_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n    prompt_tokens_details: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        cached_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish()\n    }).nullish(),\n    completion_tokens_details: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        reasoning_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n        accepted_prediction_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n        rejected_prediction_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish()\n    }).nullish()\n}).nullish();\nvar openaiChatResponseSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    created: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n    model: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    choices: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        message: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            role: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"assistant\").nullish(),\n            content: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n            function_call: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                arguments: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                name: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n            }).nullish(),\n            tool_calls: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n                type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"function\"),\n                function: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                    name: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                    arguments: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n                })\n            })).nullish()\n        }),\n        index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n        logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            content: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                token: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                logprob: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n                top_logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                    token: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                    logprob: zod__WEBPACK_IMPORTED_MODULE_2__.z.number()\n                }))\n            })).nullable()\n        }).nullish(),\n        finish_reason: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish()\n    })),\n    usage: openaiTokenUsageSchema\n});\nvar openaiChatChunkSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n        created: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n        model: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n        choices: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            delta: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                role: zod__WEBPACK_IMPORTED_MODULE_2__.z.enum([\n                    \"assistant\"\n                ]).nullish(),\n                content: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n                function_call: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                    name: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().optional(),\n                    arguments: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().optional()\n                }).nullish(),\n                tool_calls: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                    index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n                    id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n                    type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"function\").optional(),\n                    function: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                        name: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n                        arguments: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish()\n                    })\n                })).nullish()\n            }).nullish(),\n            logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                content: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                    token: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                    logprob: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n                    top_logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                        token: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                        logprob: zod__WEBPACK_IMPORTED_MODULE_2__.z.number()\n                    }))\n                })).nullable()\n            }).nullish(),\n            finish_reason: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullable().optional(),\n            index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number()\n        })),\n        usage: openaiTokenUsageSchema\n    }),\n    openaiErrorDataSchema\n]);\nfunction isReasoningModel(modelId) {\n    return modelId.startsWith(\"o\");\n}\nfunction isAudioModel(modelId) {\n    return modelId.startsWith(\"gpt-4o-audio-preview\");\n}\nfunction getSystemMessageMode(modelId) {\n    var _a, _b;\n    if (!isReasoningModel(modelId)) {\n        return \"system\";\n    }\n    return (_b = (_a = reasoningModels[modelId]) == null ? void 0 : _a.systemMessageMode) != null ? _b : \"developer\";\n}\nvar reasoningModels = {\n    \"o1-mini\": {\n        systemMessageMode: \"remove\"\n    },\n    \"o1-mini-2024-09-12\": {\n        systemMessageMode: \"remove\"\n    },\n    \"o1-preview\": {\n        systemMessageMode: \"remove\"\n    },\n    \"o1-preview-2024-09-12\": {\n        systemMessageMode: \"remove\"\n    },\n    \"o3-mini\": {\n        systemMessageMode: \"developer\"\n    },\n    \"o3-mini-2025-01-31\": {\n        systemMessageMode: \"developer\"\n    }\n};\n// src/openai-completion-language-model.ts\n\n\n\n// src/convert-to-openai-completion-prompt.ts\n\nfunction convertToOpenAICompletionPrompt({ prompt, inputFormat, user = \"user\", assistant = \"assistant\" }) {\n    if (inputFormat === \"prompt\" && prompt.length === 1 && prompt[0].role === \"user\" && prompt[0].content.length === 1 && prompt[0].content[0].type === \"text\") {\n        return {\n            prompt: prompt[0].content[0].text\n        };\n    }\n    let text = \"\";\n    if (prompt[0].role === \"system\") {\n        text += `${prompt[0].content}\n\n`;\n        prompt = prompt.slice(1);\n    }\n    for (const { role, content } of prompt){\n        switch(role){\n            case \"system\":\n                {\n                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.InvalidPromptError({\n                        message: \"Unexpected system message in prompt: ${content}\",\n                        prompt\n                    });\n                }\n            case \"user\":\n                {\n                    const userMessage = content.map((part)=>{\n                        switch(part.type){\n                            case \"text\":\n                                {\n                                    return part.text;\n                                }\n                            case \"image\":\n                                {\n                                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                                        functionality: \"images\"\n                                    });\n                                }\n                        }\n                    }).join(\"\");\n                    text += `${user}:\n${userMessage}\n\n`;\n                    break;\n                }\n            case \"assistant\":\n                {\n                    const assistantMessage = content.map((part)=>{\n                        switch(part.type){\n                            case \"text\":\n                                {\n                                    return part.text;\n                                }\n                            case \"tool-call\":\n                                {\n                                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                                        functionality: \"tool-call messages\"\n                                    });\n                                }\n                        }\n                    }).join(\"\");\n                    text += `${assistant}:\n${assistantMessage}\n\n`;\n                    break;\n                }\n            case \"tool\":\n                {\n                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                        functionality: \"tool messages\"\n                    });\n                }\n            default:\n                {\n                    const _exhaustiveCheck = role;\n                    throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n                }\n        }\n    }\n    text += `${assistant}:\n`;\n    return {\n        prompt: text,\n        stopSequences: [\n            `\n${user}:`\n        ]\n    };\n}\n// src/map-openai-completion-logprobs.ts\nfunction mapOpenAICompletionLogProbs(logprobs) {\n    return logprobs == null ? void 0 : logprobs.tokens.map((token, index)=>({\n            token,\n            logprob: logprobs.token_logprobs[index],\n            topLogprobs: logprobs.top_logprobs ? Object.entries(logprobs.top_logprobs[index]).map(([token2, logprob])=>({\n                    token: token2,\n                    logprob\n                })) : []\n        }));\n}\n// src/openai-completion-language-model.ts\nvar OpenAICompletionLanguageModel = class {\n    constructor(modelId, settings, config){\n        this.specificationVersion = \"v1\";\n        this.defaultObjectGenerationMode = void 0;\n        this.modelId = modelId;\n        this.settings = settings;\n        this.config = config;\n    }\n    get provider() {\n        return this.config.provider;\n    }\n    getArgs({ mode, inputFormat, prompt, maxTokens, temperature, topP, topK, frequencyPenalty, presencePenalty, stopSequences: userStopSequences, responseFormat, seed }) {\n        var _a;\n        const type = mode.type;\n        const warnings = [];\n        if (topK != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"topK\"\n            });\n        }\n        if (responseFormat != null && responseFormat.type !== \"text\") {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"responseFormat\",\n                details: \"JSON response format is not supported.\"\n            });\n        }\n        const { prompt: completionPrompt, stopSequences } = convertToOpenAICompletionPrompt({\n            prompt,\n            inputFormat\n        });\n        const stop = [\n            ...stopSequences != null ? stopSequences : [],\n            ...userStopSequences != null ? userStopSequences : []\n        ];\n        const baseArgs = {\n            // model id:\n            model: this.modelId,\n            // model specific settings:\n            echo: this.settings.echo,\n            logit_bias: this.settings.logitBias,\n            logprobs: typeof this.settings.logprobs === \"number\" ? this.settings.logprobs : typeof this.settings.logprobs === \"boolean\" ? this.settings.logprobs ? 0 : void 0 : void 0,\n            suffix: this.settings.suffix,\n            user: this.settings.user,\n            // standardized settings:\n            max_tokens: maxTokens,\n            temperature,\n            top_p: topP,\n            frequency_penalty: frequencyPenalty,\n            presence_penalty: presencePenalty,\n            seed,\n            // prompt:\n            prompt: completionPrompt,\n            // stop sequences:\n            stop: stop.length > 0 ? stop : void 0\n        };\n        switch(type){\n            case \"regular\":\n                {\n                    if ((_a = mode.tools) == null ? void 0 : _a.length) {\n                        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                            functionality: \"tools\"\n                        });\n                    }\n                    if (mode.toolChoice) {\n                        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                            functionality: \"toolChoice\"\n                        });\n                    }\n                    return {\n                        args: baseArgs,\n                        warnings\n                    };\n                }\n            case \"object-json\":\n                {\n                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                        functionality: \"object-json mode\"\n                    });\n                }\n            case \"object-tool\":\n                {\n                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                        functionality: \"object-tool mode\"\n                    });\n                }\n            default:\n                {\n                    const _exhaustiveCheck = type;\n                    throw new Error(`Unsupported type: ${_exhaustiveCheck}`);\n                }\n        }\n    }\n    async doGenerate(options) {\n        const { args, warnings } = this.getArgs(options);\n        const { responseHeaders, value: response, rawValue: rawResponse } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/completions\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), options.headers),\n            body: args,\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createJsonResponseHandler)(openaiCompletionResponseSchema),\n            abortSignal: options.abortSignal,\n            fetch: this.config.fetch\n        });\n        const { prompt: rawPrompt, ...rawSettings } = args;\n        const choice = response.choices[0];\n        return {\n            text: choice.text,\n            usage: {\n                promptTokens: response.usage.prompt_tokens,\n                completionTokens: response.usage.completion_tokens\n            },\n            finishReason: mapOpenAIFinishReason(choice.finish_reason),\n            logprobs: mapOpenAICompletionLogProbs(choice.logprobs),\n            rawCall: {\n                rawPrompt,\n                rawSettings\n            },\n            rawResponse: {\n                headers: responseHeaders,\n                body: rawResponse\n            },\n            response: getResponseMetadata(response),\n            warnings,\n            request: {\n                body: JSON.stringify(args)\n            }\n        };\n    }\n    async doStream(options) {\n        const { args, warnings } = this.getArgs(options);\n        const body = {\n            ...args,\n            stream: true,\n            // only include stream_options when in strict compatibility mode:\n            stream_options: this.config.compatibility === \"strict\" ? {\n                include_usage: true\n            } : void 0\n        };\n        const { responseHeaders, value: response } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/completions\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), options.headers),\n            body,\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createEventSourceResponseHandler)(openaiCompletionChunkSchema),\n            abortSignal: options.abortSignal,\n            fetch: this.config.fetch\n        });\n        const { prompt: rawPrompt, ...rawSettings } = args;\n        let finishReason = \"unknown\";\n        let usage = {\n            promptTokens: Number.NaN,\n            completionTokens: Number.NaN\n        };\n        let logprobs;\n        let isFirstChunk = true;\n        return {\n            stream: response.pipeThrough(new TransformStream({\n                transform (chunk, controller) {\n                    if (!chunk.success) {\n                        finishReason = \"error\";\n                        controller.enqueue({\n                            type: \"error\",\n                            error: chunk.error\n                        });\n                        return;\n                    }\n                    const value = chunk.value;\n                    if (\"error\" in value) {\n                        finishReason = \"error\";\n                        controller.enqueue({\n                            type: \"error\",\n                            error: value.error\n                        });\n                        return;\n                    }\n                    if (isFirstChunk) {\n                        isFirstChunk = false;\n                        controller.enqueue({\n                            type: \"response-metadata\",\n                            ...getResponseMetadata(value)\n                        });\n                    }\n                    if (value.usage != null) {\n                        usage = {\n                            promptTokens: value.usage.prompt_tokens,\n                            completionTokens: value.usage.completion_tokens\n                        };\n                    }\n                    const choice = value.choices[0];\n                    if ((choice == null ? void 0 : choice.finish_reason) != null) {\n                        finishReason = mapOpenAIFinishReason(choice.finish_reason);\n                    }\n                    if ((choice == null ? void 0 : choice.text) != null) {\n                        controller.enqueue({\n                            type: \"text-delta\",\n                            textDelta: choice.text\n                        });\n                    }\n                    const mappedLogprobs = mapOpenAICompletionLogProbs(choice == null ? void 0 : choice.logprobs);\n                    if (mappedLogprobs == null ? void 0 : mappedLogprobs.length) {\n                        if (logprobs === void 0) logprobs = [];\n                        logprobs.push(...mappedLogprobs);\n                    }\n                },\n                flush (controller) {\n                    controller.enqueue({\n                        type: \"finish\",\n                        finishReason,\n                        logprobs,\n                        usage\n                    });\n                }\n            })),\n            rawCall: {\n                rawPrompt,\n                rawSettings\n            },\n            rawResponse: {\n                headers: responseHeaders\n            },\n            warnings,\n            request: {\n                body: JSON.stringify(body)\n            }\n        };\n    }\n};\nvar openaiCompletionResponseSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    created: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n    model: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    choices: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        text: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n        finish_reason: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n        logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.string()),\n            token_logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.number()),\n            top_logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.record(zod__WEBPACK_IMPORTED_MODULE_2__.z.string(), zod__WEBPACK_IMPORTED_MODULE_2__.z.number())).nullable()\n        }).nullish()\n    })),\n    usage: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        prompt_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n        completion_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number()\n    })\n});\nvar openaiCompletionChunkSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n        created: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n        model: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n        choices: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            text: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            finish_reason: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n            index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n            logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.string()),\n                token_logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.number()),\n                top_logprobs: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.record(zod__WEBPACK_IMPORTED_MODULE_2__.z.string(), zod__WEBPACK_IMPORTED_MODULE_2__.z.number())).nullable()\n            }).nullish()\n        })),\n        usage: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            prompt_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n            completion_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number()\n        }).nullish()\n    }),\n    openaiErrorDataSchema\n]);\n// src/openai-embedding-model.ts\n\n\n\nvar OpenAIEmbeddingModel = class {\n    constructor(modelId, settings, config){\n        this.specificationVersion = \"v1\";\n        this.modelId = modelId;\n        this.settings = settings;\n        this.config = config;\n    }\n    get provider() {\n        return this.config.provider;\n    }\n    get maxEmbeddingsPerCall() {\n        var _a;\n        return (_a = this.settings.maxEmbeddingsPerCall) != null ? _a : 2048;\n    }\n    get supportsParallelCalls() {\n        var _a;\n        return (_a = this.settings.supportsParallelCalls) != null ? _a : true;\n    }\n    async doEmbed({ values, headers, abortSignal }) {\n        if (values.length > this.maxEmbeddingsPerCall) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.TooManyEmbeddingValuesForCallError({\n                provider: this.provider,\n                modelId: this.modelId,\n                maxEmbeddingsPerCall: this.maxEmbeddingsPerCall,\n                values\n            });\n        }\n        const { responseHeaders, value: response } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/embeddings\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), headers),\n            body: {\n                model: this.modelId,\n                input: values,\n                encoding_format: \"float\",\n                dimensions: this.settings.dimensions,\n                user: this.settings.user\n            },\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createJsonResponseHandler)(openaiTextEmbeddingResponseSchema),\n            abortSignal,\n            fetch: this.config.fetch\n        });\n        return {\n            embeddings: response.data.map((item)=>item.embedding),\n            usage: response.usage ? {\n                tokens: response.usage.prompt_tokens\n            } : void 0,\n            rawResponse: {\n                headers: responseHeaders\n            }\n        };\n    }\n};\nvar openaiTextEmbeddingResponseSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    data: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        embedding: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.number())\n    })),\n    usage: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        prompt_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number()\n    }).nullish()\n});\n// src/openai-image-model.ts\n\n\n// src/openai-image-settings.ts\nvar modelMaxImagesPerCall = {\n    \"dall-e-3\": 1,\n    \"dall-e-2\": 10\n};\n// src/openai-image-model.ts\nvar OpenAIImageModel = class {\n    constructor(modelId, settings, config){\n        this.modelId = modelId;\n        this.settings = settings;\n        this.config = config;\n        this.specificationVersion = \"v1\";\n    }\n    get maxImagesPerCall() {\n        var _a, _b;\n        return (_b = (_a = this.settings.maxImagesPerCall) != null ? _a : modelMaxImagesPerCall[this.modelId]) != null ? _b : 1;\n    }\n    get provider() {\n        return this.config.provider;\n    }\n    async doGenerate({ prompt, n, size, aspectRatio, seed, providerOptions, headers, abortSignal }) {\n        var _a, _b, _c, _d;\n        const warnings = [];\n        if (aspectRatio != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"aspectRatio\",\n                details: \"This model does not support aspect ratio. Use `size` instead.\"\n            });\n        }\n        if (seed != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"seed\"\n            });\n        }\n        const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n        const { value: response, responseHeaders } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/images/generations\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), headers),\n            body: {\n                model: this.modelId,\n                prompt,\n                n,\n                size,\n                ...(_d = providerOptions.openai) != null ? _d : {},\n                response_format: \"b64_json\"\n            },\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createJsonResponseHandler)(openaiImageResponseSchema),\n            abortSignal,\n            fetch: this.config.fetch\n        });\n        return {\n            images: response.data.map((item)=>item.b64_json),\n            warnings,\n            response: {\n                timestamp: currentDate,\n                modelId: this.modelId,\n                headers: responseHeaders\n            }\n        };\n    }\n};\nvar openaiImageResponseSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    data: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        b64_json: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n    }))\n});\n// src/openai-transcription-model.ts\n\n\nvar openAIProviderOptionsSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    include: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.string()).nullish(),\n    language: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    prompt: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    temperature: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().min(0).max(1).nullish().default(0),\n    timestampGranularities: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.enum([\n        \"word\",\n        \"segment\"\n    ])).nullish().default([\n        \"segment\"\n    ])\n});\nvar languageMap = {\n    afrikaans: \"af\",\n    arabic: \"ar\",\n    armenian: \"hy\",\n    azerbaijani: \"az\",\n    belarusian: \"be\",\n    bosnian: \"bs\",\n    bulgarian: \"bg\",\n    catalan: \"ca\",\n    chinese: \"zh\",\n    croatian: \"hr\",\n    czech: \"cs\",\n    danish: \"da\",\n    dutch: \"nl\",\n    english: \"en\",\n    estonian: \"et\",\n    finnish: \"fi\",\n    french: \"fr\",\n    galician: \"gl\",\n    german: \"de\",\n    greek: \"el\",\n    hebrew: \"he\",\n    hindi: \"hi\",\n    hungarian: \"hu\",\n    icelandic: \"is\",\n    indonesian: \"id\",\n    italian: \"it\",\n    japanese: \"ja\",\n    kannada: \"kn\",\n    kazakh: \"kk\",\n    korean: \"ko\",\n    latvian: \"lv\",\n    lithuanian: \"lt\",\n    macedonian: \"mk\",\n    malay: \"ms\",\n    marathi: \"mr\",\n    maori: \"mi\",\n    nepali: \"ne\",\n    norwegian: \"no\",\n    persian: \"fa\",\n    polish: \"pl\",\n    portuguese: \"pt\",\n    romanian: \"ro\",\n    russian: \"ru\",\n    serbian: \"sr\",\n    slovak: \"sk\",\n    slovenian: \"sl\",\n    spanish: \"es\",\n    swahili: \"sw\",\n    swedish: \"sv\",\n    tagalog: \"tl\",\n    tamil: \"ta\",\n    thai: \"th\",\n    turkish: \"tr\",\n    ukrainian: \"uk\",\n    urdu: \"ur\",\n    vietnamese: \"vi\",\n    welsh: \"cy\"\n};\nvar OpenAITranscriptionModel = class {\n    constructor(modelId, config){\n        this.modelId = modelId;\n        this.config = config;\n        this.specificationVersion = \"v1\";\n    }\n    get provider() {\n        return this.config.provider;\n    }\n    getArgs({ audio, mediaType, providerOptions }) {\n        var _a, _b, _c, _d, _e;\n        const warnings = [];\n        const openAIOptions = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.parseProviderOptions)({\n            provider: \"openai\",\n            providerOptions,\n            schema: openAIProviderOptionsSchema\n        });\n        const formData = new FormData();\n        const blob = audio instanceof Uint8Array ? new Blob([\n            audio\n        ]) : new Blob([\n            (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.convertBase64ToUint8Array)(audio)\n        ]);\n        formData.append(\"model\", this.modelId);\n        formData.append(\"file\", new File([\n            blob\n        ], \"audio\", {\n            type: mediaType\n        }));\n        if (openAIOptions) {\n            const transcriptionModelOptions = {\n                include: (_a = openAIOptions.include) != null ? _a : void 0,\n                language: (_b = openAIOptions.language) != null ? _b : void 0,\n                prompt: (_c = openAIOptions.prompt) != null ? _c : void 0,\n                temperature: (_d = openAIOptions.temperature) != null ? _d : void 0,\n                timestamp_granularities: (_e = openAIOptions.timestampGranularities) != null ? _e : void 0\n            };\n            for(const key in transcriptionModelOptions){\n                const value = transcriptionModelOptions[key];\n                if (value !== void 0) {\n                    formData.append(key, String(value));\n                }\n            }\n        }\n        return {\n            formData,\n            warnings\n        };\n    }\n    async doGenerate(options) {\n        var _a, _b, _c, _d, _e, _f;\n        const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n        const { formData, warnings } = this.getArgs(options);\n        const { value: response, responseHeaders, rawValue: rawResponse } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postFormDataToApi)({\n            url: this.config.url({\n                path: \"/audio/transcriptions\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), options.headers),\n            formData,\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createJsonResponseHandler)(openaiTranscriptionResponseSchema),\n            abortSignal: options.abortSignal,\n            fetch: this.config.fetch\n        });\n        const language = response.language != null && response.language in languageMap ? languageMap[response.language] : void 0;\n        return {\n            text: response.text,\n            segments: (_e = (_d = response.words) == null ? void 0 : _d.map((word)=>({\n                    text: word.word,\n                    startSecond: word.start,\n                    endSecond: word.end\n                }))) != null ? _e : [],\n            language,\n            durationInSeconds: (_f = response.duration) != null ? _f : void 0,\n            warnings,\n            response: {\n                timestamp: currentDate,\n                modelId: this.modelId,\n                headers: responseHeaders,\n                body: rawResponse\n            }\n        };\n    }\n};\nvar openaiTranscriptionResponseSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    text: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n    language: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    duration: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n    words: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        word: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n        start: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n        end: zod__WEBPACK_IMPORTED_MODULE_2__.z.number()\n    })).nullish()\n});\n// src/responses/openai-responses-language-model.ts\n\n\n// src/responses/convert-to-openai-responses-messages.ts\n\n\nfunction convertToOpenAIResponsesMessages({ prompt, systemMessageMode }) {\n    const messages = [];\n    const warnings = [];\n    for (const { role, content } of prompt){\n        switch(role){\n            case \"system\":\n                {\n                    switch(systemMessageMode){\n                        case \"system\":\n                            {\n                                messages.push({\n                                    role: \"system\",\n                                    content\n                                });\n                                break;\n                            }\n                        case \"developer\":\n                            {\n                                messages.push({\n                                    role: \"developer\",\n                                    content\n                                });\n                                break;\n                            }\n                        case \"remove\":\n                            {\n                                warnings.push({\n                                    type: \"other\",\n                                    message: \"system messages are removed for this model\"\n                                });\n                                break;\n                            }\n                        default:\n                            {\n                                const _exhaustiveCheck = systemMessageMode;\n                                throw new Error(`Unsupported system message mode: ${_exhaustiveCheck}`);\n                            }\n                    }\n                    break;\n                }\n            case \"user\":\n                {\n                    messages.push({\n                        role: \"user\",\n                        content: content.map((part, index)=>{\n                            var _a, _b, _c, _d;\n                            switch(part.type){\n                                case \"text\":\n                                    {\n                                        return {\n                                            type: \"input_text\",\n                                            text: part.text\n                                        };\n                                    }\n                                case \"image\":\n                                    {\n                                        return {\n                                            type: \"input_image\",\n                                            image_url: part.image instanceof URL ? part.image.toString() : `data:${(_a = part.mimeType) != null ? _a : \"image/jpeg\"};base64,${(0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.convertUint8ArrayToBase64)(part.image)}`,\n                                            // OpenAI specific extension: image detail\n                                            detail: (_c = (_b = part.providerMetadata) == null ? void 0 : _b.openai) == null ? void 0 : _c.imageDetail\n                                        };\n                                    }\n                                case \"file\":\n                                    {\n                                        if (part.data instanceof URL) {\n                                            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                                                functionality: \"File URLs in user messages\"\n                                            });\n                                        }\n                                        switch(part.mimeType){\n                                            case \"application/pdf\":\n                                                {\n                                                    return {\n                                                        type: \"input_file\",\n                                                        filename: (_d = part.filename) != null ? _d : `part-${index}.pdf`,\n                                                        file_data: `data:application/pdf;base64,${part.data}`\n                                                    };\n                                                }\n                                            default:\n                                                {\n                                                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                                                        functionality: \"Only PDF files are supported in user messages\"\n                                                    });\n                                                }\n                                        }\n                                    }\n                            }\n                        })\n                    });\n                    break;\n                }\n            case \"assistant\":\n                {\n                    for (const part of content){\n                        switch(part.type){\n                            case \"text\":\n                                {\n                                    messages.push({\n                                        role: \"assistant\",\n                                        content: [\n                                            {\n                                                type: \"output_text\",\n                                                text: part.text\n                                            }\n                                        ]\n                                    });\n                                    break;\n                                }\n                            case \"tool-call\":\n                                {\n                                    messages.push({\n                                        type: \"function_call\",\n                                        call_id: part.toolCallId,\n                                        name: part.toolName,\n                                        arguments: JSON.stringify(part.args)\n                                    });\n                                    break;\n                                }\n                        }\n                    }\n                    break;\n                }\n            case \"tool\":\n                {\n                    for (const part of content){\n                        messages.push({\n                            type: \"function_call_output\",\n                            call_id: part.toolCallId,\n                            output: JSON.stringify(part.result)\n                        });\n                    }\n                    break;\n                }\n            default:\n                {\n                    const _exhaustiveCheck = role;\n                    throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n                }\n        }\n    }\n    return {\n        messages,\n        warnings\n    };\n}\n// src/responses/map-openai-responses-finish-reason.ts\nfunction mapOpenAIResponseFinishReason({ finishReason, hasToolCalls }) {\n    switch(finishReason){\n        case void 0:\n        case null:\n            return hasToolCalls ? \"tool-calls\" : \"stop\";\n        case \"max_output_tokens\":\n            return \"length\";\n        case \"content_filter\":\n            return \"content-filter\";\n        default:\n            return hasToolCalls ? \"tool-calls\" : \"unknown\";\n    }\n}\n// src/responses/openai-responses-prepare-tools.ts\n\nfunction prepareResponsesTools({ mode, strict }) {\n    var _a;\n    const tools = ((_a = mode.tools) == null ? void 0 : _a.length) ? mode.tools : void 0;\n    const toolWarnings = [];\n    if (tools == null) {\n        return {\n            tools: void 0,\n            tool_choice: void 0,\n            toolWarnings\n        };\n    }\n    const toolChoice = mode.toolChoice;\n    const openaiTools2 = [];\n    for (const tool of tools){\n        switch(tool.type){\n            case \"function\":\n                openaiTools2.push({\n                    type: \"function\",\n                    name: tool.name,\n                    description: tool.description,\n                    parameters: tool.parameters,\n                    strict: strict ? true : void 0\n                });\n                break;\n            case \"provider-defined\":\n                switch(tool.id){\n                    case \"openai.web_search_preview\":\n                        openaiTools2.push({\n                            type: \"web_search_preview\",\n                            search_context_size: tool.args.searchContextSize,\n                            user_location: tool.args.userLocation\n                        });\n                        break;\n                    default:\n                        toolWarnings.push({\n                            type: \"unsupported-tool\",\n                            tool\n                        });\n                        break;\n                }\n                break;\n            default:\n                toolWarnings.push({\n                    type: \"unsupported-tool\",\n                    tool\n                });\n                break;\n        }\n    }\n    if (toolChoice == null) {\n        return {\n            tools: openaiTools2,\n            tool_choice: void 0,\n            toolWarnings\n        };\n    }\n    const type = toolChoice.type;\n    switch(type){\n        case \"auto\":\n        case \"none\":\n        case \"required\":\n            return {\n                tools: openaiTools2,\n                tool_choice: type,\n                toolWarnings\n            };\n        case \"tool\":\n            {\n                if (toolChoice.toolName === \"web_search_preview\") {\n                    return {\n                        tools: openaiTools2,\n                        tool_choice: {\n                            type: \"web_search_preview\"\n                        },\n                        toolWarnings\n                    };\n                }\n                return {\n                    tools: openaiTools2,\n                    tool_choice: {\n                        type: \"function\",\n                        name: toolChoice.toolName\n                    },\n                    toolWarnings\n                };\n            }\n        default:\n            {\n                const _exhaustiveCheck = type;\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.UnsupportedFunctionalityError({\n                    functionality: `Unsupported tool choice type: ${_exhaustiveCheck}`\n                });\n            }\n    }\n}\n// src/responses/openai-responses-language-model.ts\nvar OpenAIResponsesLanguageModel = class {\n    constructor(modelId, config){\n        this.specificationVersion = \"v1\";\n        this.defaultObjectGenerationMode = \"json\";\n        this.supportsStructuredOutputs = true;\n        this.modelId = modelId;\n        this.config = config;\n    }\n    get provider() {\n        return this.config.provider;\n    }\n    getArgs({ mode, maxTokens, temperature, stopSequences, topP, topK, presencePenalty, frequencyPenalty, seed, prompt, providerMetadata, responseFormat }) {\n        var _a, _b, _c;\n        const warnings = [];\n        const modelConfig = getResponsesModelConfig(this.modelId);\n        const type = mode.type;\n        if (topK != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"topK\"\n            });\n        }\n        if (seed != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"seed\"\n            });\n        }\n        if (presencePenalty != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"presencePenalty\"\n            });\n        }\n        if (frequencyPenalty != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"frequencyPenalty\"\n            });\n        }\n        if (stopSequences != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"stopSequences\"\n            });\n        }\n        const { messages, warnings: messageWarnings } = convertToOpenAIResponsesMessages({\n            prompt,\n            systemMessageMode: modelConfig.systemMessageMode\n        });\n        warnings.push(...messageWarnings);\n        const openaiOptions = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.parseProviderOptions)({\n            provider: \"openai\",\n            providerOptions: providerMetadata,\n            schema: openaiResponsesProviderOptionsSchema\n        });\n        const isStrict = (_a = openaiOptions == null ? void 0 : openaiOptions.strictSchemas) != null ? _a : true;\n        const baseArgs = {\n            model: this.modelId,\n            input: messages,\n            temperature,\n            top_p: topP,\n            max_output_tokens: maxTokens,\n            ...(responseFormat == null ? void 0 : responseFormat.type) === \"json\" && {\n                text: {\n                    format: responseFormat.schema != null ? {\n                        type: \"json_schema\",\n                        strict: isStrict,\n                        name: (_b = responseFormat.name) != null ? _b : \"response\",\n                        description: responseFormat.description,\n                        schema: responseFormat.schema\n                    } : {\n                        type: \"json_object\"\n                    }\n                }\n            },\n            // provider options:\n            metadata: openaiOptions == null ? void 0 : openaiOptions.metadata,\n            parallel_tool_calls: openaiOptions == null ? void 0 : openaiOptions.parallelToolCalls,\n            previous_response_id: openaiOptions == null ? void 0 : openaiOptions.previousResponseId,\n            store: openaiOptions == null ? void 0 : openaiOptions.store,\n            user: openaiOptions == null ? void 0 : openaiOptions.user,\n            instructions: openaiOptions == null ? void 0 : openaiOptions.instructions,\n            // model-specific settings:\n            ...modelConfig.isReasoningModel && (openaiOptions == null ? void 0 : openaiOptions.reasoningEffort) != null && {\n                reasoning: {\n                    effort: openaiOptions == null ? void 0 : openaiOptions.reasoningEffort\n                }\n            },\n            ...modelConfig.requiredAutoTruncation && {\n                truncation: \"auto\"\n            }\n        };\n        if (modelConfig.isReasoningModel) {\n            if (baseArgs.temperature != null) {\n                baseArgs.temperature = void 0;\n                warnings.push({\n                    type: \"unsupported-setting\",\n                    setting: \"temperature\",\n                    details: \"temperature is not supported for reasoning models\"\n                });\n            }\n            if (baseArgs.top_p != null) {\n                baseArgs.top_p = void 0;\n                warnings.push({\n                    type: \"unsupported-setting\",\n                    setting: \"topP\",\n                    details: \"topP is not supported for reasoning models\"\n                });\n            }\n        }\n        switch(type){\n            case \"regular\":\n                {\n                    const { tools, tool_choice, toolWarnings } = prepareResponsesTools({\n                        mode,\n                        strict: isStrict\n                    });\n                    return {\n                        args: {\n                            ...baseArgs,\n                            tools,\n                            tool_choice\n                        },\n                        warnings: [\n                            ...warnings,\n                            ...toolWarnings\n                        ]\n                    };\n                }\n            case \"object-json\":\n                {\n                    return {\n                        args: {\n                            ...baseArgs,\n                            text: {\n                                format: mode.schema != null ? {\n                                    type: \"json_schema\",\n                                    strict: isStrict,\n                                    name: (_c = mode.name) != null ? _c : \"response\",\n                                    description: mode.description,\n                                    schema: mode.schema\n                                } : {\n                                    type: \"json_object\"\n                                }\n                            }\n                        },\n                        warnings\n                    };\n                }\n            case \"object-tool\":\n                {\n                    return {\n                        args: {\n                            ...baseArgs,\n                            tool_choice: {\n                                type: \"function\",\n                                name: mode.tool.name\n                            },\n                            tools: [\n                                {\n                                    type: \"function\",\n                                    name: mode.tool.name,\n                                    description: mode.tool.description,\n                                    parameters: mode.tool.parameters,\n                                    strict: isStrict\n                                }\n                            ]\n                        },\n                        warnings\n                    };\n                }\n            default:\n                {\n                    const _exhaustiveCheck = type;\n                    throw new Error(`Unsupported type: ${_exhaustiveCheck}`);\n                }\n        }\n    }\n    async doGenerate(options) {\n        var _a, _b, _c, _d, _e;\n        const { args: body, warnings } = this.getArgs(options);\n        const { responseHeaders, value: response, rawValue: rawResponse } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/responses\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), options.headers),\n            body,\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createJsonResponseHandler)(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                created_at: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n                model: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                output: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.discriminatedUnion(\"type\", [\n                    zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                        type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"message\"),\n                        role: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"assistant\"),\n                        content: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                            type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"output_text\"),\n                            text: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                            annotations: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                                type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"url_citation\"),\n                                start_index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n                                end_index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n                                url: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                                title: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n                            }))\n                        }))\n                    }),\n                    zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                        type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"function_call\"),\n                        call_id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                        name: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                        arguments: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n                    }),\n                    zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                        type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"web_search_call\")\n                    }),\n                    zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                        type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"computer_call\")\n                    }),\n                    zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                        type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"reasoning\")\n                    })\n                ])),\n                incomplete_details: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                    reason: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n                }).nullable(),\n                usage: usageSchema\n            })),\n            abortSignal: options.abortSignal,\n            fetch: this.config.fetch\n        });\n        const outputTextElements = response.output.filter((output)=>output.type === \"message\").flatMap((output)=>output.content).filter((content)=>content.type === \"output_text\");\n        const toolCalls = response.output.filter((output)=>output.type === \"function_call\").map((output)=>({\n                toolCallType: \"function\",\n                toolCallId: output.call_id,\n                toolName: output.name,\n                args: output.arguments\n            }));\n        return {\n            text: outputTextElements.map((content)=>content.text).join(\"\\n\"),\n            sources: outputTextElements.flatMap((content)=>content.annotations.map((annotation)=>{\n                    var _a2, _b2, _c2;\n                    return {\n                        sourceType: \"url\",\n                        id: (_c2 = (_b2 = (_a2 = this.config).generateId) == null ? void 0 : _b2.call(_a2)) != null ? _c2 : (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId)(),\n                        url: annotation.url,\n                        title: annotation.title\n                    };\n                })),\n            finishReason: mapOpenAIResponseFinishReason({\n                finishReason: (_a = response.incomplete_details) == null ? void 0 : _a.reason,\n                hasToolCalls: toolCalls.length > 0\n            }),\n            toolCalls: toolCalls.length > 0 ? toolCalls : void 0,\n            usage: {\n                promptTokens: response.usage.input_tokens,\n                completionTokens: response.usage.output_tokens\n            },\n            rawCall: {\n                rawPrompt: void 0,\n                rawSettings: {}\n            },\n            rawResponse: {\n                headers: responseHeaders,\n                body: rawResponse\n            },\n            request: {\n                body: JSON.stringify(body)\n            },\n            response: {\n                id: response.id,\n                timestamp: new Date(response.created_at * 1e3),\n                modelId: response.model\n            },\n            providerMetadata: {\n                openai: {\n                    responseId: response.id,\n                    cachedPromptTokens: (_c = (_b = response.usage.input_tokens_details) == null ? void 0 : _b.cached_tokens) != null ? _c : null,\n                    reasoningTokens: (_e = (_d = response.usage.output_tokens_details) == null ? void 0 : _d.reasoning_tokens) != null ? _e : null\n                }\n            },\n            warnings\n        };\n    }\n    async doStream(options) {\n        const { args: body, warnings } = this.getArgs(options);\n        const { responseHeaders, value: response } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/responses\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), options.headers),\n            body: {\n                ...body,\n                stream: true\n            },\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createEventSourceResponseHandler)(openaiResponsesChunkSchema),\n            abortSignal: options.abortSignal,\n            fetch: this.config.fetch\n        });\n        const self = this;\n        let finishReason = \"unknown\";\n        let promptTokens = NaN;\n        let completionTokens = NaN;\n        let cachedPromptTokens = null;\n        let reasoningTokens = null;\n        let responseId = null;\n        const ongoingToolCalls = {};\n        let hasToolCalls = false;\n        return {\n            stream: response.pipeThrough(new TransformStream({\n                transform (chunk, controller) {\n                    var _a, _b, _c, _d, _e, _f, _g, _h;\n                    if (!chunk.success) {\n                        finishReason = \"error\";\n                        controller.enqueue({\n                            type: \"error\",\n                            error: chunk.error\n                        });\n                        return;\n                    }\n                    const value = chunk.value;\n                    if (isResponseOutputItemAddedChunk(value)) {\n                        if (value.item.type === \"function_call\") {\n                            ongoingToolCalls[value.output_index] = {\n                                toolName: value.item.name,\n                                toolCallId: value.item.call_id\n                            };\n                            controller.enqueue({\n                                type: \"tool-call-delta\",\n                                toolCallType: \"function\",\n                                toolCallId: value.item.call_id,\n                                toolName: value.item.name,\n                                argsTextDelta: value.item.arguments\n                            });\n                        }\n                    } else if (isResponseFunctionCallArgumentsDeltaChunk(value)) {\n                        const toolCall = ongoingToolCalls[value.output_index];\n                        if (toolCall != null) {\n                            controller.enqueue({\n                                type: \"tool-call-delta\",\n                                toolCallType: \"function\",\n                                toolCallId: toolCall.toolCallId,\n                                toolName: toolCall.toolName,\n                                argsTextDelta: value.delta\n                            });\n                        }\n                    } else if (isResponseCreatedChunk(value)) {\n                        responseId = value.response.id;\n                        controller.enqueue({\n                            type: \"response-metadata\",\n                            id: value.response.id,\n                            timestamp: new Date(value.response.created_at * 1e3),\n                            modelId: value.response.model\n                        });\n                    } else if (isTextDeltaChunk(value)) {\n                        controller.enqueue({\n                            type: \"text-delta\",\n                            textDelta: value.delta\n                        });\n                    } else if (isResponseOutputItemDoneChunk(value) && value.item.type === \"function_call\") {\n                        ongoingToolCalls[value.output_index] = void 0;\n                        hasToolCalls = true;\n                        controller.enqueue({\n                            type: \"tool-call\",\n                            toolCallType: \"function\",\n                            toolCallId: value.item.call_id,\n                            toolName: value.item.name,\n                            args: value.item.arguments\n                        });\n                    } else if (isResponseFinishedChunk(value)) {\n                        finishReason = mapOpenAIResponseFinishReason({\n                            finishReason: (_a = value.response.incomplete_details) == null ? void 0 : _a.reason,\n                            hasToolCalls\n                        });\n                        promptTokens = value.response.usage.input_tokens;\n                        completionTokens = value.response.usage.output_tokens;\n                        cachedPromptTokens = (_c = (_b = value.response.usage.input_tokens_details) == null ? void 0 : _b.cached_tokens) != null ? _c : cachedPromptTokens;\n                        reasoningTokens = (_e = (_d = value.response.usage.output_tokens_details) == null ? void 0 : _d.reasoning_tokens) != null ? _e : reasoningTokens;\n                    } else if (isResponseAnnotationAddedChunk(value)) {\n                        controller.enqueue({\n                            type: \"source\",\n                            source: {\n                                sourceType: \"url\",\n                                id: (_h = (_g = (_f = self.config).generateId) == null ? void 0 : _g.call(_f)) != null ? _h : (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId)(),\n                                url: value.annotation.url,\n                                title: value.annotation.title\n                            }\n                        });\n                    }\n                },\n                flush (controller) {\n                    controller.enqueue({\n                        type: \"finish\",\n                        finishReason,\n                        usage: {\n                            promptTokens,\n                            completionTokens\n                        },\n                        ...(cachedPromptTokens != null || reasoningTokens != null) && {\n                            providerMetadata: {\n                                openai: {\n                                    responseId,\n                                    cachedPromptTokens,\n                                    reasoningTokens\n                                }\n                            }\n                        }\n                    });\n                }\n            })),\n            rawCall: {\n                rawPrompt: void 0,\n                rawSettings: {}\n            },\n            rawResponse: {\n                headers: responseHeaders\n            },\n            request: {\n                body: JSON.stringify(body)\n            },\n            warnings\n        };\n    }\n};\nvar usageSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    input_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n    input_tokens_details: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        cached_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish()\n    }).nullish(),\n    output_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n    output_tokens_details: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        reasoning_tokens: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish()\n    }).nullish()\n});\nvar textDeltaChunkSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"response.output_text.delta\"),\n    delta: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n});\nvar responseFinishedChunkSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_2__.z.enum([\n        \"response.completed\",\n        \"response.incomplete\"\n    ]),\n    response: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        incomplete_details: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            reason: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n        }).nullish(),\n        usage: usageSchema\n    })\n});\nvar responseCreatedChunkSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"response.created\"),\n    response: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n        created_at: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n        model: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n    })\n});\nvar responseOutputItemDoneSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"response.output_item.done\"),\n    output_index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n    item: zod__WEBPACK_IMPORTED_MODULE_2__.z.discriminatedUnion(\"type\", [\n        zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"message\")\n        }),\n        zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"function_call\"),\n            id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            call_id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            name: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            arguments: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            status: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"completed\")\n        })\n    ])\n});\nvar responseFunctionCallArgumentsDeltaSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"response.function_call_arguments.delta\"),\n    item_id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n    output_index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n    delta: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n});\nvar responseOutputItemAddedSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"response.output_item.added\"),\n    output_index: zod__WEBPACK_IMPORTED_MODULE_2__.z.number(),\n    item: zod__WEBPACK_IMPORTED_MODULE_2__.z.discriminatedUnion(\"type\", [\n        zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"message\")\n        }),\n        zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"function_call\"),\n            id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            call_id: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            name: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            arguments: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n        })\n    ])\n});\nvar responseAnnotationAddedSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"response.output_text.annotation.added\"),\n    annotation: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        type: zod__WEBPACK_IMPORTED_MODULE_2__.z.literal(\"url_citation\"),\n        url: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n        title: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n    })\n});\nvar openaiResponsesChunkSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.union([\n    textDeltaChunkSchema,\n    responseFinishedChunkSchema,\n    responseCreatedChunkSchema,\n    responseOutputItemDoneSchema,\n    responseFunctionCallArgumentsDeltaSchema,\n    responseOutputItemAddedSchema,\n    responseAnnotationAddedSchema,\n    zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        type: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n    }).passthrough()\n]);\nfunction isTextDeltaChunk(chunk) {\n    return chunk.type === \"response.output_text.delta\";\n}\nfunction isResponseOutputItemDoneChunk(chunk) {\n    return chunk.type === \"response.output_item.done\";\n}\nfunction isResponseFinishedChunk(chunk) {\n    return chunk.type === \"response.completed\" || chunk.type === \"response.incomplete\";\n}\nfunction isResponseCreatedChunk(chunk) {\n    return chunk.type === \"response.created\";\n}\nfunction isResponseFunctionCallArgumentsDeltaChunk(chunk) {\n    return chunk.type === \"response.function_call_arguments.delta\";\n}\nfunction isResponseOutputItemAddedChunk(chunk) {\n    return chunk.type === \"response.output_item.added\";\n}\nfunction isResponseAnnotationAddedChunk(chunk) {\n    return chunk.type === \"response.output_text.annotation.added\";\n}\nfunction getResponsesModelConfig(modelId) {\n    if (modelId.startsWith(\"o\")) {\n        if (modelId.startsWith(\"o1-mini\") || modelId.startsWith(\"o1-preview\")) {\n            return {\n                isReasoningModel: true,\n                systemMessageMode: \"remove\",\n                requiredAutoTruncation: false\n            };\n        }\n        return {\n            isReasoningModel: true,\n            systemMessageMode: \"developer\",\n            requiredAutoTruncation: false\n        };\n    }\n    return {\n        isReasoningModel: false,\n        systemMessageMode: \"system\",\n        requiredAutoTruncation: false\n    };\n}\nvar openaiResponsesProviderOptionsSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    metadata: zod__WEBPACK_IMPORTED_MODULE_2__.z.any().nullish(),\n    parallelToolCalls: zod__WEBPACK_IMPORTED_MODULE_2__.z.boolean().nullish(),\n    previousResponseId: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    store: zod__WEBPACK_IMPORTED_MODULE_2__.z.boolean().nullish(),\n    user: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    reasoningEffort: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    strictSchemas: zod__WEBPACK_IMPORTED_MODULE_2__.z.boolean().nullish(),\n    instructions: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish()\n});\n// src/openai-tools.ts\n\nvar WebSearchPreviewParameters = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({});\nfunction webSearchPreviewTool({ searchContextSize, userLocation } = {}) {\n    return {\n        type: \"provider-defined\",\n        id: \"openai.web_search_preview\",\n        args: {\n            searchContextSize,\n            userLocation\n        },\n        parameters: WebSearchPreviewParameters\n    };\n}\nvar openaiTools = {\n    webSearchPreview: webSearchPreviewTool\n};\n// src/openai-speech-model.ts\n\n\nvar OpenAIProviderOptionsSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    instructions: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    speed: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().min(0.25).max(4).default(1).nullish()\n});\nvar OpenAISpeechModel = class {\n    constructor(modelId, config){\n        this.modelId = modelId;\n        this.config = config;\n        this.specificationVersion = \"v1\";\n    }\n    get provider() {\n        return this.config.provider;\n    }\n    getArgs({ text, voice = \"alloy\", outputFormat = \"mp3\", speed, instructions, providerOptions }) {\n        const warnings = [];\n        const openAIOptions = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.parseProviderOptions)({\n            provider: \"openai\",\n            providerOptions,\n            schema: OpenAIProviderOptionsSchema\n        });\n        const requestBody = {\n            model: this.modelId,\n            input: text,\n            voice,\n            response_format: \"mp3\",\n            speed,\n            instructions\n        };\n        if (outputFormat) {\n            if ([\n                \"mp3\",\n                \"opus\",\n                \"aac\",\n                \"flac\",\n                \"wav\",\n                \"pcm\"\n            ].includes(outputFormat)) {\n                requestBody.response_format = outputFormat;\n            } else {\n                warnings.push({\n                    type: \"unsupported-setting\",\n                    setting: \"outputFormat\",\n                    details: `Unsupported output format: ${outputFormat}. Using mp3 instead.`\n                });\n            }\n        }\n        if (openAIOptions) {\n            const speechModelOptions = {};\n            for(const key in speechModelOptions){\n                const value = speechModelOptions[key];\n                if (value !== void 0) {\n                    requestBody[key] = value;\n                }\n            }\n        }\n        return {\n            requestBody,\n            warnings\n        };\n    }\n    async doGenerate(options) {\n        var _a, _b, _c;\n        const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n        const { requestBody, warnings } = this.getArgs(options);\n        const { value: audio, responseHeaders, rawValue: rawResponse } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.postJsonToApi)({\n            url: this.config.url({\n                path: \"/audio/speech\",\n                modelId: this.modelId\n            }),\n            headers: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.combineHeaders)(this.config.headers(), options.headers),\n            body: requestBody,\n            failedResponseHandler: openaiFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.createBinaryResponseHandler)(),\n            abortSignal: options.abortSignal,\n            fetch: this.config.fetch\n        });\n        return {\n            audio,\n            warnings,\n            request: {\n                body: JSON.stringify(requestBody)\n            },\n            response: {\n                timestamp: currentDate,\n                modelId: this.modelId,\n                headers: responseHeaders,\n                body: rawResponse\n            }\n        };\n    }\n};\n// src/openai-provider.ts\nfunction createOpenAI(options = {}) {\n    var _a, _b, _c;\n    const baseURL = (_a = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.withoutTrailingSlash)(options.baseURL)) != null ? _a : \"https://api.openai.com/v1\";\n    const compatibility = (_b = options.compatibility) != null ? _b : \"compatible\";\n    const providerName = (_c = options.name) != null ? _c : \"openai\";\n    const getHeaders = ()=>({\n            Authorization: `Bearer ${(0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.loadApiKey)({\n                apiKey: options.apiKey,\n                environmentVariableName: \"OPENAI_API_KEY\",\n                description: \"OpenAI\"\n            })}`,\n            \"OpenAI-Organization\": options.organization,\n            \"OpenAI-Project\": options.project,\n            ...options.headers\n        });\n    const createChatModel = (modelId, settings = {})=>new OpenAIChatLanguageModel(modelId, settings, {\n            provider: `${providerName}.chat`,\n            url: ({ path })=>`${baseURL}${path}`,\n            headers: getHeaders,\n            compatibility,\n            fetch: options.fetch\n        });\n    const createCompletionModel = (modelId, settings = {})=>new OpenAICompletionLanguageModel(modelId, settings, {\n            provider: `${providerName}.completion`,\n            url: ({ path })=>`${baseURL}${path}`,\n            headers: getHeaders,\n            compatibility,\n            fetch: options.fetch\n        });\n    const createEmbeddingModel = (modelId, settings = {})=>new OpenAIEmbeddingModel(modelId, settings, {\n            provider: `${providerName}.embedding`,\n            url: ({ path })=>`${baseURL}${path}`,\n            headers: getHeaders,\n            fetch: options.fetch\n        });\n    const createImageModel = (modelId, settings = {})=>new OpenAIImageModel(modelId, settings, {\n            provider: `${providerName}.image`,\n            url: ({ path })=>`${baseURL}${path}`,\n            headers: getHeaders,\n            fetch: options.fetch\n        });\n    const createTranscriptionModel = (modelId)=>new OpenAITranscriptionModel(modelId, {\n            provider: `${providerName}.transcription`,\n            url: ({ path })=>`${baseURL}${path}`,\n            headers: getHeaders,\n            fetch: options.fetch\n        });\n    const createSpeechModel = (modelId)=>new OpenAISpeechModel(modelId, {\n            provider: `${providerName}.speech`,\n            url: ({ path })=>`${baseURL}${path}`,\n            headers: getHeaders,\n            fetch: options.fetch\n        });\n    const createLanguageModel = (modelId, settings)=>{\n        if (new.target) {\n            throw new Error(\"The OpenAI model function cannot be called with the new keyword.\");\n        }\n        if (modelId === \"gpt-3.5-turbo-instruct\") {\n            return createCompletionModel(modelId, settings);\n        }\n        return createChatModel(modelId, settings);\n    };\n    const createResponsesModel = (modelId)=>{\n        return new OpenAIResponsesLanguageModel(modelId, {\n            provider: `${providerName}.responses`,\n            url: ({ path })=>`${baseURL}${path}`,\n            headers: getHeaders,\n            fetch: options.fetch\n        });\n    };\n    const provider = function(modelId, settings) {\n        return createLanguageModel(modelId, settings);\n    };\n    provider.languageModel = createLanguageModel;\n    provider.chat = createChatModel;\n    provider.completion = createCompletionModel;\n    provider.responses = createResponsesModel;\n    provider.embedding = createEmbeddingModel;\n    provider.textEmbedding = createEmbeddingModel;\n    provider.textEmbeddingModel = createEmbeddingModel;\n    provider.image = createImageModel;\n    provider.imageModel = createImageModel;\n    provider.transcription = createTranscriptionModel;\n    provider.transcriptionModel = createTranscriptionModel;\n    provider.speech = createSpeechModel;\n    provider.speechModel = createSpeechModel;\n    provider.tools = openaiTools;\n    return provider;\n}\nvar openai = createOpenAI({\n    compatibility: \"strict\"\n});\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGFpLXNkay9vcGVuYWkvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSx5QkFBeUI7QUFJTztBQUVoQyxvQ0FBb0M7QUFJVjtBQVFNO0FBQ0Y7QUFFOUIseUNBQXlDO0FBR2Y7QUFDeUM7QUFDbkUsU0FBU2MsNEJBQTRCLEVBQ25DQyxNQUFNLEVBQ05DLDJCQUEyQixLQUFLLEVBQ2hDQyxvQkFBb0IsUUFBUSxFQUM3QjtJQUNDLE1BQU1DLFdBQVcsRUFBRTtJQUNuQixNQUFNQyxXQUFXLEVBQUU7SUFDbkIsS0FBSyxNQUFNLEVBQUVDLElBQUksRUFBRUMsT0FBTyxFQUFFLElBQUlOLE9BQVE7UUFDdEMsT0FBUUs7WUFDTixLQUFLO2dCQUFVO29CQUNiLE9BQVFIO3dCQUNOLEtBQUs7NEJBQVU7Z0NBQ2JDLFNBQVNJLElBQUksQ0FBQztvQ0FBRUYsTUFBTTtvQ0FBVUM7Z0NBQVE7Z0NBQ3hDOzRCQUNGO3dCQUNBLEtBQUs7NEJBQWE7Z0NBQ2hCSCxTQUFTSSxJQUFJLENBQUM7b0NBQUVGLE1BQU07b0NBQWFDO2dDQUFRO2dDQUMzQzs0QkFDRjt3QkFDQSxLQUFLOzRCQUFVO2dDQUNiRixTQUFTRyxJQUFJLENBQUM7b0NBQ1pDLE1BQU07b0NBQ05DLFNBQVM7Z0NBQ1g7Z0NBQ0E7NEJBQ0Y7d0JBQ0E7NEJBQVM7Z0NBQ1AsTUFBTUMsbUJBQW1CUjtnQ0FDekIsTUFBTSxJQUFJUyxNQUNSLENBQUMsaUNBQWlDLEVBQUVELGlCQUFpQixDQUFDOzRCQUUxRDtvQkFDRjtvQkFDQTtnQkFDRjtZQUNBLEtBQUs7Z0JBQVE7b0JBQ1gsSUFBSUosUUFBUU0sTUFBTSxLQUFLLEtBQUtOLE9BQU8sQ0FBQyxFQUFFLENBQUNFLElBQUksS0FBSyxRQUFRO3dCQUN0REwsU0FBU0ksSUFBSSxDQUFDOzRCQUFFRixNQUFNOzRCQUFRQyxTQUFTQSxPQUFPLENBQUMsRUFBRSxDQUFDTyxJQUFJO3dCQUFDO3dCQUN2RDtvQkFD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NUIsT0FBTyxFQUFFcUIsUUFBUTtRQUN6QyxPQUFPbVosb0JBQW9CeGEsU0FBU3FCO0lBQ3RDO0lBQ0FPLFNBQVM4WSxhQUFhLEdBQUdGO0lBQ3pCNVksU0FBUytZLElBQUksR0FBR1Q7SUFDaEJ0WSxTQUFTZ1osVUFBVSxHQUFHVDtJQUN0QnZZLFNBQVNpWixTQUFTLEdBQUdKO0lBQ3JCN1ksU0FBUzBLLFNBQVMsR0FBRzhOO0lBQ3JCeFksU0FBU2taLGFBQWEsR0FBR1Y7SUFDekJ4WSxTQUFTbVosa0JBQWtCLEdBQUdYO0lBQzlCeFksU0FBU3JGLEtBQUssR0FBRzhkO0lBQ2pCelksU0FBU29aLFVBQVUsR0FBR1g7SUFDdEJ6WSxTQUFTcVosYUFBYSxHQUFHWDtJQUN6QjFZLFNBQVNzWixrQkFBa0IsR0FBR1o7SUFDOUIxWSxTQUFTdVosTUFBTSxHQUFHWjtJQUNsQjNZLFNBQVN3WixXQUFXLEdBQUdiO0lBQ3ZCM1ksU0FBU3JCLEtBQUssR0FBR21ZO0lBQ2pCLE9BQU85VztBQUNUO0FBQ0EsSUFBSS9FLFNBQVM0YyxhQUFhO0lBQ3hCM1IsZUFBZTtBQUVqQjtBQUlFLENBQ0Ysa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbm9kZV9tb2R1bGVzL0BhaS1zZGsvb3BlbmFpL2Rpc3QvaW5kZXgubWpzP2VlNDMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL29wZW5haS1wcm92aWRlci50c1xuaW1wb3J0IHtcbiAgbG9hZEFwaUtleSxcbiAgd2l0aG91dFRyYWlsaW5nU2xhc2hcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcblxuLy8gc3JjL29wZW5haS1jaGF0LWxhbmd1YWdlLW1vZGVsLnRzXG5pbXBvcnQge1xuICBJbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3IsXG4gIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yIGFzIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yM1xufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHtcbiAgY29tYmluZUhlYWRlcnMsXG4gIGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyLFxuICBnZW5lcmF0ZUlkLFxuICBpc1BhcnNhYmxlSnNvbixcbiAgcG9zdEpzb25Ub0FwaVxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuaW1wb3J0IHsgeiBhcyB6MiB9IGZyb20gXCJ6b2RcIjtcblxuLy8gc3JjL2NvbnZlcnQtdG8tb3BlbmFpLWNoYXQtbWVzc2FnZXMudHNcbmltcG9ydCB7XG4gIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQgeyBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0IH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcbmZ1bmN0aW9uIGNvbnZlcnRUb09wZW5BSUNoYXRNZXNzYWdlcyh7XG4gIHByb21wdCxcbiAgdXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nID0gZmFsc2UsXG4gIHN5c3RlbU1lc3NhZ2VNb2RlID0gXCJzeXN0ZW1cIlxufSkge1xuICBjb25zdCBtZXNzYWdlcyA9IFtdO1xuICBjb25zdCB3YXJuaW5ncyA9IFtdO1xuICBmb3IgKGNvbnN0IHsgcm9sZSwgY29udGVudCB9IG9mIHByb21wdCkge1xuICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgY2FzZSBcInN5c3RlbVwiOiB7XG4gICAgICAgIHN3aXRjaCAoc3lzdGVtTWVzc2FnZU1vZGUpIHtcbiAgICAgICAgICBjYXNlIFwic3lzdGVtXCI6IHtcbiAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goeyByb2xlOiBcInN5c3RlbVwiLCBjb250ZW50IH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJkZXZlbG9wZXJcIjoge1xuICAgICAgICAgICAgbWVzc2FnZXMucHVzaCh7IHJvbGU6IFwiZGV2ZWxvcGVyXCIsIGNvbnRlbnQgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICAgICAgdHlwZTogXCJvdGhlclwiLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBcInN5c3RlbSBtZXNzYWdlcyBhcmUgcmVtb3ZlZCBmb3IgdGhpcyBtb2RlbFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gc3lzdGVtTWVzc2FnZU1vZGU7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBVbnN1cHBvcnRlZCBzeXN0ZW0gbWVzc2FnZSBtb2RlOiAke19leGhhdXN0aXZlQ2hlY2t9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwidXNlclwiOiB7XG4gICAgICAgIGlmIChjb250ZW50Lmxlbmd0aCA9PT0gMSAmJiBjb250ZW50WzBdLnR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgICAgICAgbWVzc2FnZXMucHVzaCh7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBjb250ZW50WzBdLnRleHQgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgY29udGVudDogY29udGVudC5tYXAoKHBhcnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IHBhcnQudGV4dCB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgXCJpbWFnZVwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwiaW1hZ2VfdXJsXCIsXG4gICAgICAgICAgICAgICAgICBpbWFnZV91cmw6IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXJ0LmltYWdlIGluc3RhbmNlb2YgVVJMID8gcGFydC5pbWFnZS50b1N0cmluZygpIDogYGRhdGE6JHsoX2EgPSBwYXJ0Lm1pbWVUeXBlKSAhPSBudWxsID8gX2EgOiBcImltYWdlL2pwZWdcIn07YmFzZTY0LCR7Y29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NChwYXJ0LmltYWdlKX1gLFxuICAgICAgICAgICAgICAgICAgICAvLyBPcGVuQUkgc3BlY2lmaWMgZXh0ZW5zaW9uOiBpbWFnZSBkZXRhaWxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiAoX2MgPSAoX2IgPSBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfYi5vcGVuYWkpID09IG51bGwgPyB2b2lkIDAgOiBfYy5pbWFnZURldGFpbFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2FzZSBcImZpbGVcIjoge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0LmRhdGEgaW5zdGFuY2VvZiBVUkwpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uYWxpdHk6IFwiJ0ZpbGUgY29udGVudCBwYXJ0cyB3aXRoIFVSTCBkYXRhJyBmdW5jdGlvbmFsaXR5IG5vdCBzdXBwb3J0ZWQuXCJcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHBhcnQubWltZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJhdWRpby93YXZcIjoge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiaW5wdXRfYXVkaW9cIixcbiAgICAgICAgICAgICAgICAgICAgICBpbnB1dF9hdWRpbzogeyBkYXRhOiBwYXJ0LmRhdGEsIGZvcm1hdDogXCJ3YXZcIiB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiYXVkaW8vbXAzXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiYXVkaW8vbXBlZ1wiOiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJpbnB1dF9hdWRpb1wiLFxuICAgICAgICAgICAgICAgICAgICAgIGlucHV0X2F1ZGlvOiB7IGRhdGE6IHBhcnQuZGF0YSwgZm9ybWF0OiBcIm1wM1wiIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJhcHBsaWNhdGlvbi9wZGZcIjoge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZmlsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiAoX2QgPSBwYXJ0LmZpbGVuYW1lKSAhPSBudWxsID8gX2QgOiBgcGFydC0ke2luZGV4fS5wZGZgLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRhOiBgZGF0YTphcHBsaWNhdGlvbi9wZGY7YmFzZTY0LCR7cGFydC5kYXRhfWBcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25hbGl0eTogYEZpbGUgY29udGVudCBwYXJ0IHR5cGUgJHtwYXJ0Lm1pbWVUeXBlfSBpbiB1c2VyIG1lc3NhZ2VzYFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiYXNzaXN0YW50XCI6IHtcbiAgICAgICAgbGV0IHRleHQgPSBcIlwiO1xuICAgICAgICBjb25zdCB0b29sQ2FsbHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIGNvbnRlbnQpIHtcbiAgICAgICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInRleHRcIjoge1xuICAgICAgICAgICAgICB0ZXh0ICs9IHBhcnQudGV4dDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vbC1jYWxsXCI6IHtcbiAgICAgICAgICAgICAgdG9vbENhbGxzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBwYXJ0LnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiBKU09OLnN0cmluZ2lmeShwYXJ0LmFyZ3MpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VMZWdhY3lGdW5jdGlvbkNhbGxpbmcpIHtcbiAgICAgICAgICBpZiAodG9vbENhbGxzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcih7XG4gICAgICAgICAgICAgIGZ1bmN0aW9uYWxpdHk6IFwidXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nIHdpdGggbXVsdGlwbGUgdG9vbCBjYWxscyBpbiBvbmUgbWVzc2FnZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgICAgY29udGVudDogdGV4dCxcbiAgICAgICAgICAgIGZ1bmN0aW9uX2NhbGw6IHRvb2xDYWxscy5sZW5ndGggPiAwID8gdG9vbENhbGxzWzBdLmZ1bmN0aW9uIDogdm9pZCAwXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgICAgY29udGVudDogdGV4dCxcbiAgICAgICAgICAgIHRvb2xfY2FsbHM6IHRvb2xDYWxscy5sZW5ndGggPiAwID8gdG9vbENhbGxzIDogdm9pZCAwXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwidG9vbFwiOiB7XG4gICAgICAgIGZvciAoY29uc3QgdG9vbFJlc3BvbnNlIG9mIGNvbnRlbnQpIHtcbiAgICAgICAgICBpZiAodXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nKSB7XG4gICAgICAgICAgICBtZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgcm9sZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICBuYW1lOiB0b29sUmVzcG9uc2UudG9vbE5hbWUsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHRvb2xSZXNwb25zZS5yZXN1bHQpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgIHJvbGU6IFwidG9vbFwiLFxuICAgICAgICAgICAgICB0b29sX2NhbGxfaWQ6IHRvb2xSZXNwb25zZS50b29sQ2FsbElkLFxuICAgICAgICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeSh0b29sUmVzcG9uc2UucmVzdWx0KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gcm9sZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCByb2xlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB7IG1lc3NhZ2VzLCB3YXJuaW5ncyB9O1xufVxuXG4vLyBzcmMvbWFwLW9wZW5haS1jaGF0LWxvZ3Byb2JzLnRzXG5mdW5jdGlvbiBtYXBPcGVuQUlDaGF0TG9nUHJvYnNPdXRwdXQobG9ncHJvYnMpIHtcbiAgdmFyIF9hLCBfYjtcbiAgcmV0dXJuIChfYiA9IChfYSA9IGxvZ3Byb2JzID09IG51bGwgPyB2b2lkIDAgOiBsb2dwcm9icy5jb250ZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EubWFwKCh7IHRva2VuLCBsb2dwcm9iLCB0b3BfbG9ncHJvYnMgfSkgPT4gKHtcbiAgICB0b2tlbixcbiAgICBsb2dwcm9iLFxuICAgIHRvcExvZ3Byb2JzOiB0b3BfbG9ncHJvYnMgPyB0b3BfbG9ncHJvYnMubWFwKCh7IHRva2VuOiB0b2tlbjIsIGxvZ3Byb2I6IGxvZ3Byb2IyIH0pID0+ICh7XG4gICAgICB0b2tlbjogdG9rZW4yLFxuICAgICAgbG9ncHJvYjogbG9ncHJvYjJcbiAgICB9KSkgOiBbXVxuICB9KSkpICE9IG51bGwgPyBfYiA6IHZvaWQgMDtcbn1cblxuLy8gc3JjL21hcC1vcGVuYWktZmluaXNoLXJlYXNvbi50c1xuZnVuY3Rpb24gbWFwT3BlbkFJRmluaXNoUmVhc29uKGZpbmlzaFJlYXNvbikge1xuICBzd2l0Y2ggKGZpbmlzaFJlYXNvbikge1xuICAgIGNhc2UgXCJzdG9wXCI6XG4gICAgICByZXR1cm4gXCJzdG9wXCI7XG4gICAgY2FzZSBcImxlbmd0aFwiOlxuICAgICAgcmV0dXJuIFwibGVuZ3RoXCI7XG4gICAgY2FzZSBcImNvbnRlbnRfZmlsdGVyXCI6XG4gICAgICByZXR1cm4gXCJjb250ZW50LWZpbHRlclwiO1xuICAgIGNhc2UgXCJmdW5jdGlvbl9jYWxsXCI6XG4gICAgY2FzZSBcInRvb2xfY2FsbHNcIjpcbiAgICAgIHJldHVybiBcInRvb2wtY2FsbHNcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFwidW5rbm93blwiO1xuICB9XG59XG5cbi8vIHNyYy9vcGVuYWktZXJyb3IudHNcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xudmFyIG9wZW5haUVycm9yRGF0YVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZXJyb3I6IHoub2JqZWN0KHtcbiAgICBtZXNzYWdlOiB6LnN0cmluZygpLFxuICAgIC8vIFRoZSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGJlbG93IGlzIGhhbmRsZWQgbG9vc2VseSB0byBzdXBwb3J0XG4gICAgLy8gT3BlbkFJLWNvbXBhdGlibGUgcHJvdmlkZXJzIHRoYXQgaGF2ZSBzbGlnaHRseSBkaWZmZXJlbnQgZXJyb3JcbiAgICAvLyByZXNwb25zZXM6XG4gICAgdHlwZTogei5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgcGFyYW06IHouYW55KCkubnVsbGlzaCgpLFxuICAgIGNvZGU6IHoudW5pb24oW3ouc3RyaW5nKCksIHoubnVtYmVyKCldKS5udWxsaXNoKClcbiAgfSlcbn0pO1xudmFyIG9wZW5haUZhaWxlZFJlc3BvbnNlSGFuZGxlciA9IGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcih7XG4gIGVycm9yU2NoZW1hOiBvcGVuYWlFcnJvckRhdGFTY2hlbWEsXG4gIGVycm9yVG9NZXNzYWdlOiAoZGF0YSkgPT4gZGF0YS5lcnJvci5tZXNzYWdlXG59KTtcblxuLy8gc3JjL2dldC1yZXNwb25zZS1tZXRhZGF0YS50c1xuZnVuY3Rpb24gZ2V0UmVzcG9uc2VNZXRhZGF0YSh7XG4gIGlkLFxuICBtb2RlbCxcbiAgY3JlYXRlZFxufSkge1xuICByZXR1cm4ge1xuICAgIGlkOiBpZCAhPSBudWxsID8gaWQgOiB2b2lkIDAsXG4gICAgbW9kZWxJZDogbW9kZWwgIT0gbnVsbCA/IG1vZGVsIDogdm9pZCAwLFxuICAgIHRpbWVzdGFtcDogY3JlYXRlZCAhPSBudWxsID8gbmV3IERhdGUoY3JlYXRlZCAqIDFlMykgOiB2b2lkIDBcbiAgfTtcbn1cblxuLy8gc3JjL29wZW5haS1wcmVwYXJlLXRvb2xzLnRzXG5pbXBvcnQge1xuICBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvciBhcyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjJcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmZ1bmN0aW9uIHByZXBhcmVUb29scyh7XG4gIG1vZGUsXG4gIHVzZUxlZ2FjeUZ1bmN0aW9uQ2FsbGluZyA9IGZhbHNlLFxuICBzdHJ1Y3R1cmVkT3V0cHV0c1xufSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IHRvb2xzID0gKChfYSA9IG1vZGUudG9vbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5sZW5ndGgpID8gbW9kZS50b29scyA6IHZvaWQgMDtcbiAgY29uc3QgdG9vbFdhcm5pbmdzID0gW107XG4gIGlmICh0b29scyA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHsgdG9vbHM6IHZvaWQgMCwgdG9vbF9jaG9pY2U6IHZvaWQgMCwgdG9vbFdhcm5pbmdzIH07XG4gIH1cbiAgY29uc3QgdG9vbENob2ljZSA9IG1vZGUudG9vbENob2ljZTtcbiAgaWYgKHVzZUxlZ2FjeUZ1bmN0aW9uQ2FsbGluZykge1xuICAgIGNvbnN0IG9wZW5haUZ1bmN0aW9ucyA9IFtdO1xuICAgIGZvciAoY29uc3QgdG9vbCBvZiB0b29scykge1xuICAgICAgaWYgKHRvb2wudHlwZSA9PT0gXCJwcm92aWRlci1kZWZpbmVkXCIpIHtcbiAgICAgICAgdG9vbFdhcm5pbmdzLnB1c2goeyB0eXBlOiBcInVuc3VwcG9ydGVkLXRvb2xcIiwgdG9vbCB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wZW5haUZ1bmN0aW9ucy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG4gICAgICAgICAgcGFyYW1ldGVyczogdG9vbC5wYXJhbWV0ZXJzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodG9vbENob2ljZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmdW5jdGlvbnM6IG9wZW5haUZ1bmN0aW9ucyxcbiAgICAgICAgZnVuY3Rpb25fY2FsbDogdm9pZCAwLFxuICAgICAgICB0b29sV2FybmluZ3NcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHR5cGUyID0gdG9vbENob2ljZS50eXBlO1xuICAgIHN3aXRjaCAodHlwZTIpIHtcbiAgICAgIGNhc2UgXCJhdXRvXCI6XG4gICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgY2FzZSB2b2lkIDA6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZnVuY3Rpb25zOiBvcGVuYWlGdW5jdGlvbnMsXG4gICAgICAgICAgZnVuY3Rpb25fY2FsbDogdm9pZCAwLFxuICAgICAgICAgIHRvb2xXYXJuaW5nc1xuICAgICAgICB9O1xuICAgICAgY2FzZSBcInJlcXVpcmVkXCI6XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjIoe1xuICAgICAgICAgIGZ1bmN0aW9uYWxpdHk6IFwidXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nIGFuZCB0b29sQ2hvaWNlOiByZXF1aXJlZFwiXG4gICAgICAgIH0pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBmdW5jdGlvbnM6IG9wZW5haUZ1bmN0aW9ucyxcbiAgICAgICAgICBmdW5jdGlvbl9jYWxsOiB7IG5hbWU6IHRvb2xDaG9pY2UudG9vbE5hbWUgfSxcbiAgICAgICAgICB0b29sV2FybmluZ3NcbiAgICAgICAgfTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgb3BlbmFpVG9vbHMyID0gW107XG4gIGZvciAoY29uc3QgdG9vbCBvZiB0b29scykge1xuICAgIGlmICh0b29sLnR5cGUgPT09IFwicHJvdmlkZXItZGVmaW5lZFwiKSB7XG4gICAgICB0b29sV2FybmluZ3MucHVzaCh7IHR5cGU6IFwidW5zdXBwb3J0ZWQtdG9vbFwiLCB0b29sIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcGVuYWlUb29sczIucHVzaCh7XG4gICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG4gICAgICAgICAgcGFyYW1ldGVyczogdG9vbC5wYXJhbWV0ZXJzLFxuICAgICAgICAgIHN0cmljdDogc3RydWN0dXJlZE91dHB1dHMgPyB0cnVlIDogdm9pZCAwXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBpZiAodG9vbENob2ljZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHsgdG9vbHM6IG9wZW5haVRvb2xzMiwgdG9vbF9jaG9pY2U6IHZvaWQgMCwgdG9vbFdhcm5pbmdzIH07XG4gIH1cbiAgY29uc3QgdHlwZSA9IHRvb2xDaG9pY2UudHlwZTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcImF1dG9cIjpcbiAgICBjYXNlIFwibm9uZVwiOlxuICAgIGNhc2UgXCJyZXF1aXJlZFwiOlxuICAgICAgcmV0dXJuIHsgdG9vbHM6IG9wZW5haVRvb2xzMiwgdG9vbF9jaG9pY2U6IHR5cGUsIHRvb2xXYXJuaW5ncyB9O1xuICAgIGNhc2UgXCJ0b29sXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b29sczogb3BlbmFpVG9vbHMyLFxuICAgICAgICB0b29sX2Nob2ljZToge1xuICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgbmFtZTogdG9vbENob2ljZS50b29sTmFtZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdG9vbFdhcm5pbmdzXG4gICAgICB9O1xuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSB0eXBlO1xuICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yMih7XG4gICAgICAgIGZ1bmN0aW9uYWxpdHk6IGBVbnN1cHBvcnRlZCB0b29sIGNob2ljZSB0eXBlOiAke19leGhhdXN0aXZlQ2hlY2t9YFxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbi8vIHNyYy9vcGVuYWktY2hhdC1sYW5ndWFnZS1tb2RlbC50c1xudmFyIE9wZW5BSUNoYXRMYW5ndWFnZU1vZGVsID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihtb2RlbElkLCBzZXR0aW5ncywgY29uZmlnKSB7XG4gICAgdGhpcy5zcGVjaWZpY2F0aW9uVmVyc2lvbiA9IFwidjFcIjtcbiAgICB0aGlzLm1vZGVsSWQgPSBtb2RlbElkO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuICBnZXQgc3VwcG9ydHNTdHJ1Y3R1cmVkT3V0cHV0cygpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHRoaXMuc2V0dGluZ3Muc3RydWN0dXJlZE91dHB1dHMpICE9IG51bGwgPyBfYSA6IGlzUmVhc29uaW5nTW9kZWwodGhpcy5tb2RlbElkKTtcbiAgfVxuICBnZXQgZGVmYXVsdE9iamVjdEdlbmVyYXRpb25Nb2RlKCkge1xuICAgIGlmIChpc0F1ZGlvTW9kZWwodGhpcy5tb2RlbElkKSkge1xuICAgICAgcmV0dXJuIFwidG9vbFwiO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdXBwb3J0c1N0cnVjdHVyZWRPdXRwdXRzID8gXCJqc29uXCIgOiBcInRvb2xcIjtcbiAgfVxuICBnZXQgcHJvdmlkZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnByb3ZpZGVyO1xuICB9XG4gIGdldCBzdXBwb3J0c0ltYWdlVXJscygpIHtcbiAgICByZXR1cm4gIXRoaXMuc2V0dGluZ3MuZG93bmxvYWRJbWFnZXM7XG4gIH1cbiAgZ2V0QXJncyh7XG4gICAgbW9kZSxcbiAgICBwcm9tcHQsXG4gICAgbWF4VG9rZW5zLFxuICAgIHRlbXBlcmF0dXJlLFxuICAgIHRvcFAsXG4gICAgdG9wSyxcbiAgICBmcmVxdWVuY3lQZW5hbHR5LFxuICAgIHByZXNlbmNlUGVuYWx0eSxcbiAgICBzdG9wU2VxdWVuY2VzLFxuICAgIHJlc3BvbnNlRm9ybWF0LFxuICAgIHNlZWQsXG4gICAgcHJvdmlkZXJNZXRhZGF0YVxuICB9KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgICBjb25zdCB0eXBlID0gbW9kZS50eXBlO1xuICAgIGNvbnN0IHdhcm5pbmdzID0gW107XG4gICAgaWYgKHRvcEsgIT0gbnVsbCkge1xuICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgIHR5cGU6IFwidW5zdXBwb3J0ZWQtc2V0dGluZ1wiLFxuICAgICAgICBzZXR0aW5nOiBcInRvcEtcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICgocmVzcG9uc2VGb3JtYXQgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3BvbnNlRm9ybWF0LnR5cGUpID09PSBcImpzb25cIiAmJiByZXNwb25zZUZvcm1hdC5zY2hlbWEgIT0gbnVsbCAmJiAhdGhpcy5zdXBwb3J0c1N0cnVjdHVyZWRPdXRwdXRzKSB7XG4gICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJ1bnN1cHBvcnRlZC1zZXR0aW5nXCIsXG4gICAgICAgIHNldHRpbmc6IFwicmVzcG9uc2VGb3JtYXRcIixcbiAgICAgICAgZGV0YWlsczogXCJKU09OIHJlc3BvbnNlIGZvcm1hdCBzY2hlbWEgaXMgb25seSBzdXBwb3J0ZWQgd2l0aCBzdHJ1Y3R1cmVkT3V0cHV0c1wiXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgdXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nID0gdGhpcy5zZXR0aW5ncy51c2VMZWdhY3lGdW5jdGlvbkNhbGxpbmc7XG4gICAgaWYgKHVzZUxlZ2FjeUZ1bmN0aW9uQ2FsbGluZyAmJiB0aGlzLnNldHRpbmdzLnBhcmFsbGVsVG9vbENhbGxzID09PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IzKHtcbiAgICAgICAgZnVuY3Rpb25hbGl0eTogXCJ1c2VMZWdhY3lGdW5jdGlvbkNhbGxpbmcgd2l0aCBwYXJhbGxlbFRvb2xDYWxsc1wiXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHVzZUxlZ2FjeUZ1bmN0aW9uQ2FsbGluZyAmJiB0aGlzLnN1cHBvcnRzU3RydWN0dXJlZE91dHB1dHMpIHtcbiAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjMoe1xuICAgICAgICBmdW5jdGlvbmFsaXR5OiBcInN0cnVjdHVyZWRPdXRwdXRzIHdpdGggdXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB7IG1lc3NhZ2VzLCB3YXJuaW5nczogbWVzc2FnZVdhcm5pbmdzIH0gPSBjb252ZXJ0VG9PcGVuQUlDaGF0TWVzc2FnZXMoXG4gICAgICB7XG4gICAgICAgIHByb21wdCxcbiAgICAgICAgdXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nLFxuICAgICAgICBzeXN0ZW1NZXNzYWdlTW9kZTogZ2V0U3lzdGVtTWVzc2FnZU1vZGUodGhpcy5tb2RlbElkKVxuICAgICAgfVxuICAgICk7XG4gICAgd2FybmluZ3MucHVzaCguLi5tZXNzYWdlV2FybmluZ3MpO1xuICAgIGNvbnN0IGJhc2VBcmdzID0ge1xuICAgICAgLy8gbW9kZWwgaWQ6XG4gICAgICBtb2RlbDogdGhpcy5tb2RlbElkLFxuICAgICAgLy8gbW9kZWwgc3BlY2lmaWMgc2V0dGluZ3M6XG4gICAgICBsb2dpdF9iaWFzOiB0aGlzLnNldHRpbmdzLmxvZ2l0QmlhcyxcbiAgICAgIGxvZ3Byb2JzOiB0aGlzLnNldHRpbmdzLmxvZ3Byb2JzID09PSB0cnVlIHx8IHR5cGVvZiB0aGlzLnNldHRpbmdzLmxvZ3Byb2JzID09PSBcIm51bWJlclwiID8gdHJ1ZSA6IHZvaWQgMCxcbiAgICAgIHRvcF9sb2dwcm9iczogdHlwZW9mIHRoaXMuc2V0dGluZ3MubG9ncHJvYnMgPT09IFwibnVtYmVyXCIgPyB0aGlzLnNldHRpbmdzLmxvZ3Byb2JzIDogdHlwZW9mIHRoaXMuc2V0dGluZ3MubG9ncHJvYnMgPT09IFwiYm9vbGVhblwiID8gdGhpcy5zZXR0aW5ncy5sb2dwcm9icyA/IDAgOiB2b2lkIDAgOiB2b2lkIDAsXG4gICAgICB1c2VyOiB0aGlzLnNldHRpbmdzLnVzZXIsXG4gICAgICBwYXJhbGxlbF90b29sX2NhbGxzOiB0aGlzLnNldHRpbmdzLnBhcmFsbGVsVG9vbENhbGxzLFxuICAgICAgLy8gc3RhbmRhcmRpemVkIHNldHRpbmdzOlxuICAgICAgbWF4X3Rva2VuczogbWF4VG9rZW5zLFxuICAgICAgdGVtcGVyYXR1cmUsXG4gICAgICB0b3BfcDogdG9wUCxcbiAgICAgIGZyZXF1ZW5jeV9wZW5hbHR5OiBmcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgcHJlc2VuY2VfcGVuYWx0eTogcHJlc2VuY2VQZW5hbHR5LFxuICAgICAgcmVzcG9uc2VfZm9ybWF0OiAocmVzcG9uc2VGb3JtYXQgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3BvbnNlRm9ybWF0LnR5cGUpID09PSBcImpzb25cIiA/IHRoaXMuc3VwcG9ydHNTdHJ1Y3R1cmVkT3V0cHV0cyAmJiByZXNwb25zZUZvcm1hdC5zY2hlbWEgIT0gbnVsbCA/IHtcbiAgICAgICAgdHlwZTogXCJqc29uX3NjaGVtYVwiLFxuICAgICAgICBqc29uX3NjaGVtYToge1xuICAgICAgICAgIHNjaGVtYTogcmVzcG9uc2VGb3JtYXQuc2NoZW1hLFxuICAgICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgICBuYW1lOiAoX2EgPSByZXNwb25zZUZvcm1hdC5uYW1lKSAhPSBudWxsID8gX2EgOiBcInJlc3BvbnNlXCIsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHJlc3BvbnNlRm9ybWF0LmRlc2NyaXB0aW9uXG4gICAgICAgIH1cbiAgICAgIH0gOiB7IHR5cGU6IFwianNvbl9vYmplY3RcIiB9IDogdm9pZCAwLFxuICAgICAgc3RvcDogc3RvcFNlcXVlbmNlcyxcbiAgICAgIHNlZWQsXG4gICAgICAvLyBvcGVuYWkgc3BlY2lmaWMgc2V0dGluZ3M6XG4gICAgICAvLyBUT0RPIHJlbW92ZSBpbiBuZXh0IG1ham9yIHZlcnNpb247IHdlIGF1dG8tbWFwIG1heFRva2VucyBub3dcbiAgICAgIG1heF9jb21wbGV0aW9uX3Rva2VuczogKF9iID0gcHJvdmlkZXJNZXRhZGF0YSA9PSBudWxsID8gdm9pZCAwIDogcHJvdmlkZXJNZXRhZGF0YS5vcGVuYWkpID09IG51bGwgPyB2b2lkIDAgOiBfYi5tYXhDb21wbGV0aW9uVG9rZW5zLFxuICAgICAgc3RvcmU6IChfYyA9IHByb3ZpZGVyTWV0YWRhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3ZpZGVyTWV0YWRhdGEub3BlbmFpKSA9PSBudWxsID8gdm9pZCAwIDogX2Muc3RvcmUsXG4gICAgICBtZXRhZGF0YTogKF9kID0gcHJvdmlkZXJNZXRhZGF0YSA9PSBudWxsID8gdm9pZCAwIDogcHJvdmlkZXJNZXRhZGF0YS5vcGVuYWkpID09IG51bGwgPyB2b2lkIDAgOiBfZC5tZXRhZGF0YSxcbiAgICAgIHByZWRpY3Rpb246IChfZSA9IHByb3ZpZGVyTWV0YWRhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3ZpZGVyTWV0YWRhdGEub3BlbmFpKSA9PSBudWxsID8gdm9pZCAwIDogX2UucHJlZGljdGlvbixcbiAgICAgIHJlYXNvbmluZ19lZmZvcnQ6IChfZyA9IChfZiA9IHByb3ZpZGVyTWV0YWRhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3ZpZGVyTWV0YWRhdGEub3BlbmFpKSA9PSBudWxsID8gdm9pZCAwIDogX2YucmVhc29uaW5nRWZmb3J0KSAhPSBudWxsID8gX2cgOiB0aGlzLnNldHRpbmdzLnJlYXNvbmluZ0VmZm9ydCxcbiAgICAgIC8vIG1lc3NhZ2VzOlxuICAgICAgbWVzc2FnZXNcbiAgICB9O1xuICAgIGlmIChpc1JlYXNvbmluZ01vZGVsKHRoaXMubW9kZWxJZCkpIHtcbiAgICAgIGlmIChiYXNlQXJncy50ZW1wZXJhdHVyZSAhPSBudWxsKSB7XG4gICAgICAgIGJhc2VBcmdzLnRlbXBlcmF0dXJlID0gdm9pZCAwO1xuICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgICBzZXR0aW5nOiBcInRlbXBlcmF0dXJlXCIsXG4gICAgICAgICAgZGV0YWlsczogXCJ0ZW1wZXJhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGZvciByZWFzb25pbmcgbW9kZWxzXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZUFyZ3MudG9wX3AgIT0gbnVsbCkge1xuICAgICAgICBiYXNlQXJncy50b3BfcCA9IHZvaWQgMDtcbiAgICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgICAgdHlwZTogXCJ1bnN1cHBvcnRlZC1zZXR0aW5nXCIsXG4gICAgICAgICAgc2V0dGluZzogXCJ0b3BQXCIsXG4gICAgICAgICAgZGV0YWlsczogXCJ0b3BQIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHJlYXNvbmluZyBtb2RlbHNcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChiYXNlQXJncy5mcmVxdWVuY3lfcGVuYWx0eSAhPSBudWxsKSB7XG4gICAgICAgIGJhc2VBcmdzLmZyZXF1ZW5jeV9wZW5hbHR5ID0gdm9pZCAwO1xuICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgICBzZXR0aW5nOiBcImZyZXF1ZW5jeVBlbmFsdHlcIixcbiAgICAgICAgICBkZXRhaWxzOiBcImZyZXF1ZW5jeVBlbmFsdHkgaXMgbm90IHN1cHBvcnRlZCBmb3IgcmVhc29uaW5nIG1vZGVsc1wiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGJhc2VBcmdzLnByZXNlbmNlX3BlbmFsdHkgIT0gbnVsbCkge1xuICAgICAgICBiYXNlQXJncy5wcmVzZW5jZV9wZW5hbHR5ID0gdm9pZCAwO1xuICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgICBzZXR0aW5nOiBcInByZXNlbmNlUGVuYWx0eVwiLFxuICAgICAgICAgIGRldGFpbHM6IFwicHJlc2VuY2VQZW5hbHR5IGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHJlYXNvbmluZyBtb2RlbHNcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChiYXNlQXJncy5sb2dpdF9iaWFzICE9IG51bGwpIHtcbiAgICAgICAgYmFzZUFyZ3MubG9naXRfYmlhcyA9IHZvaWQgMDtcbiAgICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgICAgdHlwZTogXCJvdGhlclwiLFxuICAgICAgICAgIG1lc3NhZ2U6IFwibG9naXRCaWFzIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHJlYXNvbmluZyBtb2RlbHNcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChiYXNlQXJncy5sb2dwcm9icyAhPSBudWxsKSB7XG4gICAgICAgIGJhc2VBcmdzLmxvZ3Byb2JzID0gdm9pZCAwO1xuICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBcIm90aGVyXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJsb2dwcm9icyBpcyBub3Qgc3VwcG9ydGVkIGZvciByZWFzb25pbmcgbW9kZWxzXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZUFyZ3MudG9wX2xvZ3Byb2JzICE9IG51bGwpIHtcbiAgICAgICAgYmFzZUFyZ3MudG9wX2xvZ3Byb2JzID0gdm9pZCAwO1xuICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBcIm90aGVyXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJ0b3BMb2dwcm9icyBpcyBub3Qgc3VwcG9ydGVkIGZvciByZWFzb25pbmcgbW9kZWxzXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZUFyZ3MubWF4X3Rva2VucyAhPSBudWxsKSB7XG4gICAgICAgIGlmIChiYXNlQXJncy5tYXhfY29tcGxldGlvbl90b2tlbnMgPT0gbnVsbCkge1xuICAgICAgICAgIGJhc2VBcmdzLm1heF9jb21wbGV0aW9uX3Rva2VucyA9IGJhc2VBcmdzLm1heF90b2tlbnM7XG4gICAgICAgIH1cbiAgICAgICAgYmFzZUFyZ3MubWF4X3Rva2VucyA9IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMubW9kZWxJZC5zdGFydHNXaXRoKFwiZ3B0LTRvLXNlYXJjaC1wcmV2aWV3XCIpIHx8IHRoaXMubW9kZWxJZC5zdGFydHNXaXRoKFwiZ3B0LTRvLW1pbmktc2VhcmNoLXByZXZpZXdcIikpIHtcbiAgICAgIGlmIChiYXNlQXJncy50ZW1wZXJhdHVyZSAhPSBudWxsKSB7XG4gICAgICAgIGJhc2VBcmdzLnRlbXBlcmF0dXJlID0gdm9pZCAwO1xuICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgICBzZXR0aW5nOiBcInRlbXBlcmF0dXJlXCIsXG4gICAgICAgICAgZGV0YWlsczogXCJ0ZW1wZXJhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGZvciB0aGUgc2VhcmNoIHByZXZpZXcgbW9kZWxzIGFuZCBoYXMgYmVlbiByZW1vdmVkLlwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJyZWd1bGFyXCI6IHtcbiAgICAgICAgY29uc3QgeyB0b29scywgdG9vbF9jaG9pY2UsIGZ1bmN0aW9ucywgZnVuY3Rpb25fY2FsbCwgdG9vbFdhcm5pbmdzIH0gPSBwcmVwYXJlVG9vbHMoe1xuICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgdXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nLFxuICAgICAgICAgIHN0cnVjdHVyZWRPdXRwdXRzOiB0aGlzLnN1cHBvcnRzU3RydWN0dXJlZE91dHB1dHNcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgLi4uYmFzZUFyZ3MsXG4gICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgIHRvb2xfY2hvaWNlLFxuICAgICAgICAgICAgZnVuY3Rpb25zLFxuICAgICAgICAgICAgZnVuY3Rpb25fY2FsbFxuICAgICAgICAgIH0sXG4gICAgICAgICAgd2FybmluZ3M6IFsuLi53YXJuaW5ncywgLi4udG9vbFdhcm5pbmdzXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY2FzZSBcIm9iamVjdC1qc29uXCI6IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgICAuLi5iYXNlQXJncyxcbiAgICAgICAgICAgIHJlc3BvbnNlX2Zvcm1hdDogdGhpcy5zdXBwb3J0c1N0cnVjdHVyZWRPdXRwdXRzICYmIG1vZGUuc2NoZW1hICE9IG51bGwgPyB7XG4gICAgICAgICAgICAgIHR5cGU6IFwianNvbl9zY2hlbWFcIixcbiAgICAgICAgICAgICAganNvbl9zY2hlbWE6IHtcbiAgICAgICAgICAgICAgICBzY2hlbWE6IG1vZGUuc2NoZW1hLFxuICAgICAgICAgICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiAoX2ggPSBtb2RlLm5hbWUpICE9IG51bGwgPyBfaCA6IFwicmVzcG9uc2VcIixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbW9kZS5kZXNjcmlwdGlvblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IDogeyB0eXBlOiBcImpzb25fb2JqZWN0XCIgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgd2FybmluZ3NcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJvYmplY3QtdG9vbFwiOiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYXJnczogdXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nID8ge1xuICAgICAgICAgICAgLi4uYmFzZUFyZ3MsXG4gICAgICAgICAgICBmdW5jdGlvbl9jYWxsOiB7XG4gICAgICAgICAgICAgIG5hbWU6IG1vZGUudG9vbC5uYW1lXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb25zOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBtb2RlLnRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbW9kZS50b29sLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IG1vZGUudG9vbC5wYXJhbWV0ZXJzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgLi4uYmFzZUFyZ3MsXG4gICAgICAgICAgICB0b29sX2Nob2ljZToge1xuICAgICAgICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uOiB7IG5hbWU6IG1vZGUudG9vbC5uYW1lIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b29sczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBtb2RlLnRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBtb2RlLnRvb2wuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBtb2RlLnRvb2wucGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgIHN0cmljdDogdGhpcy5zdXBwb3J0c1N0cnVjdHVyZWRPdXRwdXRzID8gdHJ1ZSA6IHZvaWQgMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgd2FybmluZ3NcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IHR5cGU7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgdHlwZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBhc3luYyBkb0dlbmVyYXRlKG9wdGlvbnMpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICAgIGNvbnN0IHsgYXJnczogYm9keSwgd2FybmluZ3MgfSA9IHRoaXMuZ2V0QXJncyhvcHRpb25zKTtcbiAgICBjb25zdCB7XG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICB2YWx1ZTogcmVzcG9uc2UsXG4gICAgICByYXdWYWx1ZTogcmF3UmVzcG9uc2VcbiAgICB9ID0gYXdhaXQgcG9zdEpzb25Ub0FwaSh7XG4gICAgICB1cmw6IHRoaXMuY29uZmlnLnVybCh7XG4gICAgICAgIHBhdGg6IFwiL2NoYXQvY29tcGxldGlvbnNcIixcbiAgICAgICAgbW9kZWxJZDogdGhpcy5tb2RlbElkXG4gICAgICB9KSxcbiAgICAgIGhlYWRlcnM6IGNvbWJpbmVIZWFkZXJzKHRoaXMuY29uZmlnLmhlYWRlcnMoKSwgb3B0aW9ucy5oZWFkZXJzKSxcbiAgICAgIGJvZHksXG4gICAgICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IG9wZW5haUZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgICAgIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIoXG4gICAgICAgIG9wZW5haUNoYXRSZXNwb25zZVNjaGVtYVxuICAgICAgKSxcbiAgICAgIGFib3J0U2lnbmFsOiBvcHRpb25zLmFib3J0U2lnbmFsLFxuICAgICAgZmV0Y2g6IHRoaXMuY29uZmlnLmZldGNoXG4gICAgfSk7XG4gICAgY29uc3QgeyBtZXNzYWdlczogcmF3UHJvbXB0LCAuLi5yYXdTZXR0aW5ncyB9ID0gYm9keTtcbiAgICBjb25zdCBjaG9pY2UgPSByZXNwb25zZS5jaG9pY2VzWzBdO1xuICAgIGNvbnN0IGNvbXBsZXRpb25Ub2tlbkRldGFpbHMgPSAoX2EgPSByZXNwb25zZS51c2FnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHM7XG4gICAgY29uc3QgcHJvbXB0VG9rZW5EZXRhaWxzID0gKF9iID0gcmVzcG9uc2UudXNhZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfYi5wcm9tcHRfdG9rZW5zX2RldGFpbHM7XG4gICAgY29uc3QgcHJvdmlkZXJNZXRhZGF0YSA9IHsgb3BlbmFpOiB7fSB9O1xuICAgIGlmICgoY29tcGxldGlvblRva2VuRGV0YWlscyA9PSBudWxsID8gdm9pZCAwIDogY29tcGxldGlvblRva2VuRGV0YWlscy5yZWFzb25pbmdfdG9rZW5zKSAhPSBudWxsKSB7XG4gICAgICBwcm92aWRlck1ldGFkYXRhLm9wZW5haS5yZWFzb25pbmdUb2tlbnMgPSBjb21wbGV0aW9uVG9rZW5EZXRhaWxzID09IG51bGwgPyB2b2lkIDAgOiBjb21wbGV0aW9uVG9rZW5EZXRhaWxzLnJlYXNvbmluZ190b2tlbnM7XG4gICAgfVxuICAgIGlmICgoY29tcGxldGlvblRva2VuRGV0YWlscyA9PSBudWxsID8gdm9pZCAwIDogY29tcGxldGlvblRva2VuRGV0YWlscy5hY2NlcHRlZF9wcmVkaWN0aW9uX3Rva2VucykgIT0gbnVsbCkge1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YS5vcGVuYWkuYWNjZXB0ZWRQcmVkaWN0aW9uVG9rZW5zID0gY29tcGxldGlvblRva2VuRGV0YWlscyA9PSBudWxsID8gdm9pZCAwIDogY29tcGxldGlvblRva2VuRGV0YWlscy5hY2NlcHRlZF9wcmVkaWN0aW9uX3Rva2VucztcbiAgICB9XG4gICAgaWYgKChjb21wbGV0aW9uVG9rZW5EZXRhaWxzID09IG51bGwgPyB2b2lkIDAgOiBjb21wbGV0aW9uVG9rZW5EZXRhaWxzLnJlamVjdGVkX3ByZWRpY3Rpb25fdG9rZW5zKSAhPSBudWxsKSB7XG4gICAgICBwcm92aWRlck1ldGFkYXRhLm9wZW5haS5yZWplY3RlZFByZWRpY3Rpb25Ub2tlbnMgPSBjb21wbGV0aW9uVG9rZW5EZXRhaWxzID09IG51bGwgPyB2b2lkIDAgOiBjb21wbGV0aW9uVG9rZW5EZXRhaWxzLnJlamVjdGVkX3ByZWRpY3Rpb25fdG9rZW5zO1xuICAgIH1cbiAgICBpZiAoKHByb21wdFRva2VuRGV0YWlscyA9PSBudWxsID8gdm9pZCAwIDogcHJvbXB0VG9rZW5EZXRhaWxzLmNhY2hlZF90b2tlbnMpICE9IG51bGwpIHtcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGEub3BlbmFpLmNhY2hlZFByb21wdFRva2VucyA9IHByb21wdFRva2VuRGV0YWlscyA9PSBudWxsID8gdm9pZCAwIDogcHJvbXB0VG9rZW5EZXRhaWxzLmNhY2hlZF90b2tlbnM7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiAoX2MgPSBjaG9pY2UubWVzc2FnZS5jb250ZW50KSAhPSBudWxsID8gX2MgOiB2b2lkIDAsXG4gICAgICB0b29sQ2FsbHM6IHRoaXMuc2V0dGluZ3MudXNlTGVnYWN5RnVuY3Rpb25DYWxsaW5nICYmIGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwgPyBbXG4gICAgICAgIHtcbiAgICAgICAgICB0b29sQ2FsbFR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICB0b29sQ2FsbElkOiBnZW5lcmF0ZUlkKCksXG4gICAgICAgICAgdG9vbE5hbWU6IGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwubmFtZSxcbiAgICAgICAgICBhcmdzOiBjaG9pY2UubWVzc2FnZS5mdW5jdGlvbl9jYWxsLmFyZ3VtZW50c1xuICAgICAgICB9XG4gICAgICBdIDogKF9kID0gY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscykgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLm1hcCgodG9vbENhbGwpID0+IHtcbiAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0b29sQ2FsbFR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICB0b29sQ2FsbElkOiAoX2EyID0gdG9vbENhbGwuaWQpICE9IG51bGwgPyBfYTIgOiBnZW5lcmF0ZUlkKCksXG4gICAgICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgYXJnczogdG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIGZpbmlzaFJlYXNvbjogbWFwT3BlbkFJRmluaXNoUmVhc29uKGNob2ljZS5maW5pc2hfcmVhc29uKSxcbiAgICAgIHVzYWdlOiB7XG4gICAgICAgIHByb21wdFRva2VuczogKF9mID0gKF9lID0gcmVzcG9uc2UudXNhZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfZS5wcm9tcHRfdG9rZW5zKSAhPSBudWxsID8gX2YgOiBOYU4sXG4gICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IChfaCA9IChfZyA9IHJlc3BvbnNlLnVzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2cuY29tcGxldGlvbl90b2tlbnMpICE9IG51bGwgPyBfaCA6IE5hTlxuICAgICAgfSxcbiAgICAgIHJhd0NhbGw6IHsgcmF3UHJvbXB0LCByYXdTZXR0aW5ncyB9LFxuICAgICAgcmF3UmVzcG9uc2U6IHsgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLCBib2R5OiByYXdSZXNwb25zZSB9LFxuICAgICAgcmVxdWVzdDogeyBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSB9LFxuICAgICAgcmVzcG9uc2U6IGdldFJlc3BvbnNlTWV0YWRhdGEocmVzcG9uc2UpLFxuICAgICAgd2FybmluZ3MsXG4gICAgICBsb2dwcm9iczogbWFwT3BlbkFJQ2hhdExvZ1Byb2JzT3V0cHV0KGNob2ljZS5sb2dwcm9icyksXG4gICAgICBwcm92aWRlck1ldGFkYXRhXG4gICAgfTtcbiAgfVxuICBhc3luYyBkb1N0cmVhbShvcHRpb25zKSB7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3Muc2ltdWxhdGVTdHJlYW1pbmcpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZG9HZW5lcmF0ZShvcHRpb25zKTtcbiAgICAgIGNvbnN0IHNpbXVsYXRlZFN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiBcInJlc3BvbnNlLW1ldGFkYXRhXCIsIC4uLnJlc3VsdC5yZXNwb25zZSB9KTtcbiAgICAgICAgICBpZiAocmVzdWx0LnRleHQpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgIHR5cGU6IFwidGV4dC1kZWx0YVwiLFxuICAgICAgICAgICAgICB0ZXh0RGVsdGE6IHJlc3VsdC50ZXh0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3VsdC50b29sQ2FsbHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdG9vbENhbGwgb2YgcmVzdWx0LnRvb2xDYWxscykge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1jYWxsLWRlbHRhXCIsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbENhbGwudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgYXJnc1RleHREZWx0YTogdG9vbENhbGwuYXJnc1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtY2FsbFwiLFxuICAgICAgICAgICAgICAgIC4uLnRvb2xDYWxsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogXCJmaW5pc2hcIixcbiAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogcmVzdWx0LmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgIHVzYWdlOiByZXN1bHQudXNhZ2UsXG4gICAgICAgICAgICBsb2dwcm9iczogcmVzdWx0LmxvZ3Byb2JzLFxuICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcmVzdWx0LnByb3ZpZGVyTWV0YWRhdGFcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RyZWFtOiBzaW11bGF0ZWRTdHJlYW0sXG4gICAgICAgIHJhd0NhbGw6IHJlc3VsdC5yYXdDYWxsLFxuICAgICAgICByYXdSZXNwb25zZTogcmVzdWx0LnJhd1Jlc3BvbnNlLFxuICAgICAgICB3YXJuaW5nczogcmVzdWx0Lndhcm5pbmdzXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB7IGFyZ3MsIHdhcm5pbmdzIH0gPSB0aGlzLmdldEFyZ3Mob3B0aW9ucyk7XG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIC4uLmFyZ3MsXG4gICAgICBzdHJlYW06IHRydWUsXG4gICAgICAvLyBvbmx5IGluY2x1ZGUgc3RyZWFtX29wdGlvbnMgd2hlbiBpbiBzdHJpY3QgY29tcGF0aWJpbGl0eSBtb2RlOlxuICAgICAgc3RyZWFtX29wdGlvbnM6IHRoaXMuY29uZmlnLmNvbXBhdGliaWxpdHkgPT09IFwic3RyaWN0XCIgPyB7IGluY2x1ZGVfdXNhZ2U6IHRydWUgfSA6IHZvaWQgMFxuICAgIH07XG4gICAgY29uc3QgeyByZXNwb25zZUhlYWRlcnMsIHZhbHVlOiByZXNwb25zZSB9ID0gYXdhaXQgcG9zdEpzb25Ub0FwaSh7XG4gICAgICB1cmw6IHRoaXMuY29uZmlnLnVybCh7XG4gICAgICAgIHBhdGg6IFwiL2NoYXQvY29tcGxldGlvbnNcIixcbiAgICAgICAgbW9kZWxJZDogdGhpcy5tb2RlbElkXG4gICAgICB9KSxcbiAgICAgIGhlYWRlcnM6IGNvbWJpbmVIZWFkZXJzKHRoaXMuY29uZmlnLmhlYWRlcnMoKSwgb3B0aW9ucy5oZWFkZXJzKSxcbiAgICAgIGJvZHksXG4gICAgICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IG9wZW5haUZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgICAgIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyKFxuICAgICAgICBvcGVuYWlDaGF0Q2h1bmtTY2hlbWFcbiAgICAgICksXG4gICAgICBhYm9ydFNpZ25hbDogb3B0aW9ucy5hYm9ydFNpZ25hbCxcbiAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaFxuICAgIH0pO1xuICAgIGNvbnN0IHsgbWVzc2FnZXM6IHJhd1Byb21wdCwgLi4ucmF3U2V0dGluZ3MgfSA9IGFyZ3M7XG4gICAgY29uc3QgdG9vbENhbGxzID0gW107XG4gICAgbGV0IGZpbmlzaFJlYXNvbiA9IFwidW5rbm93blwiO1xuICAgIGxldCB1c2FnZSA9IHtcbiAgICAgIHByb21wdFRva2Vuczogdm9pZCAwLFxuICAgICAgY29tcGxldGlvblRva2Vuczogdm9pZCAwXG4gICAgfTtcbiAgICBsZXQgbG9ncHJvYnM7XG4gICAgbGV0IGlzRmlyc3RDaHVuayA9IHRydWU7XG4gICAgY29uc3QgeyB1c2VMZWdhY3lGdW5jdGlvbkNhbGxpbmcgfSA9IHRoaXMuc2V0dGluZ3M7XG4gICAgY29uc3QgcHJvdmlkZXJNZXRhZGF0YSA9IHsgb3BlbmFpOiB7fSB9O1xuICAgIHJldHVybiB7XG4gICAgICBzdHJlYW06IHJlc3BvbnNlLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9pLCBfaiwgX2ssIF9sO1xuICAgICAgICAgICAgaWYgKCFjaHVuay5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIGZpbmlzaFJlYXNvbiA9IFwiZXJyb3JcIjtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogXCJlcnJvclwiLCBlcnJvcjogY2h1bmsuZXJyb3IgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY2h1bmsudmFsdWU7XG4gICAgICAgICAgICBpZiAoXCJlcnJvclwiIGluIHZhbHVlKSB7XG4gICAgICAgICAgICAgIGZpbmlzaFJlYXNvbiA9IFwiZXJyb3JcIjtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogXCJlcnJvclwiLCBlcnJvcjogdmFsdWUuZXJyb3IgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0ZpcnN0Q2h1bmspIHtcbiAgICAgICAgICAgICAgaXNGaXJzdENodW5rID0gZmFsc2U7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJyZXNwb25zZS1tZXRhZGF0YVwiLFxuICAgICAgICAgICAgICAgIC4uLmdldFJlc3BvbnNlTWV0YWRhdGEodmFsdWUpXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLnVzYWdlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIHByb21wdF90b2tlbnMsXG4gICAgICAgICAgICAgICAgY29tcGxldGlvbl90b2tlbnMsXG4gICAgICAgICAgICAgICAgcHJvbXB0X3Rva2Vuc19kZXRhaWxzLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHNcbiAgICAgICAgICAgICAgfSA9IHZhbHVlLnVzYWdlO1xuICAgICAgICAgICAgICB1c2FnZSA9IHtcbiAgICAgICAgICAgICAgICBwcm9tcHRUb2tlbnM6IHByb21wdF90b2tlbnMgIT0gbnVsbCA/IHByb21wdF90b2tlbnMgOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgY29tcGxldGlvblRva2VuczogY29tcGxldGlvbl90b2tlbnMgIT0gbnVsbCA/IGNvbXBsZXRpb25fdG9rZW5zIDogdm9pZCAwXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGlmICgoY29tcGxldGlvbl90b2tlbnNfZGV0YWlscyA9PSBudWxsID8gdm9pZCAwIDogY29tcGxldGlvbl90b2tlbnNfZGV0YWlscy5yZWFzb25pbmdfdG9rZW5zKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YS5vcGVuYWkucmVhc29uaW5nVG9rZW5zID0gY29tcGxldGlvbl90b2tlbnNfZGV0YWlscyA9PSBudWxsID8gdm9pZCAwIDogY29tcGxldGlvbl90b2tlbnNfZGV0YWlscy5yZWFzb25pbmdfdG9rZW5zO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICgoY29tcGxldGlvbl90b2tlbnNfZGV0YWlscyA9PSBudWxsID8gdm9pZCAwIDogY29tcGxldGlvbl90b2tlbnNfZGV0YWlscy5hY2NlcHRlZF9wcmVkaWN0aW9uX3Rva2VucykgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGEub3BlbmFpLmFjY2VwdGVkUHJlZGljdGlvblRva2VucyA9IGNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHMgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHMuYWNjZXB0ZWRfcHJlZGljdGlvbl90b2tlbnM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKChjb21wbGV0aW9uX3Rva2Vuc19kZXRhaWxzID09IG51bGwgPyB2b2lkIDAgOiBjb21wbGV0aW9uX3Rva2Vuc19kZXRhaWxzLnJlamVjdGVkX3ByZWRpY3Rpb25fdG9rZW5zKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YS5vcGVuYWkucmVqZWN0ZWRQcmVkaWN0aW9uVG9rZW5zID0gY29tcGxldGlvbl90b2tlbnNfZGV0YWlscyA9PSBudWxsID8gdm9pZCAwIDogY29tcGxldGlvbl90b2tlbnNfZGV0YWlscy5yZWplY3RlZF9wcmVkaWN0aW9uX3Rva2VucztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoKHByb21wdF90b2tlbnNfZGV0YWlscyA9PSBudWxsID8gdm9pZCAwIDogcHJvbXB0X3Rva2Vuc19kZXRhaWxzLmNhY2hlZF90b2tlbnMpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhLm9wZW5haS5jYWNoZWRQcm9tcHRUb2tlbnMgPSBwcm9tcHRfdG9rZW5zX2RldGFpbHMgPT0gbnVsbCA/IHZvaWQgMCA6IHByb21wdF90b2tlbnNfZGV0YWlscy5jYWNoZWRfdG9rZW5zO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjaG9pY2UgPSB2YWx1ZS5jaG9pY2VzWzBdO1xuICAgICAgICAgICAgaWYgKChjaG9pY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGNob2ljZS5maW5pc2hfcmVhc29uKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGZpbmlzaFJlYXNvbiA9IG1hcE9wZW5BSUZpbmlzaFJlYXNvbihjaG9pY2UuZmluaXNoX3JlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGNob2ljZSA9PSBudWxsID8gdm9pZCAwIDogY2hvaWNlLmRlbHRhKSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gY2hvaWNlLmRlbHRhO1xuICAgICAgICAgICAgaWYgKGRlbHRhLmNvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dC1kZWx0YVwiLFxuICAgICAgICAgICAgICAgIHRleHREZWx0YTogZGVsdGEuY29udGVudFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1hcHBlZExvZ3Byb2JzID0gbWFwT3BlbkFJQ2hhdExvZ1Byb2JzT3V0cHV0KFxuICAgICAgICAgICAgICBjaG9pY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGNob2ljZS5sb2dwcm9ic1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChtYXBwZWRMb2dwcm9icyA9PSBudWxsID8gdm9pZCAwIDogbWFwcGVkTG9ncHJvYnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGlmIChsb2dwcm9icyA9PT0gdm9pZCAwKSBsb2dwcm9icyA9IFtdO1xuICAgICAgICAgICAgICBsb2dwcm9icy5wdXNoKC4uLm1hcHBlZExvZ3Byb2JzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1hcHBlZFRvb2xDYWxscyA9IHVzZUxlZ2FjeUZ1bmN0aW9uQ2FsbGluZyAmJiBkZWx0YS5mdW5jdGlvbl9jYWxsICE9IG51bGwgPyBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgaWQ6IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbjogZGVsdGEuZnVuY3Rpb25fY2FsbCxcbiAgICAgICAgICAgICAgICBpbmRleDogMFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdIDogZGVsdGEudG9vbF9jYWxscztcbiAgICAgICAgICAgIGlmIChtYXBwZWRUb29sQ2FsbHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRvb2xDYWxsRGVsdGEgb2YgbWFwcGVkVG9vbENhbGxzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0b29sQ2FsbERlbHRhLmluZGV4O1xuICAgICAgICAgICAgICAgIGlmICh0b29sQ2FsbHNbaW5kZXhdID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGlmICh0b29sQ2FsbERlbHRhLnR5cGUgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB0b29sQ2FsbERlbHRhLFxuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBFeHBlY3RlZCAnZnVuY3Rpb24nIHR5cGUuYFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmICh0b29sQ2FsbERlbHRhLmlkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRSZXNwb25zZURhdGFFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgZGF0YTogdG9vbENhbGxEZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRXhwZWN0ZWQgJ2lkJyB0byBiZSBhIHN0cmluZy5gXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKCgoX2EgPSB0b29sQ2FsbERlbHRhLmZ1bmN0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2EubmFtZSkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB0b29sQ2FsbERlbHRhLFxuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBFeHBlY3RlZCAnZnVuY3Rpb24ubmFtZScgdG8gYmUgYSBzdHJpbmcuYFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsc1tpbmRleF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB0b29sQ2FsbERlbHRhLmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZTogdG9vbENhbGxEZWx0YS5mdW5jdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogKF9iID0gdG9vbENhbGxEZWx0YS5mdW5jdGlvbi5hcmd1bWVudHMpICE9IG51bGwgPyBfYiA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaGFzRmluaXNoZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgY29uc3QgdG9vbENhbGwyID0gdG9vbENhbGxzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgIGlmICgoKF9jID0gdG9vbENhbGwyLmZ1bmN0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2MubmFtZSkgIT0gbnVsbCAmJiAoKF9kID0gdG9vbENhbGwyLmZ1bmN0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2QuYXJndW1lbnRzKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29sQ2FsbDIuZnVuY3Rpb24uYXJndW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0b29sLWNhbGwtZGVsdGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsVHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwyLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsMi5mdW5jdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1RleHREZWx0YTogdG9vbENhbGwyLmZ1bmN0aW9uLmFyZ3VtZW50c1xuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1BhcnNhYmxlSnNvbih0b29sQ2FsbDIuZnVuY3Rpb24uYXJndW1lbnRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtY2FsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiAoX2UgPSB0b29sQ2FsbDIuaWQpICE9IG51bGwgPyBfZSA6IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbDIuZnVuY3Rpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IHRvb2xDYWxsMi5mdW5jdGlvbi5hcmd1bWVudHNcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbDIuaGFzRmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbENhbGwgPSB0b29sQ2FsbHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICh0b29sQ2FsbC5oYXNGaW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoKF9mID0gdG9vbENhbGxEZWx0YS5mdW5jdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLmFyZ3VtZW50cykgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzICs9IChfaCA9IChfZyA9IHRvb2xDYWxsRGVsdGEuZnVuY3Rpb24pID09IG51bGwgPyB2b2lkIDAgOiBfZy5hcmd1bWVudHMpICE9IG51bGwgPyBfaCA6IFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtY2FsbC1kZWx0YVwiLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC5pZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgYXJnc1RleHREZWx0YTogKF9pID0gdG9vbENhbGxEZWx0YS5mdW5jdGlvbi5hcmd1bWVudHMpICE9IG51bGwgPyBfaSA6IFwiXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoKChfaiA9IHRvb2xDYWxsLmZ1bmN0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2oubmFtZSkgIT0gbnVsbCAmJiAoKF9rID0gdG9vbENhbGwuZnVuY3Rpb24pID09IG51bGwgPyB2b2lkIDAgOiBfay5hcmd1bWVudHMpICE9IG51bGwgJiYgaXNQYXJzYWJsZUpzb24odG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzKSkge1xuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0b29sLWNhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IChfbCA9IHRvb2xDYWxsLmlkKSAhPSBudWxsID8gX2wgOiBnZW5lcmF0ZUlkKCksXG4gICAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiB0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHNcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGwuaGFzRmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmx1c2goY29udHJvbGxlcikge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgIHR5cGU6IFwiZmluaXNoXCIsXG4gICAgICAgICAgICAgIGZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgbG9ncHJvYnMsXG4gICAgICAgICAgICAgIHVzYWdlOiB7XG4gICAgICAgICAgICAgICAgcHJvbXB0VG9rZW5zOiAoX2EgPSB1c2FnZS5wcm9tcHRUb2tlbnMpICE9IG51bGwgPyBfYSA6IE5hTixcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiAoX2IgPSB1c2FnZS5jb21wbGV0aW9uVG9rZW5zKSAhPSBudWxsID8gX2IgOiBOYU5cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgLi4ucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsID8geyBwcm92aWRlck1ldGFkYXRhIH0gOiB7fVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKSxcbiAgICAgIHJhd0NhbGw6IHsgcmF3UHJvbXB0LCByYXdTZXR0aW5ncyB9LFxuICAgICAgcmF3UmVzcG9uc2U6IHsgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzIH0sXG4gICAgICByZXF1ZXN0OiB7IGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpIH0sXG4gICAgICB3YXJuaW5nc1xuICAgIH07XG4gIH1cbn07XG52YXIgb3BlbmFpVG9rZW5Vc2FnZVNjaGVtYSA9IHoyLm9iamVjdCh7XG4gIHByb21wdF90b2tlbnM6IHoyLm51bWJlcigpLm51bGxpc2goKSxcbiAgY29tcGxldGlvbl90b2tlbnM6IHoyLm51bWJlcigpLm51bGxpc2goKSxcbiAgcHJvbXB0X3Rva2Vuc19kZXRhaWxzOiB6Mi5vYmplY3Qoe1xuICAgIGNhY2hlZF90b2tlbnM6IHoyLm51bWJlcigpLm51bGxpc2goKVxuICB9KS5udWxsaXNoKCksXG4gIGNvbXBsZXRpb25fdG9rZW5zX2RldGFpbHM6IHoyLm9iamVjdCh7XG4gICAgcmVhc29uaW5nX3Rva2VuczogejIubnVtYmVyKCkubnVsbGlzaCgpLFxuICAgIGFjY2VwdGVkX3ByZWRpY3Rpb25fdG9rZW5zOiB6Mi5udW1iZXIoKS5udWxsaXNoKCksXG4gICAgcmVqZWN0ZWRfcHJlZGljdGlvbl90b2tlbnM6IHoyLm51bWJlcigpLm51bGxpc2goKVxuICB9KS5udWxsaXNoKClcbn0pLm51bGxpc2goKTtcbnZhciBvcGVuYWlDaGF0UmVzcG9uc2VTY2hlbWEgPSB6Mi5vYmplY3Qoe1xuICBpZDogejIuc3RyaW5nKCkubnVsbGlzaCgpLFxuICBjcmVhdGVkOiB6Mi5udW1iZXIoKS5udWxsaXNoKCksXG4gIG1vZGVsOiB6Mi5zdHJpbmcoKS5udWxsaXNoKCksXG4gIGNob2ljZXM6IHoyLmFycmF5KFxuICAgIHoyLm9iamVjdCh7XG4gICAgICBtZXNzYWdlOiB6Mi5vYmplY3Qoe1xuICAgICAgICByb2xlOiB6Mi5saXRlcmFsKFwiYXNzaXN0YW50XCIpLm51bGxpc2goKSxcbiAgICAgICAgY29udGVudDogejIuc3RyaW5nKCkubnVsbGlzaCgpLFxuICAgICAgICBmdW5jdGlvbl9jYWxsOiB6Mi5vYmplY3Qoe1xuICAgICAgICAgIGFyZ3VtZW50czogejIuc3RyaW5nKCksXG4gICAgICAgICAgbmFtZTogejIuc3RyaW5nKClcbiAgICAgICAgfSkubnVsbGlzaCgpLFxuICAgICAgICB0b29sX2NhbGxzOiB6Mi5hcnJheShcbiAgICAgICAgICB6Mi5vYmplY3Qoe1xuICAgICAgICAgICAgaWQ6IHoyLnN0cmluZygpLm51bGxpc2goKSxcbiAgICAgICAgICAgIHR5cGU6IHoyLmxpdGVyYWwoXCJmdW5jdGlvblwiKSxcbiAgICAgICAgICAgIGZ1bmN0aW9uOiB6Mi5vYmplY3Qoe1xuICAgICAgICAgICAgICBuYW1lOiB6Mi5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgYXJndW1lbnRzOiB6Mi5zdHJpbmcoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICApLm51bGxpc2goKVxuICAgICAgfSksXG4gICAgICBpbmRleDogejIubnVtYmVyKCksXG4gICAgICBsb2dwcm9iczogejIub2JqZWN0KHtcbiAgICAgICAgY29udGVudDogejIuYXJyYXkoXG4gICAgICAgICAgejIub2JqZWN0KHtcbiAgICAgICAgICAgIHRva2VuOiB6Mi5zdHJpbmcoKSxcbiAgICAgICAgICAgIGxvZ3Byb2I6IHoyLm51bWJlcigpLFxuICAgICAgICAgICAgdG9wX2xvZ3Byb2JzOiB6Mi5hcnJheShcbiAgICAgICAgICAgICAgejIub2JqZWN0KHtcbiAgICAgICAgICAgICAgICB0b2tlbjogejIuc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgbG9ncHJvYjogejIubnVtYmVyKClcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KVxuICAgICAgICApLm51bGxhYmxlKClcbiAgICAgIH0pLm51bGxpc2goKSxcbiAgICAgIGZpbmlzaF9yZWFzb246IHoyLnN0cmluZygpLm51bGxpc2goKVxuICAgIH0pXG4gICksXG4gIHVzYWdlOiBvcGVuYWlUb2tlblVzYWdlU2NoZW1hXG59KTtcbnZhciBvcGVuYWlDaGF0Q2h1bmtTY2hlbWEgPSB6Mi51bmlvbihbXG4gIHoyLm9iamVjdCh7XG4gICAgaWQ6IHoyLnN0cmluZygpLm51bGxpc2goKSxcbiAgICBjcmVhdGVkOiB6Mi5udW1iZXIoKS5udWxsaXNoKCksXG4gICAgbW9kZWw6IHoyLnN0cmluZygpLm51bGxpc2goKSxcbiAgICBjaG9pY2VzOiB6Mi5hcnJheShcbiAgICAgIHoyLm9iamVjdCh7XG4gICAgICAgIGRlbHRhOiB6Mi5vYmplY3Qoe1xuICAgICAgICAgIHJvbGU6IHoyLmVudW0oW1wiYXNzaXN0YW50XCJdKS5udWxsaXNoKCksXG4gICAgICAgICAgY29udGVudDogejIuc3RyaW5nKCkubnVsbGlzaCgpLFxuICAgICAgICAgIGZ1bmN0aW9uX2NhbGw6IHoyLm9iamVjdCh7XG4gICAgICAgICAgICBuYW1lOiB6Mi5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgYXJndW1lbnRzOiB6Mi5zdHJpbmcoKS5vcHRpb25hbCgpXG4gICAgICAgICAgfSkubnVsbGlzaCgpLFxuICAgICAgICAgIHRvb2xfY2FsbHM6IHoyLmFycmF5KFxuICAgICAgICAgICAgejIub2JqZWN0KHtcbiAgICAgICAgICAgICAgaW5kZXg6IHoyLm51bWJlcigpLFxuICAgICAgICAgICAgICBpZDogejIuc3RyaW5nKCkubnVsbGlzaCgpLFxuICAgICAgICAgICAgICB0eXBlOiB6Mi5saXRlcmFsKFwiZnVuY3Rpb25cIikub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgZnVuY3Rpb246IHoyLm9iamVjdCh7XG4gICAgICAgICAgICAgICAgbmFtZTogejIuc3RyaW5nKCkubnVsbGlzaCgpLFxuICAgICAgICAgICAgICAgIGFyZ3VtZW50czogejIuc3RyaW5nKCkubnVsbGlzaCgpXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICkubnVsbGlzaCgpXG4gICAgICAgIH0pLm51bGxpc2goKSxcbiAgICAgICAgbG9ncHJvYnM6IHoyLm9iamVjdCh7XG4gICAgICAgICAgY29udGVudDogejIuYXJyYXkoXG4gICAgICAgICAgICB6Mi5vYmplY3Qoe1xuICAgICAgICAgICAgICB0b2tlbjogejIuc3RyaW5nKCksXG4gICAgICAgICAgICAgIGxvZ3Byb2I6IHoyLm51bWJlcigpLFxuICAgICAgICAgICAgICB0b3BfbG9ncHJvYnM6IHoyLmFycmF5KFxuICAgICAgICAgICAgICAgIHoyLm9iamVjdCh7XG4gICAgICAgICAgICAgICAgICB0b2tlbjogejIuc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICBsb2dwcm9iOiB6Mi5udW1iZXIoKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKS5udWxsYWJsZSgpXG4gICAgICAgIH0pLm51bGxpc2goKSxcbiAgICAgICAgZmluaXNoX3JlYXNvbjogejIuc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgICAgICBpbmRleDogejIubnVtYmVyKClcbiAgICAgIH0pXG4gICAgKSxcbiAgICB1c2FnZTogb3BlbmFpVG9rZW5Vc2FnZVNjaGVtYVxuICB9KSxcbiAgb3BlbmFpRXJyb3JEYXRhU2NoZW1hXG5dKTtcbmZ1bmN0aW9uIGlzUmVhc29uaW5nTW9kZWwobW9kZWxJZCkge1xuICByZXR1cm4gbW9kZWxJZC5zdGFydHNXaXRoKFwib1wiKTtcbn1cbmZ1bmN0aW9uIGlzQXVkaW9Nb2RlbChtb2RlbElkKSB7XG4gIHJldHVybiBtb2RlbElkLnN0YXJ0c1dpdGgoXCJncHQtNG8tYXVkaW8tcHJldmlld1wiKTtcbn1cbmZ1bmN0aW9uIGdldFN5c3RlbU1lc3NhZ2VNb2RlKG1vZGVsSWQpIHtcbiAgdmFyIF9hLCBfYjtcbiAgaWYgKCFpc1JlYXNvbmluZ01vZGVsKG1vZGVsSWQpKSB7XG4gICAgcmV0dXJuIFwic3lzdGVtXCI7XG4gIH1cbiAgcmV0dXJuIChfYiA9IChfYSA9IHJlYXNvbmluZ01vZGVsc1ttb2RlbElkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnN5c3RlbU1lc3NhZ2VNb2RlKSAhPSBudWxsID8gX2IgOiBcImRldmVsb3BlclwiO1xufVxudmFyIHJlYXNvbmluZ01vZGVscyA9IHtcbiAgXCJvMS1taW5pXCI6IHtcbiAgICBzeXN0ZW1NZXNzYWdlTW9kZTogXCJyZW1vdmVcIlxuICB9LFxuICBcIm8xLW1pbmktMjAyNC0wOS0xMlwiOiB7XG4gICAgc3lzdGVtTWVzc2FnZU1vZGU6IFwicmVtb3ZlXCJcbiAgfSxcbiAgXCJvMS1wcmV2aWV3XCI6IHtcbiAgICBzeXN0ZW1NZXNzYWdlTW9kZTogXCJyZW1vdmVcIlxuICB9LFxuICBcIm8xLXByZXZpZXctMjAyNC0wOS0xMlwiOiB7XG4gICAgc3lzdGVtTWVzc2FnZU1vZGU6IFwicmVtb3ZlXCJcbiAgfSxcbiAgXCJvMy1taW5pXCI6IHtcbiAgICBzeXN0ZW1NZXNzYWdlTW9kZTogXCJkZXZlbG9wZXJcIlxuICB9LFxuICBcIm8zLW1pbmktMjAyNS0wMS0zMVwiOiB7XG4gICAgc3lzdGVtTWVzc2FnZU1vZGU6IFwiZGV2ZWxvcGVyXCJcbiAgfVxufTtcblxuLy8gc3JjL29wZW5haS1jb21wbGV0aW9uLWxhbmd1YWdlLW1vZGVsLnRzXG5pbXBvcnQge1xuICBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvciBhcyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjVcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmltcG9ydCB7XG4gIGNvbWJpbmVIZWFkZXJzIGFzIGNvbWJpbmVIZWFkZXJzMixcbiAgY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIgYXMgY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIyLFxuICBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyIGFzIGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIyLFxuICBwb3N0SnNvblRvQXBpIGFzIHBvc3RKc29uVG9BcGkyXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQgeyB6IGFzIHozIH0gZnJvbSBcInpvZFwiO1xuXG4vLyBzcmMvY29udmVydC10by1vcGVuYWktY29tcGxldGlvbi1wcm9tcHQudHNcbmltcG9ydCB7XG4gIEludmFsaWRQcm9tcHRFcnJvcixcbiAgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IgYXMgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3I0XG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5mdW5jdGlvbiBjb252ZXJ0VG9PcGVuQUlDb21wbGV0aW9uUHJvbXB0KHtcbiAgcHJvbXB0LFxuICBpbnB1dEZvcm1hdCxcbiAgdXNlciA9IFwidXNlclwiLFxuICBhc3Npc3RhbnQgPSBcImFzc2lzdGFudFwiXG59KSB7XG4gIGlmIChpbnB1dEZvcm1hdCA9PT0gXCJwcm9tcHRcIiAmJiBwcm9tcHQubGVuZ3RoID09PSAxICYmIHByb21wdFswXS5yb2xlID09PSBcInVzZXJcIiAmJiBwcm9tcHRbMF0uY29udGVudC5sZW5ndGggPT09IDEgJiYgcHJvbXB0WzBdLmNvbnRlbnRbMF0udHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICByZXR1cm4geyBwcm9tcHQ6IHByb21wdFswXS5jb250ZW50WzBdLnRleHQgfTtcbiAgfVxuICBsZXQgdGV4dCA9IFwiXCI7XG4gIGlmIChwcm9tcHRbMF0ucm9sZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgIHRleHQgKz0gYCR7cHJvbXB0WzBdLmNvbnRlbnR9XG5cbmA7XG4gICAgcHJvbXB0ID0gcHJvbXB0LnNsaWNlKDEpO1xuICB9XG4gIGZvciAoY29uc3QgeyByb2xlLCBjb250ZW50IH0gb2YgcHJvbXB0KSB7XG4gICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICBjYXNlIFwic3lzdGVtXCI6IHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRQcm9tcHRFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogXCJVbmV4cGVjdGVkIHN5c3RlbSBtZXNzYWdlIGluIHByb21wdDogJHtjb250ZW50fVwiLFxuICAgICAgICAgIHByb21wdFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ1c2VyXCI6IHtcbiAgICAgICAgY29uc3QgdXNlck1lc3NhZ2UgPSBjb250ZW50Lm1hcCgocGFydCkgPT4ge1xuICAgICAgICAgIHN3aXRjaCAocGFydC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJ0LnRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW1hZ2VcIjoge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3I0KHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbmFsaXR5OiBcImltYWdlc1wiXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuam9pbihcIlwiKTtcbiAgICAgICAgdGV4dCArPSBgJHt1c2VyfTpcbiR7dXNlck1lc3NhZ2V9XG5cbmA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcImFzc2lzdGFudFwiOiB7XG4gICAgICAgIGNvbnN0IGFzc2lzdGFudE1lc3NhZ2UgPSBjb250ZW50Lm1hcCgocGFydCkgPT4ge1xuICAgICAgICAgIHN3aXRjaCAocGFydC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJ0LnRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vbC1jYWxsXCI6IHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yNCh7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb25hbGl0eTogXCJ0b29sLWNhbGwgbWVzc2FnZXNcIlxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pLmpvaW4oXCJcIik7XG4gICAgICAgIHRleHQgKz0gYCR7YXNzaXN0YW50fTpcbiR7YXNzaXN0YW50TWVzc2FnZX1cblxuYDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwidG9vbFwiOiB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjQoe1xuICAgICAgICAgIGZ1bmN0aW9uYWxpdHk6IFwidG9vbCBtZXNzYWdlc1wiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gcm9sZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCByb2xlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHRleHQgKz0gYCR7YXNzaXN0YW50fTpcbmA7XG4gIHJldHVybiB7XG4gICAgcHJvbXB0OiB0ZXh0LFxuICAgIHN0b3BTZXF1ZW5jZXM6IFtgXG4ke3VzZXJ9OmBdXG4gIH07XG59XG5cbi8vIHNyYy9tYXAtb3BlbmFpLWNvbXBsZXRpb24tbG9ncHJvYnMudHNcbmZ1bmN0aW9uIG1hcE9wZW5BSUNvbXBsZXRpb25Mb2dQcm9icyhsb2dwcm9icykge1xuICByZXR1cm4gbG9ncHJvYnMgPT0gbnVsbCA/IHZvaWQgMCA6IGxvZ3Byb2JzLnRva2Vucy5tYXAoKHRva2VuLCBpbmRleCkgPT4gKHtcbiAgICB0b2tlbixcbiAgICBsb2dwcm9iOiBsb2dwcm9icy50b2tlbl9sb2dwcm9ic1tpbmRleF0sXG4gICAgdG9wTG9ncHJvYnM6IGxvZ3Byb2JzLnRvcF9sb2dwcm9icyA/IE9iamVjdC5lbnRyaWVzKGxvZ3Byb2JzLnRvcF9sb2dwcm9ic1tpbmRleF0pLm1hcChcbiAgICAgIChbdG9rZW4yLCBsb2dwcm9iXSkgPT4gKHtcbiAgICAgICAgdG9rZW46IHRva2VuMixcbiAgICAgICAgbG9ncHJvYlxuICAgICAgfSlcbiAgICApIDogW11cbiAgfSkpO1xufVxuXG4vLyBzcmMvb3BlbmFpLWNvbXBsZXRpb24tbGFuZ3VhZ2UtbW9kZWwudHNcbnZhciBPcGVuQUlDb21wbGV0aW9uTGFuZ3VhZ2VNb2RlbCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IobW9kZWxJZCwgc2V0dGluZ3MsIGNvbmZpZykge1xuICAgIHRoaXMuc3BlY2lmaWNhdGlvblZlcnNpb24gPSBcInYxXCI7XG4gICAgdGhpcy5kZWZhdWx0T2JqZWN0R2VuZXJhdGlvbk1vZGUgPSB2b2lkIDA7XG4gICAgdGhpcy5tb2RlbElkID0gbW9kZWxJZDtcbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gIH1cbiAgZ2V0IHByb3ZpZGVyKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5wcm92aWRlcjtcbiAgfVxuICBnZXRBcmdzKHtcbiAgICBtb2RlLFxuICAgIGlucHV0Rm9ybWF0LFxuICAgIHByb21wdCxcbiAgICBtYXhUb2tlbnMsXG4gICAgdGVtcGVyYXR1cmUsXG4gICAgdG9wUCxcbiAgICB0b3BLLFxuICAgIGZyZXF1ZW5jeVBlbmFsdHksXG4gICAgcHJlc2VuY2VQZW5hbHR5LFxuICAgIHN0b3BTZXF1ZW5jZXM6IHVzZXJTdG9wU2VxdWVuY2VzLFxuICAgIHJlc3BvbnNlRm9ybWF0LFxuICAgIHNlZWRcbiAgfSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB0eXBlID0gbW9kZS50eXBlO1xuICAgIGNvbnN0IHdhcm5pbmdzID0gW107XG4gICAgaWYgKHRvcEsgIT0gbnVsbCkge1xuICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgIHR5cGU6IFwidW5zdXBwb3J0ZWQtc2V0dGluZ1wiLFxuICAgICAgICBzZXR0aW5nOiBcInRvcEtcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChyZXNwb25zZUZvcm1hdCAhPSBudWxsICYmIHJlc3BvbnNlRm9ybWF0LnR5cGUgIT09IFwidGV4dFwiKSB7XG4gICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJ1bnN1cHBvcnRlZC1zZXR0aW5nXCIsXG4gICAgICAgIHNldHRpbmc6IFwicmVzcG9uc2VGb3JtYXRcIixcbiAgICAgICAgZGV0YWlsczogXCJKU09OIHJlc3BvbnNlIGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkLlwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgeyBwcm9tcHQ6IGNvbXBsZXRpb25Qcm9tcHQsIHN0b3BTZXF1ZW5jZXMgfSA9IGNvbnZlcnRUb09wZW5BSUNvbXBsZXRpb25Qcm9tcHQoeyBwcm9tcHQsIGlucHV0Rm9ybWF0IH0pO1xuICAgIGNvbnN0IHN0b3AgPSBbLi4uc3RvcFNlcXVlbmNlcyAhPSBudWxsID8gc3RvcFNlcXVlbmNlcyA6IFtdLCAuLi51c2VyU3RvcFNlcXVlbmNlcyAhPSBudWxsID8gdXNlclN0b3BTZXF1ZW5jZXMgOiBbXV07XG4gICAgY29uc3QgYmFzZUFyZ3MgPSB7XG4gICAgICAvLyBtb2RlbCBpZDpcbiAgICAgIG1vZGVsOiB0aGlzLm1vZGVsSWQsXG4gICAgICAvLyBtb2RlbCBzcGVjaWZpYyBzZXR0aW5nczpcbiAgICAgIGVjaG86IHRoaXMuc2V0dGluZ3MuZWNobyxcbiAgICAgIGxvZ2l0X2JpYXM6IHRoaXMuc2V0dGluZ3MubG9naXRCaWFzLFxuICAgICAgbG9ncHJvYnM6IHR5cGVvZiB0aGlzLnNldHRpbmdzLmxvZ3Byb2JzID09PSBcIm51bWJlclwiID8gdGhpcy5zZXR0aW5ncy5sb2dwcm9icyA6IHR5cGVvZiB0aGlzLnNldHRpbmdzLmxvZ3Byb2JzID09PSBcImJvb2xlYW5cIiA/IHRoaXMuc2V0dGluZ3MubG9ncHJvYnMgPyAwIDogdm9pZCAwIDogdm9pZCAwLFxuICAgICAgc3VmZml4OiB0aGlzLnNldHRpbmdzLnN1ZmZpeCxcbiAgICAgIHVzZXI6IHRoaXMuc2V0dGluZ3MudXNlcixcbiAgICAgIC8vIHN0YW5kYXJkaXplZCBzZXR0aW5nczpcbiAgICAgIG1heF90b2tlbnM6IG1heFRva2VucyxcbiAgICAgIHRlbXBlcmF0dXJlLFxuICAgICAgdG9wX3A6IHRvcFAsXG4gICAgICBmcmVxdWVuY3lfcGVuYWx0eTogZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgIHByZXNlbmNlX3BlbmFsdHk6IHByZXNlbmNlUGVuYWx0eSxcbiAgICAgIHNlZWQsXG4gICAgICAvLyBwcm9tcHQ6XG4gICAgICBwcm9tcHQ6IGNvbXBsZXRpb25Qcm9tcHQsXG4gICAgICAvLyBzdG9wIHNlcXVlbmNlczpcbiAgICAgIHN0b3A6IHN0b3AubGVuZ3RoID4gMCA/IHN0b3AgOiB2b2lkIDBcbiAgICB9O1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInJlZ3VsYXJcIjoge1xuICAgICAgICBpZiAoKF9hID0gbW9kZS50b29scykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkge1xuICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjUoe1xuICAgICAgICAgICAgZnVuY3Rpb25hbGl0eTogXCJ0b29sc1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGUudG9vbENob2ljZSkge1xuICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjUoe1xuICAgICAgICAgICAgZnVuY3Rpb25hbGl0eTogXCJ0b29sQ2hvaWNlXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBhcmdzOiBiYXNlQXJncywgd2FybmluZ3MgfTtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJvYmplY3QtanNvblwiOiB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjUoe1xuICAgICAgICAgIGZ1bmN0aW9uYWxpdHk6IFwib2JqZWN0LWpzb24gbW9kZVwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY2FzZSBcIm9iamVjdC10b29sXCI6IHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yNSh7XG4gICAgICAgICAgZnVuY3Rpb25hbGl0eTogXCJvYmplY3QtdG9vbCBtb2RlXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSB0eXBlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHR5cGU6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYXN5bmMgZG9HZW5lcmF0ZShvcHRpb25zKSB7XG4gICAgY29uc3QgeyBhcmdzLCB3YXJuaW5ncyB9ID0gdGhpcy5nZXRBcmdzKG9wdGlvbnMpO1xuICAgIGNvbnN0IHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHZhbHVlOiByZXNwb25zZSxcbiAgICAgIHJhd1ZhbHVlOiByYXdSZXNwb25zZVxuICAgIH0gPSBhd2FpdCBwb3N0SnNvblRvQXBpMih7XG4gICAgICB1cmw6IHRoaXMuY29uZmlnLnVybCh7XG4gICAgICAgIHBhdGg6IFwiL2NvbXBsZXRpb25zXCIsXG4gICAgICAgIG1vZGVsSWQ6IHRoaXMubW9kZWxJZFxuICAgICAgfSksXG4gICAgICBoZWFkZXJzOiBjb21iaW5lSGVhZGVyczIodGhpcy5jb25maWcuaGVhZGVycygpLCBvcHRpb25zLmhlYWRlcnMpLFxuICAgICAgYm9keTogYXJncyxcbiAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogb3BlbmFpRmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcjIoXG4gICAgICAgIG9wZW5haUNvbXBsZXRpb25SZXNwb25zZVNjaGVtYVxuICAgICAgKSxcbiAgICAgIGFib3J0U2lnbmFsOiBvcHRpb25zLmFib3J0U2lnbmFsLFxuICAgICAgZmV0Y2g6IHRoaXMuY29uZmlnLmZldGNoXG4gICAgfSk7XG4gICAgY29uc3QgeyBwcm9tcHQ6IHJhd1Byb21wdCwgLi4ucmF3U2V0dGluZ3MgfSA9IGFyZ3M7XG4gICAgY29uc3QgY2hvaWNlID0gcmVzcG9uc2UuY2hvaWNlc1swXTtcbiAgICByZXR1cm4ge1xuICAgICAgdGV4dDogY2hvaWNlLnRleHQsXG4gICAgICB1c2FnZToge1xuICAgICAgICBwcm9tcHRUb2tlbnM6IHJlc3BvbnNlLnVzYWdlLnByb21wdF90b2tlbnMsXG4gICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IHJlc3BvbnNlLnVzYWdlLmNvbXBsZXRpb25fdG9rZW5zXG4gICAgICB9LFxuICAgICAgZmluaXNoUmVhc29uOiBtYXBPcGVuQUlGaW5pc2hSZWFzb24oY2hvaWNlLmZpbmlzaF9yZWFzb24pLFxuICAgICAgbG9ncHJvYnM6IG1hcE9wZW5BSUNvbXBsZXRpb25Mb2dQcm9icyhjaG9pY2UubG9ncHJvYnMpLFxuICAgICAgcmF3Q2FsbDogeyByYXdQcm9tcHQsIHJhd1NldHRpbmdzIH0sXG4gICAgICByYXdSZXNwb25zZTogeyBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsIGJvZHk6IHJhd1Jlc3BvbnNlIH0sXG4gICAgICByZXNwb25zZTogZ2V0UmVzcG9uc2VNZXRhZGF0YShyZXNwb25zZSksXG4gICAgICB3YXJuaW5ncyxcbiAgICAgIHJlcXVlc3Q6IHsgYm9keTogSlNPTi5zdHJpbmdpZnkoYXJncykgfVxuICAgIH07XG4gIH1cbiAgYXN5bmMgZG9TdHJlYW0ob3B0aW9ucykge1xuICAgIGNvbnN0IHsgYXJncywgd2FybmluZ3MgfSA9IHRoaXMuZ2V0QXJncyhvcHRpb25zKTtcbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgLi4uYXJncyxcbiAgICAgIHN0cmVhbTogdHJ1ZSxcbiAgICAgIC8vIG9ubHkgaW5jbHVkZSBzdHJlYW1fb3B0aW9ucyB3aGVuIGluIHN0cmljdCBjb21wYXRpYmlsaXR5IG1vZGU6XG4gICAgICBzdHJlYW1fb3B0aW9uczogdGhpcy5jb25maWcuY29tcGF0aWJpbGl0eSA9PT0gXCJzdHJpY3RcIiA/IHsgaW5jbHVkZV91c2FnZTogdHJ1ZSB9IDogdm9pZCAwXG4gICAgfTtcbiAgICBjb25zdCB7IHJlc3BvbnNlSGVhZGVycywgdmFsdWU6IHJlc3BvbnNlIH0gPSBhd2FpdCBwb3N0SnNvblRvQXBpMih7XG4gICAgICB1cmw6IHRoaXMuY29uZmlnLnVybCh7XG4gICAgICAgIHBhdGg6IFwiL2NvbXBsZXRpb25zXCIsXG4gICAgICAgIG1vZGVsSWQ6IHRoaXMubW9kZWxJZFxuICAgICAgfSksXG4gICAgICBoZWFkZXJzOiBjb21iaW5lSGVhZGVyczIodGhpcy5jb25maWcuaGVhZGVycygpLCBvcHRpb25zLmhlYWRlcnMpLFxuICAgICAgYm9keSxcbiAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogb3BlbmFpRmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIyKFxuICAgICAgICBvcGVuYWlDb21wbGV0aW9uQ2h1bmtTY2hlbWFcbiAgICAgICksXG4gICAgICBhYm9ydFNpZ25hbDogb3B0aW9ucy5hYm9ydFNpZ25hbCxcbiAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaFxuICAgIH0pO1xuICAgIGNvbnN0IHsgcHJvbXB0OiByYXdQcm9tcHQsIC4uLnJhd1NldHRpbmdzIH0gPSBhcmdzO1xuICAgIGxldCBmaW5pc2hSZWFzb24gPSBcInVua25vd25cIjtcbiAgICBsZXQgdXNhZ2UgPSB7XG4gICAgICBwcm9tcHRUb2tlbnM6IE51bWJlci5OYU4sXG4gICAgICBjb21wbGV0aW9uVG9rZW5zOiBOdW1iZXIuTmFOXG4gICAgfTtcbiAgICBsZXQgbG9ncHJvYnM7XG4gICAgbGV0IGlzRmlyc3RDaHVuayA9IHRydWU7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0cmVhbTogcmVzcG9uc2UucGlwZVRocm91Z2goXG4gICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgaWYgKCFjaHVuay5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIGZpbmlzaFJlYXNvbiA9IFwiZXJyb3JcIjtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogXCJlcnJvclwiLCBlcnJvcjogY2h1bmsuZXJyb3IgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY2h1bmsudmFsdWU7XG4gICAgICAgICAgICBpZiAoXCJlcnJvclwiIGluIHZhbHVlKSB7XG4gICAgICAgICAgICAgIGZpbmlzaFJlYXNvbiA9IFwiZXJyb3JcIjtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogXCJlcnJvclwiLCBlcnJvcjogdmFsdWUuZXJyb3IgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0ZpcnN0Q2h1bmspIHtcbiAgICAgICAgICAgICAgaXNGaXJzdENodW5rID0gZmFsc2U7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJyZXNwb25zZS1tZXRhZGF0YVwiLFxuICAgICAgICAgICAgICAgIC4uLmdldFJlc3BvbnNlTWV0YWRhdGEodmFsdWUpXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLnVzYWdlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgdXNhZ2UgPSB7XG4gICAgICAgICAgICAgICAgcHJvbXB0VG9rZW5zOiB2YWx1ZS51c2FnZS5wcm9tcHRfdG9rZW5zLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IHZhbHVlLnVzYWdlLmNvbXBsZXRpb25fdG9rZW5zXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjaG9pY2UgPSB2YWx1ZS5jaG9pY2VzWzBdO1xuICAgICAgICAgICAgaWYgKChjaG9pY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGNob2ljZS5maW5pc2hfcmVhc29uKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGZpbmlzaFJlYXNvbiA9IG1hcE9wZW5BSUZpbmlzaFJlYXNvbihjaG9pY2UuZmluaXNoX3JlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGNob2ljZSA9PSBudWxsID8gdm9pZCAwIDogY2hvaWNlLnRleHQpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHQtZGVsdGFcIixcbiAgICAgICAgICAgICAgICB0ZXh0RGVsdGE6IGNob2ljZS50ZXh0XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWFwcGVkTG9ncHJvYnMgPSBtYXBPcGVuQUlDb21wbGV0aW9uTG9nUHJvYnMoXG4gICAgICAgICAgICAgIGNob2ljZSA9PSBudWxsID8gdm9pZCAwIDogY2hvaWNlLmxvZ3Byb2JzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKG1hcHBlZExvZ3Byb2JzID09IG51bGwgPyB2b2lkIDAgOiBtYXBwZWRMb2dwcm9icy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaWYgKGxvZ3Byb2JzID09PSB2b2lkIDApIGxvZ3Byb2JzID0gW107XG4gICAgICAgICAgICAgIGxvZ3Byb2JzLnB1c2goLi4ubWFwcGVkTG9ncHJvYnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmx1c2goY29udHJvbGxlcikge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgdHlwZTogXCJmaW5pc2hcIixcbiAgICAgICAgICAgICAgZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICBsb2dwcm9icyxcbiAgICAgICAgICAgICAgdXNhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgICByYXdDYWxsOiB7IHJhd1Byb21wdCwgcmF3U2V0dGluZ3MgfSxcbiAgICAgIHJhd1Jlc3BvbnNlOiB7IGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyB9LFxuICAgICAgd2FybmluZ3MsXG4gICAgICByZXF1ZXN0OiB7IGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpIH1cbiAgICB9O1xuICB9XG59O1xudmFyIG9wZW5haUNvbXBsZXRpb25SZXNwb25zZVNjaGVtYSA9IHozLm9iamVjdCh7XG4gIGlkOiB6My5zdHJpbmcoKS5udWxsaXNoKCksXG4gIGNyZWF0ZWQ6IHozLm51bWJlcigpLm51bGxpc2goKSxcbiAgbW9kZWw6IHozLnN0cmluZygpLm51bGxpc2goKSxcbiAgY2hvaWNlczogejMuYXJyYXkoXG4gICAgejMub2JqZWN0KHtcbiAgICAgIHRleHQ6IHozLnN0cmluZygpLFxuICAgICAgZmluaXNoX3JlYXNvbjogejMuc3RyaW5nKCksXG4gICAgICBsb2dwcm9iczogejMub2JqZWN0KHtcbiAgICAgICAgdG9rZW5zOiB6My5hcnJheSh6My5zdHJpbmcoKSksXG4gICAgICAgIHRva2VuX2xvZ3Byb2JzOiB6My5hcnJheSh6My5udW1iZXIoKSksXG4gICAgICAgIHRvcF9sb2dwcm9iczogejMuYXJyYXkoejMucmVjb3JkKHozLnN0cmluZygpLCB6My5udW1iZXIoKSkpLm51bGxhYmxlKClcbiAgICAgIH0pLm51bGxpc2goKVxuICAgIH0pXG4gICksXG4gIHVzYWdlOiB6My5vYmplY3Qoe1xuICAgIHByb21wdF90b2tlbnM6IHozLm51bWJlcigpLFxuICAgIGNvbXBsZXRpb25fdG9rZW5zOiB6My5udW1iZXIoKVxuICB9KVxufSk7XG52YXIgb3BlbmFpQ29tcGxldGlvbkNodW5rU2NoZW1hID0gejMudW5pb24oW1xuICB6My5vYmplY3Qoe1xuICAgIGlkOiB6My5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgY3JlYXRlZDogejMubnVtYmVyKCkubnVsbGlzaCgpLFxuICAgIG1vZGVsOiB6My5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgY2hvaWNlczogejMuYXJyYXkoXG4gICAgICB6My5vYmplY3Qoe1xuICAgICAgICB0ZXh0OiB6My5zdHJpbmcoKSxcbiAgICAgICAgZmluaXNoX3JlYXNvbjogejMuc3RyaW5nKCkubnVsbGlzaCgpLFxuICAgICAgICBpbmRleDogejMubnVtYmVyKCksXG4gICAgICAgIGxvZ3Byb2JzOiB6My5vYmplY3Qoe1xuICAgICAgICAgIHRva2VuczogejMuYXJyYXkoejMuc3RyaW5nKCkpLFxuICAgICAgICAgIHRva2VuX2xvZ3Byb2JzOiB6My5hcnJheSh6My5udW1iZXIoKSksXG4gICAgICAgICAgdG9wX2xvZ3Byb2JzOiB6My5hcnJheSh6My5yZWNvcmQoejMuc3RyaW5nKCksIHozLm51bWJlcigpKSkubnVsbGFibGUoKVxuICAgICAgICB9KS5udWxsaXNoKClcbiAgICAgIH0pXG4gICAgKSxcbiAgICB1c2FnZTogejMub2JqZWN0KHtcbiAgICAgIHByb21wdF90b2tlbnM6IHozLm51bWJlcigpLFxuICAgICAgY29tcGxldGlvbl90b2tlbnM6IHozLm51bWJlcigpXG4gICAgfSkubnVsbGlzaCgpXG4gIH0pLFxuICBvcGVuYWlFcnJvckRhdGFTY2hlbWFcbl0pO1xuXG4vLyBzcmMvb3BlbmFpLWVtYmVkZGluZy1tb2RlbC50c1xuaW1wb3J0IHtcbiAgVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvclxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHtcbiAgY29tYmluZUhlYWRlcnMgYXMgY29tYmluZUhlYWRlcnMzLFxuICBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyIGFzIGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIzLFxuICBwb3N0SnNvblRvQXBpIGFzIHBvc3RKc29uVG9BcGkzXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQgeyB6IGFzIHo0IH0gZnJvbSBcInpvZFwiO1xudmFyIE9wZW5BSUVtYmVkZGluZ01vZGVsID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihtb2RlbElkLCBzZXR0aW5ncywgY29uZmlnKSB7XG4gICAgdGhpcy5zcGVjaWZpY2F0aW9uVmVyc2lvbiA9IFwidjFcIjtcbiAgICB0aGlzLm1vZGVsSWQgPSBtb2RlbElkO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuICBnZXQgcHJvdmlkZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnByb3ZpZGVyO1xuICB9XG4gIGdldCBtYXhFbWJlZGRpbmdzUGVyQ2FsbCgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHRoaXMuc2V0dGluZ3MubWF4RW1iZWRkaW5nc1BlckNhbGwpICE9IG51bGwgPyBfYSA6IDIwNDg7XG4gIH1cbiAgZ2V0IHN1cHBvcnRzUGFyYWxsZWxDYWxscygpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHRoaXMuc2V0dGluZ3Muc3VwcG9ydHNQYXJhbGxlbENhbGxzKSAhPSBudWxsID8gX2EgOiB0cnVlO1xuICB9XG4gIGFzeW5jIGRvRW1iZWQoe1xuICAgIHZhbHVlcyxcbiAgICBoZWFkZXJzLFxuICAgIGFib3J0U2lnbmFsXG4gIH0pIHtcbiAgICBpZiAodmFsdWVzLmxlbmd0aCA+IHRoaXMubWF4RW1iZWRkaW5nc1BlckNhbGwpIHtcbiAgICAgIHRocm93IG5ldyBUb29NYW55RW1iZWRkaW5nVmFsdWVzRm9yQ2FsbEVycm9yKHtcbiAgICAgICAgcHJvdmlkZXI6IHRoaXMucHJvdmlkZXIsXG4gICAgICAgIG1vZGVsSWQ6IHRoaXMubW9kZWxJZCxcbiAgICAgICAgbWF4RW1iZWRkaW5nc1BlckNhbGw6IHRoaXMubWF4RW1iZWRkaW5nc1BlckNhbGwsXG4gICAgICAgIHZhbHVlc1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHsgcmVzcG9uc2VIZWFkZXJzLCB2YWx1ZTogcmVzcG9uc2UgfSA9IGF3YWl0IHBvc3RKc29uVG9BcGkzKHtcbiAgICAgIHVybDogdGhpcy5jb25maWcudXJsKHtcbiAgICAgICAgcGF0aDogXCIvZW1iZWRkaW5nc1wiLFxuICAgICAgICBtb2RlbElkOiB0aGlzLm1vZGVsSWRcbiAgICAgIH0pLFxuICAgICAgaGVhZGVyczogY29tYmluZUhlYWRlcnMzKHRoaXMuY29uZmlnLmhlYWRlcnMoKSwgaGVhZGVycyksXG4gICAgICBib2R5OiB7XG4gICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsSWQsXG4gICAgICAgIGlucHV0OiB2YWx1ZXMsXG4gICAgICAgIGVuY29kaW5nX2Zvcm1hdDogXCJmbG9hdFwiLFxuICAgICAgICBkaW1lbnNpb25zOiB0aGlzLnNldHRpbmdzLmRpbWVuc2lvbnMsXG4gICAgICAgIHVzZXI6IHRoaXMuc2V0dGluZ3MudXNlclxuICAgICAgfSxcbiAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogb3BlbmFpRmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcjMoXG4gICAgICAgIG9wZW5haVRleHRFbWJlZGRpbmdSZXNwb25zZVNjaGVtYVxuICAgICAgKSxcbiAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgZmV0Y2g6IHRoaXMuY29uZmlnLmZldGNoXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVtYmVkZGluZ3M6IHJlc3BvbnNlLmRhdGEubWFwKChpdGVtKSA9PiBpdGVtLmVtYmVkZGluZyksXG4gICAgICB1c2FnZTogcmVzcG9uc2UudXNhZ2UgPyB7IHRva2VuczogcmVzcG9uc2UudXNhZ2UucHJvbXB0X3Rva2VucyB9IDogdm9pZCAwLFxuICAgICAgcmF3UmVzcG9uc2U6IHsgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzIH1cbiAgICB9O1xuICB9XG59O1xudmFyIG9wZW5haVRleHRFbWJlZGRpbmdSZXNwb25zZVNjaGVtYSA9IHo0Lm9iamVjdCh7XG4gIGRhdGE6IHo0LmFycmF5KHo0Lm9iamVjdCh7IGVtYmVkZGluZzogejQuYXJyYXkoejQubnVtYmVyKCkpIH0pKSxcbiAgdXNhZ2U6IHo0Lm9iamVjdCh7IHByb21wdF90b2tlbnM6IHo0Lm51bWJlcigpIH0pLm51bGxpc2goKVxufSk7XG5cbi8vIHNyYy9vcGVuYWktaW1hZ2UtbW9kZWwudHNcbmltcG9ydCB7XG4gIGNvbWJpbmVIZWFkZXJzIGFzIGNvbWJpbmVIZWFkZXJzNCxcbiAgY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlciBhcyBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyNCxcbiAgcG9zdEpzb25Ub0FwaSBhcyBwb3N0SnNvblRvQXBpNFxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuaW1wb3J0IHsgeiBhcyB6NSB9IGZyb20gXCJ6b2RcIjtcblxuLy8gc3JjL29wZW5haS1pbWFnZS1zZXR0aW5ncy50c1xudmFyIG1vZGVsTWF4SW1hZ2VzUGVyQ2FsbCA9IHtcbiAgXCJkYWxsLWUtM1wiOiAxLFxuICBcImRhbGwtZS0yXCI6IDEwXG59O1xuXG4vLyBzcmMvb3BlbmFpLWltYWdlLW1vZGVsLnRzXG52YXIgT3BlbkFJSW1hZ2VNb2RlbCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IobW9kZWxJZCwgc2V0dGluZ3MsIGNvbmZpZykge1xuICAgIHRoaXMubW9kZWxJZCA9IG1vZGVsSWQ7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuc3BlY2lmaWNhdGlvblZlcnNpb24gPSBcInYxXCI7XG4gIH1cbiAgZ2V0IG1heEltYWdlc1BlckNhbGwoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5zZXR0aW5ncy5tYXhJbWFnZXNQZXJDYWxsKSAhPSBudWxsID8gX2EgOiBtb2RlbE1heEltYWdlc1BlckNhbGxbdGhpcy5tb2RlbElkXSkgIT0gbnVsbCA/IF9iIDogMTtcbiAgfVxuICBnZXQgcHJvdmlkZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnByb3ZpZGVyO1xuICB9XG4gIGFzeW5jIGRvR2VuZXJhdGUoe1xuICAgIHByb21wdCxcbiAgICBuLFxuICAgIHNpemUsXG4gICAgYXNwZWN0UmF0aW8sXG4gICAgc2VlZCxcbiAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgaGVhZGVycyxcbiAgICBhYm9ydFNpZ25hbFxuICB9KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IHdhcm5pbmdzID0gW107XG4gICAgaWYgKGFzcGVjdFJhdGlvICE9IG51bGwpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgc2V0dGluZzogXCJhc3BlY3RSYXRpb1wiLFxuICAgICAgICBkZXRhaWxzOiBcIlRoaXMgbW9kZWwgZG9lcyBub3Qgc3VwcG9ydCBhc3BlY3QgcmF0aW8uIFVzZSBgc2l6ZWAgaW5zdGVhZC5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChzZWVkICE9IG51bGwpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goeyB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIiwgc2V0dGluZzogXCJzZWVkXCIgfSk7XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnREYXRlID0gKF9jID0gKF9iID0gKF9hID0gdGhpcy5jb25maWcuX2ludGVybmFsKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY3VycmVudERhdGUpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKSkgIT0gbnVsbCA/IF9jIDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCk7XG4gICAgY29uc3QgeyB2YWx1ZTogcmVzcG9uc2UsIHJlc3BvbnNlSGVhZGVycyB9ID0gYXdhaXQgcG9zdEpzb25Ub0FwaTQoe1xuICAgICAgdXJsOiB0aGlzLmNvbmZpZy51cmwoe1xuICAgICAgICBwYXRoOiBcIi9pbWFnZXMvZ2VuZXJhdGlvbnNcIixcbiAgICAgICAgbW9kZWxJZDogdGhpcy5tb2RlbElkXG4gICAgICB9KSxcbiAgICAgIGhlYWRlcnM6IGNvbWJpbmVIZWFkZXJzNCh0aGlzLmNvbmZpZy5oZWFkZXJzKCksIGhlYWRlcnMpLFxuICAgICAgYm9keToge1xuICAgICAgICBtb2RlbDogdGhpcy5tb2RlbElkLFxuICAgICAgICBwcm9tcHQsXG4gICAgICAgIG4sXG4gICAgICAgIHNpemUsXG4gICAgICAgIC4uLihfZCA9IHByb3ZpZGVyT3B0aW9ucy5vcGVuYWkpICE9IG51bGwgPyBfZCA6IHt9LFxuICAgICAgICByZXNwb25zZV9mb3JtYXQ6IFwiYjY0X2pzb25cIlxuICAgICAgfSxcbiAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogb3BlbmFpRmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcjQoXG4gICAgICAgIG9wZW5haUltYWdlUmVzcG9uc2VTY2hlbWFcbiAgICAgICksXG4gICAgICBhYm9ydFNpZ25hbCxcbiAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBpbWFnZXM6IHJlc3BvbnNlLmRhdGEubWFwKChpdGVtKSA9PiBpdGVtLmI2NF9qc29uKSxcbiAgICAgIHdhcm5pbmdzLFxuICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgdGltZXN0YW1wOiBjdXJyZW50RGF0ZSxcbiAgICAgICAgbW9kZWxJZDogdGhpcy5tb2RlbElkLFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnNcbiAgICAgIH1cbiAgICB9O1xuICB9XG59O1xudmFyIG9wZW5haUltYWdlUmVzcG9uc2VTY2hlbWEgPSB6NS5vYmplY3Qoe1xuICBkYXRhOiB6NS5hcnJheSh6NS5vYmplY3QoeyBiNjRfanNvbjogejUuc3RyaW5nKCkgfSkpXG59KTtcblxuLy8gc3JjL29wZW5haS10cmFuc2NyaXB0aW9uLW1vZGVsLnRzXG5pbXBvcnQge1xuICBjb21iaW5lSGVhZGVycyBhcyBjb21iaW5lSGVhZGVyczUsXG4gIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXksXG4gIGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIgYXMgY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcjUsXG4gIHBhcnNlUHJvdmlkZXJPcHRpb25zLFxuICBwb3N0Rm9ybURhdGFUb0FwaVxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuaW1wb3J0IHsgeiBhcyB6NiB9IGZyb20gXCJ6b2RcIjtcbnZhciBvcGVuQUlQcm92aWRlck9wdGlvbnNTY2hlbWEgPSB6Ni5vYmplY3Qoe1xuICBpbmNsdWRlOiB6Ni5hcnJheSh6Ni5zdHJpbmcoKSkubnVsbGlzaCgpLFxuICBsYW5ndWFnZTogejYuc3RyaW5nKCkubnVsbGlzaCgpLFxuICBwcm9tcHQ6IHo2LnN0cmluZygpLm51bGxpc2goKSxcbiAgdGVtcGVyYXR1cmU6IHo2Lm51bWJlcigpLm1pbigwKS5tYXgoMSkubnVsbGlzaCgpLmRlZmF1bHQoMCksXG4gIHRpbWVzdGFtcEdyYW51bGFyaXRpZXM6IHo2LmFycmF5KHo2LmVudW0oW1wid29yZFwiLCBcInNlZ21lbnRcIl0pKS5udWxsaXNoKCkuZGVmYXVsdChbXCJzZWdtZW50XCJdKVxufSk7XG52YXIgbGFuZ3VhZ2VNYXAgPSB7XG4gIGFmcmlrYWFuczogXCJhZlwiLFxuICBhcmFiaWM6IFwiYXJcIixcbiAgYXJtZW5pYW46IFwiaHlcIixcbiAgYXplcmJhaWphbmk6IFwiYXpcIixcbiAgYmVsYXJ1c2lhbjogXCJiZVwiLFxuICBib3NuaWFuOiBcImJzXCIsXG4gIGJ1bGdhcmlhbjogXCJiZ1wiLFxuICBjYXRhbGFuOiBcImNhXCIsXG4gIGNoaW5lc2U6IFwiemhcIixcbiAgY3JvYXRpYW46IFwiaHJcIixcbiAgY3plY2g6IFwiY3NcIixcbiAgZGFuaXNoOiBcImRhXCIsXG4gIGR1dGNoOiBcIm5sXCIsXG4gIGVuZ2xpc2g6IFwiZW5cIixcbiAgZXN0b25pYW46IFwiZXRcIixcbiAgZmlubmlzaDogXCJmaVwiLFxuICBmcmVuY2g6IFwiZnJcIixcbiAgZ2FsaWNpYW46IFwiZ2xcIixcbiAgZ2VybWFuOiBcImRlXCIsXG4gIGdyZWVrOiBcImVsXCIsXG4gIGhlYnJldzogXCJoZVwiLFxuICBoaW5kaTogXCJoaVwiLFxuICBodW5nYXJpYW46IFwiaHVcIixcbiAgaWNlbGFuZGljOiBcImlzXCIsXG4gIGluZG9uZXNpYW46IFwiaWRcIixcbiAgaXRhbGlhbjogXCJpdFwiLFxuICBqYXBhbmVzZTogXCJqYVwiLFxuICBrYW5uYWRhOiBcImtuXCIsXG4gIGthemFraDogXCJra1wiLFxuICBrb3JlYW46IFwia29cIixcbiAgbGF0dmlhbjogXCJsdlwiLFxuICBsaXRodWFuaWFuOiBcImx0XCIsXG4gIG1hY2Vkb25pYW46IFwibWtcIixcbiAgbWFsYXk6IFwibXNcIixcbiAgbWFyYXRoaTogXCJtclwiLFxuICBtYW9yaTogXCJtaVwiLFxuICBuZXBhbGk6IFwibmVcIixcbiAgbm9yd2VnaWFuOiBcIm5vXCIsXG4gIHBlcnNpYW46IFwiZmFcIixcbiAgcG9saXNoOiBcInBsXCIsXG4gIHBvcnR1Z3Vlc2U6IFwicHRcIixcbiAgcm9tYW5pYW46IFwicm9cIixcbiAgcnVzc2lhbjogXCJydVwiLFxuICBzZXJiaWFuOiBcInNyXCIsXG4gIHNsb3ZhazogXCJza1wiLFxuICBzbG92ZW5pYW46IFwic2xcIixcbiAgc3BhbmlzaDogXCJlc1wiLFxuICBzd2FoaWxpOiBcInN3XCIsXG4gIHN3ZWRpc2g6IFwic3ZcIixcbiAgdGFnYWxvZzogXCJ0bFwiLFxuICB0YW1pbDogXCJ0YVwiLFxuICB0aGFpOiBcInRoXCIsXG4gIHR1cmtpc2g6IFwidHJcIixcbiAgdWtyYWluaWFuOiBcInVrXCIsXG4gIHVyZHU6IFwidXJcIixcbiAgdmlldG5hbWVzZTogXCJ2aVwiLFxuICB3ZWxzaDogXCJjeVwiXG59O1xudmFyIE9wZW5BSVRyYW5zY3JpcHRpb25Nb2RlbCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IobW9kZWxJZCwgY29uZmlnKSB7XG4gICAgdGhpcy5tb2RlbElkID0gbW9kZWxJZDtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLnNwZWNpZmljYXRpb25WZXJzaW9uID0gXCJ2MVwiO1xuICB9XG4gIGdldCBwcm92aWRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcucHJvdmlkZXI7XG4gIH1cbiAgZ2V0QXJncyh7XG4gICAgYXVkaW8sXG4gICAgbWVkaWFUeXBlLFxuICAgIHByb3ZpZGVyT3B0aW9uc1xuICB9KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICBjb25zdCB3YXJuaW5ncyA9IFtdO1xuICAgIGNvbnN0IG9wZW5BSU9wdGlvbnMgPSBwYXJzZVByb3ZpZGVyT3B0aW9ucyh7XG4gICAgICBwcm92aWRlcjogXCJvcGVuYWlcIixcbiAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgIHNjaGVtYTogb3BlbkFJUHJvdmlkZXJPcHRpb25zU2NoZW1hXG4gICAgfSk7XG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBjb25zdCBibG9iID0gYXVkaW8gaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gbmV3IEJsb2IoW2F1ZGlvXSkgOiBuZXcgQmxvYihbY29udmVydEJhc2U2NFRvVWludDhBcnJheShhdWRpbyldKTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJtb2RlbFwiLCB0aGlzLm1vZGVsSWQpO1xuICAgIGZvcm1EYXRhLmFwcGVuZChcImZpbGVcIiwgbmV3IEZpbGUoW2Jsb2JdLCBcImF1ZGlvXCIsIHsgdHlwZTogbWVkaWFUeXBlIH0pKTtcbiAgICBpZiAob3BlbkFJT3B0aW9ucykge1xuICAgICAgY29uc3QgdHJhbnNjcmlwdGlvbk1vZGVsT3B0aW9ucyA9IHtcbiAgICAgICAgaW5jbHVkZTogKF9hID0gb3BlbkFJT3B0aW9ucy5pbmNsdWRlKSAhPSBudWxsID8gX2EgOiB2b2lkIDAsXG4gICAgICAgIGxhbmd1YWdlOiAoX2IgPSBvcGVuQUlPcHRpb25zLmxhbmd1YWdlKSAhPSBudWxsID8gX2IgOiB2b2lkIDAsXG4gICAgICAgIHByb21wdDogKF9jID0gb3BlbkFJT3B0aW9ucy5wcm9tcHQpICE9IG51bGwgPyBfYyA6IHZvaWQgMCxcbiAgICAgICAgdGVtcGVyYXR1cmU6IChfZCA9IG9wZW5BSU9wdGlvbnMudGVtcGVyYXR1cmUpICE9IG51bGwgPyBfZCA6IHZvaWQgMCxcbiAgICAgICAgdGltZXN0YW1wX2dyYW51bGFyaXRpZXM6IChfZSA9IG9wZW5BSU9wdGlvbnMudGltZXN0YW1wR3JhbnVsYXJpdGllcykgIT0gbnVsbCA/IF9lIDogdm9pZCAwXG4gICAgICB9O1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gdHJhbnNjcmlwdGlvbk1vZGVsT3B0aW9ucykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRyYW5zY3JpcHRpb25Nb2RlbE9wdGlvbnNba2V5XTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCBTdHJpbmcodmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZm9ybURhdGEsXG4gICAgICB3YXJuaW5nc1xuICAgIH07XG4gIH1cbiAgYXN5bmMgZG9HZW5lcmF0ZShvcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgY29uc3QgY3VycmVudERhdGUgPSAoX2MgPSAoX2IgPSAoX2EgPSB0aGlzLmNvbmZpZy5faW50ZXJuYWwpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jdXJyZW50RGF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpKSAhPSBudWxsID8gX2MgOiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKTtcbiAgICBjb25zdCB7IGZvcm1EYXRhLCB3YXJuaW5ncyB9ID0gdGhpcy5nZXRBcmdzKG9wdGlvbnMpO1xuICAgIGNvbnN0IHtcbiAgICAgIHZhbHVlOiByZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHJhd1ZhbHVlOiByYXdSZXNwb25zZVxuICAgIH0gPSBhd2FpdCBwb3N0Rm9ybURhdGFUb0FwaSh7XG4gICAgICB1cmw6IHRoaXMuY29uZmlnLnVybCh7XG4gICAgICAgIHBhdGg6IFwiL2F1ZGlvL3RyYW5zY3JpcHRpb25zXCIsXG4gICAgICAgIG1vZGVsSWQ6IHRoaXMubW9kZWxJZFxuICAgICAgfSksXG4gICAgICBoZWFkZXJzOiBjb21iaW5lSGVhZGVyczUodGhpcy5jb25maWcuaGVhZGVycygpLCBvcHRpb25zLmhlYWRlcnMpLFxuICAgICAgZm9ybURhdGEsXG4gICAgICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IG9wZW5haUZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgICAgIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXI1KFxuICAgICAgICBvcGVuYWlUcmFuc2NyaXB0aW9uUmVzcG9uc2VTY2hlbWFcbiAgICAgICksXG4gICAgICBhYm9ydFNpZ25hbDogb3B0aW9ucy5hYm9ydFNpZ25hbCxcbiAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaFxuICAgIH0pO1xuICAgIGNvbnN0IGxhbmd1YWdlID0gcmVzcG9uc2UubGFuZ3VhZ2UgIT0gbnVsbCAmJiByZXNwb25zZS5sYW5ndWFnZSBpbiBsYW5ndWFnZU1hcCA/IGxhbmd1YWdlTWFwW3Jlc3BvbnNlLmxhbmd1YWdlXSA6IHZvaWQgMDtcbiAgICByZXR1cm4ge1xuICAgICAgdGV4dDogcmVzcG9uc2UudGV4dCxcbiAgICAgIHNlZ21lbnRzOiAoX2UgPSAoX2QgPSByZXNwb25zZS53b3JkcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLm1hcCgod29yZCkgPT4gKHtcbiAgICAgICAgdGV4dDogd29yZC53b3JkLFxuICAgICAgICBzdGFydFNlY29uZDogd29yZC5zdGFydCxcbiAgICAgICAgZW5kU2Vjb25kOiB3b3JkLmVuZFxuICAgICAgfSkpKSAhPSBudWxsID8gX2UgOiBbXSxcbiAgICAgIGxhbmd1YWdlLFxuICAgICAgZHVyYXRpb25JblNlY29uZHM6IChfZiA9IHJlc3BvbnNlLmR1cmF0aW9uKSAhPSBudWxsID8gX2YgOiB2b2lkIDAsXG4gICAgICB3YXJuaW5ncyxcbiAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgIHRpbWVzdGFtcDogY3VycmVudERhdGUsXG4gICAgICAgIG1vZGVsSWQ6IHRoaXMubW9kZWxJZCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBib2R5OiByYXdSZXNwb25zZVxuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG52YXIgb3BlbmFpVHJhbnNjcmlwdGlvblJlc3BvbnNlU2NoZW1hID0gejYub2JqZWN0KHtcbiAgdGV4dDogejYuc3RyaW5nKCksXG4gIGxhbmd1YWdlOiB6Ni5zdHJpbmcoKS5udWxsaXNoKCksXG4gIGR1cmF0aW9uOiB6Ni5udW1iZXIoKS5udWxsaXNoKCksXG4gIHdvcmRzOiB6Ni5hcnJheShcbiAgICB6Ni5vYmplY3Qoe1xuICAgICAgd29yZDogejYuc3RyaW5nKCksXG4gICAgICBzdGFydDogejYubnVtYmVyKCksXG4gICAgICBlbmQ6IHo2Lm51bWJlcigpXG4gICAgfSlcbiAgKS5udWxsaXNoKClcbn0pO1xuXG4vLyBzcmMvcmVzcG9uc2VzL29wZW5haS1yZXNwb25zZXMtbGFuZ3VhZ2UtbW9kZWwudHNcbmltcG9ydCB7XG4gIGNvbWJpbmVIZWFkZXJzIGFzIGNvbWJpbmVIZWFkZXJzNixcbiAgY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIgYXMgY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIzLFxuICBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyIGFzIGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXI2LFxuICBnZW5lcmF0ZUlkIGFzIGdlbmVyYXRlSWQyLFxuICBwYXJzZVByb3ZpZGVyT3B0aW9ucyBhcyBwYXJzZVByb3ZpZGVyT3B0aW9uczIsXG4gIHBvc3RKc29uVG9BcGkgYXMgcG9zdEpzb25Ub0FwaTVcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcbmltcG9ydCB7IHogYXMgejcgfSBmcm9tIFwiem9kXCI7XG5cbi8vIHNyYy9yZXNwb25zZXMvY29udmVydC10by1vcGVuYWktcmVzcG9uc2VzLW1lc3NhZ2VzLnRzXG5pbXBvcnQge1xuICBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvciBhcyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjZcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmltcG9ydCB7IGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQgYXMgY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NDIgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuZnVuY3Rpb24gY29udmVydFRvT3BlbkFJUmVzcG9uc2VzTWVzc2FnZXMoe1xuICBwcm9tcHQsXG4gIHN5c3RlbU1lc3NhZ2VNb2RlXG59KSB7XG4gIGNvbnN0IG1lc3NhZ2VzID0gW107XG4gIGNvbnN0IHdhcm5pbmdzID0gW107XG4gIGZvciAoY29uc3QgeyByb2xlLCBjb250ZW50IH0gb2YgcHJvbXB0KSB7XG4gICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICBjYXNlIFwic3lzdGVtXCI6IHtcbiAgICAgICAgc3dpdGNoIChzeXN0ZW1NZXNzYWdlTW9kZSkge1xuICAgICAgICAgIGNhc2UgXCJzeXN0ZW1cIjoge1xuICAgICAgICAgICAgbWVzc2FnZXMucHVzaCh7IHJvbGU6IFwic3lzdGVtXCIsIGNvbnRlbnQgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcImRldmVsb3BlclwiOiB7XG4gICAgICAgICAgICBtZXNzYWdlcy5wdXNoKHsgcm9sZTogXCJkZXZlbG9wZXJcIiwgY29udGVudCB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICAgICAgICB0eXBlOiBcIm90aGVyXCIsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IFwic3lzdGVtIG1lc3NhZ2VzIGFyZSByZW1vdmVkIGZvciB0aGlzIG1vZGVsXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSBzeXN0ZW1NZXNzYWdlTW9kZTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYFVuc3VwcG9ydGVkIHN5c3RlbSBtZXNzYWdlIG1vZGU6ICR7X2V4aGF1c3RpdmVDaGVja31gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ1c2VyXCI6IHtcbiAgICAgICAgbWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgY29udGVudDogY29udGVudC5tYXAoKHBhcnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJpbnB1dF90ZXh0XCIsIHRleHQ6IHBhcnQudGV4dCB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgXCJpbWFnZVwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwiaW5wdXRfaW1hZ2VcIixcbiAgICAgICAgICAgICAgICAgIGltYWdlX3VybDogcGFydC5pbWFnZSBpbnN0YW5jZW9mIFVSTCA/IHBhcnQuaW1hZ2UudG9TdHJpbmcoKSA6IGBkYXRhOiR7KF9hID0gcGFydC5taW1lVHlwZSkgIT0gbnVsbCA/IF9hIDogXCJpbWFnZS9qcGVnXCJ9O2Jhc2U2NCwke2NvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQyKHBhcnQuaW1hZ2UpfWAsXG4gICAgICAgICAgICAgICAgICAvLyBPcGVuQUkgc3BlY2lmaWMgZXh0ZW5zaW9uOiBpbWFnZSBkZXRhaWxcbiAgICAgICAgICAgICAgICAgIGRldGFpbDogKF9jID0gKF9iID0gcGFydC5wcm92aWRlck1ldGFkYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2Iub3BlbmFpKSA9PSBudWxsID8gdm9pZCAwIDogX2MuaW1hZ2VEZXRhaWxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgXCJmaWxlXCI6IHtcbiAgICAgICAgICAgICAgICBpZiAocGFydC5kYXRhIGluc3RhbmNlb2YgVVJMKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3I2KHtcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25hbGl0eTogXCJGaWxlIFVSTHMgaW4gdXNlciBtZXNzYWdlc1wiXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwYXJ0Lm1pbWVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiYXBwbGljYXRpb24vcGRmXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImlucHV0X2ZpbGVcIixcbiAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTogKF9kID0gcGFydC5maWxlbmFtZSkgIT0gbnVsbCA/IF9kIDogYHBhcnQtJHtpbmRleH0ucGRmYCxcbiAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGE6IGBkYXRhOmFwcGxpY2F0aW9uL3BkZjtiYXNlNjQsJHtwYXJ0LmRhdGF9YFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3I2KHtcbiAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbmFsaXR5OiBcIk9ubHkgUERGIGZpbGVzIGFyZSBzdXBwb3J0ZWQgaW4gdXNlciBtZXNzYWdlc1wiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJhc3Npc3RhbnRcIjoge1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgY29udGVudCkge1xuICAgICAgICAgIHN3aXRjaCAocGFydC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgICAgICAgY29udGVudDogW3sgdHlwZTogXCJvdXRwdXRfdGV4dFwiLCB0ZXh0OiBwYXJ0LnRleHQgfV1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb2wtY2FsbFwiOiB7XG4gICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25fY2FsbFwiLFxuICAgICAgICAgICAgICAgIGNhbGxfaWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBwYXJ0LnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgIGFyZ3VtZW50czogSlNPTi5zdHJpbmdpZnkocGFydC5hcmdzKVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcInRvb2xcIjoge1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgY29udGVudCkge1xuICAgICAgICAgIG1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvbl9jYWxsX291dHB1dFwiLFxuICAgICAgICAgICAgY2FsbF9pZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgb3V0cHV0OiBKU09OLnN0cmluZ2lmeShwYXJ0LnJlc3VsdClcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IHJvbGU7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcm9sZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4geyBtZXNzYWdlcywgd2FybmluZ3MgfTtcbn1cblxuLy8gc3JjL3Jlc3BvbnNlcy9tYXAtb3BlbmFpLXJlc3BvbnNlcy1maW5pc2gtcmVhc29uLnRzXG5mdW5jdGlvbiBtYXBPcGVuQUlSZXNwb25zZUZpbmlzaFJlYXNvbih7XG4gIGZpbmlzaFJlYXNvbixcbiAgaGFzVG9vbENhbGxzXG59KSB7XG4gIHN3aXRjaCAoZmluaXNoUmVhc29uKSB7XG4gICAgY2FzZSB2b2lkIDA6XG4gICAgY2FzZSBudWxsOlxuICAgICAgcmV0dXJuIGhhc1Rvb2xDYWxscyA/IFwidG9vbC1jYWxsc1wiIDogXCJzdG9wXCI7XG4gICAgY2FzZSBcIm1heF9vdXRwdXRfdG9rZW5zXCI6XG4gICAgICByZXR1cm4gXCJsZW5ndGhcIjtcbiAgICBjYXNlIFwiY29udGVudF9maWx0ZXJcIjpcbiAgICAgIHJldHVybiBcImNvbnRlbnQtZmlsdGVyXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBoYXNUb29sQ2FsbHMgPyBcInRvb2wtY2FsbHNcIiA6IFwidW5rbm93blwiO1xuICB9XG59XG5cbi8vIHNyYy9yZXNwb25zZXMvb3BlbmFpLXJlc3BvbnNlcy1wcmVwYXJlLXRvb2xzLnRzXG5pbXBvcnQge1xuICBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvciBhcyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjdcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmZ1bmN0aW9uIHByZXBhcmVSZXNwb25zZXNUb29scyh7XG4gIG1vZGUsXG4gIHN0cmljdFxufSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IHRvb2xzID0gKChfYSA9IG1vZGUudG9vbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5sZW5ndGgpID8gbW9kZS50b29scyA6IHZvaWQgMDtcbiAgY29uc3QgdG9vbFdhcm5pbmdzID0gW107XG4gIGlmICh0b29scyA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHsgdG9vbHM6IHZvaWQgMCwgdG9vbF9jaG9pY2U6IHZvaWQgMCwgdG9vbFdhcm5pbmdzIH07XG4gIH1cbiAgY29uc3QgdG9vbENob2ljZSA9IG1vZGUudG9vbENob2ljZTtcbiAgY29uc3Qgb3BlbmFpVG9vbHMyID0gW107XG4gIGZvciAoY29uc3QgdG9vbCBvZiB0b29scykge1xuICAgIHN3aXRjaCAodG9vbC50eXBlKSB7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgb3BlbmFpVG9vbHMyLnB1c2goe1xuICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG4gICAgICAgICAgcGFyYW1ldGVyczogdG9vbC5wYXJhbWV0ZXJzLFxuICAgICAgICAgIHN0cmljdDogc3RyaWN0ID8gdHJ1ZSA6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicHJvdmlkZXItZGVmaW5lZFwiOlxuICAgICAgICBzd2l0Y2ggKHRvb2wuaWQpIHtcbiAgICAgICAgICBjYXNlIFwib3BlbmFpLndlYl9zZWFyY2hfcHJldmlld1wiOlxuICAgICAgICAgICAgb3BlbmFpVG9vbHMyLnB1c2goe1xuICAgICAgICAgICAgICB0eXBlOiBcIndlYl9zZWFyY2hfcHJldmlld1wiLFxuICAgICAgICAgICAgICBzZWFyY2hfY29udGV4dF9zaXplOiB0b29sLmFyZ3Muc2VhcmNoQ29udGV4dFNpemUsXG4gICAgICAgICAgICAgIHVzZXJfbG9jYXRpb246IHRvb2wuYXJncy51c2VyTG9jYXRpb25cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRvb2xXYXJuaW5ncy5wdXNoKHsgdHlwZTogXCJ1bnN1cHBvcnRlZC10b29sXCIsIHRvb2wgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRvb2xXYXJuaW5ncy5wdXNoKHsgdHlwZTogXCJ1bnN1cHBvcnRlZC10b29sXCIsIHRvb2wgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAodG9vbENob2ljZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHsgdG9vbHM6IG9wZW5haVRvb2xzMiwgdG9vbF9jaG9pY2U6IHZvaWQgMCwgdG9vbFdhcm5pbmdzIH07XG4gIH1cbiAgY29uc3QgdHlwZSA9IHRvb2xDaG9pY2UudHlwZTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcImF1dG9cIjpcbiAgICBjYXNlIFwibm9uZVwiOlxuICAgIGNhc2UgXCJyZXF1aXJlZFwiOlxuICAgICAgcmV0dXJuIHsgdG9vbHM6IG9wZW5haVRvb2xzMiwgdG9vbF9jaG9pY2U6IHR5cGUsIHRvb2xXYXJuaW5ncyB9O1xuICAgIGNhc2UgXCJ0b29sXCI6IHtcbiAgICAgIGlmICh0b29sQ2hvaWNlLnRvb2xOYW1lID09PSBcIndlYl9zZWFyY2hfcHJldmlld1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG9vbHM6IG9wZW5haVRvb2xzMixcbiAgICAgICAgICB0b29sX2Nob2ljZToge1xuICAgICAgICAgICAgdHlwZTogXCJ3ZWJfc2VhcmNoX3ByZXZpZXdcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9vbFdhcm5pbmdzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b29sczogb3BlbmFpVG9vbHMyLFxuICAgICAgICB0b29sX2Nob2ljZToge1xuICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICBuYW1lOiB0b29sQ2hvaWNlLnRvb2xOYW1lXG4gICAgICAgIH0sXG4gICAgICAgIHRvb2xXYXJuaW5nc1xuICAgICAgfTtcbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IHR5cGU7XG4gICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3I3KHtcbiAgICAgICAgZnVuY3Rpb25hbGl0eTogYFVuc3VwcG9ydGVkIHRvb2wgY2hvaWNlIHR5cGU6ICR7X2V4aGF1c3RpdmVDaGVja31gXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuLy8gc3JjL3Jlc3BvbnNlcy9vcGVuYWktcmVzcG9uc2VzLWxhbmd1YWdlLW1vZGVsLnRzXG52YXIgT3BlbkFJUmVzcG9uc2VzTGFuZ3VhZ2VNb2RlbCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IobW9kZWxJZCwgY29uZmlnKSB7XG4gICAgdGhpcy5zcGVjaWZpY2F0aW9uVmVyc2lvbiA9IFwidjFcIjtcbiAgICB0aGlzLmRlZmF1bHRPYmplY3RHZW5lcmF0aW9uTW9kZSA9IFwianNvblwiO1xuICAgIHRoaXMuc3VwcG9ydHNTdHJ1Y3R1cmVkT3V0cHV0cyA9IHRydWU7XG4gICAgdGhpcy5tb2RlbElkID0gbW9kZWxJZDtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuICBnZXQgcHJvdmlkZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnByb3ZpZGVyO1xuICB9XG4gIGdldEFyZ3Moe1xuICAgIG1vZGUsXG4gICAgbWF4VG9rZW5zLFxuICAgIHRlbXBlcmF0dXJlLFxuICAgIHN0b3BTZXF1ZW5jZXMsXG4gICAgdG9wUCxcbiAgICB0b3BLLFxuICAgIHByZXNlbmNlUGVuYWx0eSxcbiAgICBmcmVxdWVuY3lQZW5hbHR5LFxuICAgIHNlZWQsXG4gICAgcHJvbXB0LFxuICAgIHByb3ZpZGVyTWV0YWRhdGEsXG4gICAgcmVzcG9uc2VGb3JtYXRcbiAgfSkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IHdhcm5pbmdzID0gW107XG4gICAgY29uc3QgbW9kZWxDb25maWcgPSBnZXRSZXNwb25zZXNNb2RlbENvbmZpZyh0aGlzLm1vZGVsSWQpO1xuICAgIGNvbnN0IHR5cGUgPSBtb2RlLnR5cGU7XG4gICAgaWYgKHRvcEsgIT0gbnVsbCkge1xuICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgIHR5cGU6IFwidW5zdXBwb3J0ZWQtc2V0dGluZ1wiLFxuICAgICAgICBzZXR0aW5nOiBcInRvcEtcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChzZWVkICE9IG51bGwpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgc2V0dGluZzogXCJzZWVkXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocHJlc2VuY2VQZW5hbHR5ICE9IG51bGwpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgc2V0dGluZzogXCJwcmVzZW5jZVBlbmFsdHlcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChmcmVxdWVuY3lQZW5hbHR5ICE9IG51bGwpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgc2V0dGluZzogXCJmcmVxdWVuY3lQZW5hbHR5XCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc3RvcFNlcXVlbmNlcyAhPSBudWxsKSB7XG4gICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJ1bnN1cHBvcnRlZC1zZXR0aW5nXCIsXG4gICAgICAgIHNldHRpbmc6IFwic3RvcFNlcXVlbmNlc1wiXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgeyBtZXNzYWdlcywgd2FybmluZ3M6IG1lc3NhZ2VXYXJuaW5ncyB9ID0gY29udmVydFRvT3BlbkFJUmVzcG9uc2VzTWVzc2FnZXMoe1xuICAgICAgcHJvbXB0LFxuICAgICAgc3lzdGVtTWVzc2FnZU1vZGU6IG1vZGVsQ29uZmlnLnN5c3RlbU1lc3NhZ2VNb2RlXG4gICAgfSk7XG4gICAgd2FybmluZ3MucHVzaCguLi5tZXNzYWdlV2FybmluZ3MpO1xuICAgIGNvbnN0IG9wZW5haU9wdGlvbnMgPSBwYXJzZVByb3ZpZGVyT3B0aW9uczIoe1xuICAgICAgcHJvdmlkZXI6IFwib3BlbmFpXCIsXG4gICAgICBwcm92aWRlck9wdGlvbnM6IHByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICBzY2hlbWE6IG9wZW5haVJlc3BvbnNlc1Byb3ZpZGVyT3B0aW9uc1NjaGVtYVxuICAgIH0pO1xuICAgIGNvbnN0IGlzU3RyaWN0ID0gKF9hID0gb3BlbmFpT3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3BlbmFpT3B0aW9ucy5zdHJpY3RTY2hlbWFzKSAhPSBudWxsID8gX2EgOiB0cnVlO1xuICAgIGNvbnN0IGJhc2VBcmdzID0ge1xuICAgICAgbW9kZWw6IHRoaXMubW9kZWxJZCxcbiAgICAgIGlucHV0OiBtZXNzYWdlcyxcbiAgICAgIHRlbXBlcmF0dXJlLFxuICAgICAgdG9wX3A6IHRvcFAsXG4gICAgICBtYXhfb3V0cHV0X3Rva2VuczogbWF4VG9rZW5zLFxuICAgICAgLi4uKHJlc3BvbnNlRm9ybWF0ID09IG51bGwgPyB2b2lkIDAgOiByZXNwb25zZUZvcm1hdC50eXBlKSA9PT0gXCJqc29uXCIgJiYge1xuICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgZm9ybWF0OiByZXNwb25zZUZvcm1hdC5zY2hlbWEgIT0gbnVsbCA/IHtcbiAgICAgICAgICAgIHR5cGU6IFwianNvbl9zY2hlbWFcIixcbiAgICAgICAgICAgIHN0cmljdDogaXNTdHJpY3QsXG4gICAgICAgICAgICBuYW1lOiAoX2IgPSByZXNwb25zZUZvcm1hdC5uYW1lKSAhPSBudWxsID8gX2IgOiBcInJlc3BvbnNlXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVzcG9uc2VGb3JtYXQuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBzY2hlbWE6IHJlc3BvbnNlRm9ybWF0LnNjaGVtYVxuICAgICAgICAgIH0gOiB7IHR5cGU6IFwianNvbl9vYmplY3RcIiB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBwcm92aWRlciBvcHRpb25zOlxuICAgICAgbWV0YWRhdGE6IG9wZW5haU9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wZW5haU9wdGlvbnMubWV0YWRhdGEsXG4gICAgICBwYXJhbGxlbF90b29sX2NhbGxzOiBvcGVuYWlPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcGVuYWlPcHRpb25zLnBhcmFsbGVsVG9vbENhbGxzLFxuICAgICAgcHJldmlvdXNfcmVzcG9uc2VfaWQ6IG9wZW5haU9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wZW5haU9wdGlvbnMucHJldmlvdXNSZXNwb25zZUlkLFxuICAgICAgc3RvcmU6IG9wZW5haU9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wZW5haU9wdGlvbnMuc3RvcmUsXG4gICAgICB1c2VyOiBvcGVuYWlPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcGVuYWlPcHRpb25zLnVzZXIsXG4gICAgICBpbnN0cnVjdGlvbnM6IG9wZW5haU9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wZW5haU9wdGlvbnMuaW5zdHJ1Y3Rpb25zLFxuICAgICAgLy8gbW9kZWwtc3BlY2lmaWMgc2V0dGluZ3M6XG4gICAgICAuLi5tb2RlbENvbmZpZy5pc1JlYXNvbmluZ01vZGVsICYmIChvcGVuYWlPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcGVuYWlPcHRpb25zLnJlYXNvbmluZ0VmZm9ydCkgIT0gbnVsbCAmJiB7XG4gICAgICAgIHJlYXNvbmluZzogeyBlZmZvcnQ6IG9wZW5haU9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wZW5haU9wdGlvbnMucmVhc29uaW5nRWZmb3J0IH1cbiAgICAgIH0sXG4gICAgICAuLi5tb2RlbENvbmZpZy5yZXF1aXJlZEF1dG9UcnVuY2F0aW9uICYmIHtcbiAgICAgICAgdHJ1bmNhdGlvbjogXCJhdXRvXCJcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChtb2RlbENvbmZpZy5pc1JlYXNvbmluZ01vZGVsKSB7XG4gICAgICBpZiAoYmFzZUFyZ3MudGVtcGVyYXR1cmUgIT0gbnVsbCkge1xuICAgICAgICBiYXNlQXJncy50ZW1wZXJhdHVyZSA9IHZvaWQgMDtcbiAgICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgICAgdHlwZTogXCJ1bnN1cHBvcnRlZC1zZXR0aW5nXCIsXG4gICAgICAgICAgc2V0dGluZzogXCJ0ZW1wZXJhdHVyZVwiLFxuICAgICAgICAgIGRldGFpbHM6IFwidGVtcGVyYXR1cmUgaXMgbm90IHN1cHBvcnRlZCBmb3IgcmVhc29uaW5nIG1vZGVsc1wiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGJhc2VBcmdzLnRvcF9wICE9IG51bGwpIHtcbiAgICAgICAgYmFzZUFyZ3MudG9wX3AgPSB2b2lkIDA7XG4gICAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICAgIHR5cGU6IFwidW5zdXBwb3J0ZWQtc2V0dGluZ1wiLFxuICAgICAgICAgIHNldHRpbmc6IFwidG9wUFwiLFxuICAgICAgICAgIGRldGFpbHM6IFwidG9wUCBpcyBub3Qgc3VwcG9ydGVkIGZvciByZWFzb25pbmcgbW9kZWxzXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInJlZ3VsYXJcIjoge1xuICAgICAgICBjb25zdCB7IHRvb2xzLCB0b29sX2Nob2ljZSwgdG9vbFdhcm5pbmdzIH0gPSBwcmVwYXJlUmVzcG9uc2VzVG9vbHMoe1xuICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgc3RyaWN0OiBpc1N0cmljdFxuICAgICAgICAgIC8vIFRPRE8gc3VwcG9ydCBwcm92aWRlciBvcHRpb25zIG9uIHRvb2xzXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgIC4uLmJhc2VBcmdzLFxuICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICB0b29sX2Nob2ljZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgd2FybmluZ3M6IFsuLi53YXJuaW5ncywgLi4udG9vbFdhcm5pbmdzXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY2FzZSBcIm9iamVjdC1qc29uXCI6IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgICAuLi5iYXNlQXJncyxcbiAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgZm9ybWF0OiBtb2RlLnNjaGVtYSAhPSBudWxsID8ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwianNvbl9zY2hlbWFcIixcbiAgICAgICAgICAgICAgICBzdHJpY3Q6IGlzU3RyaWN0LFxuICAgICAgICAgICAgICAgIG5hbWU6IChfYyA9IG1vZGUubmFtZSkgIT0gbnVsbCA/IF9jIDogXCJyZXNwb25zZVwiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBtb2RlLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIHNjaGVtYTogbW9kZS5zY2hlbWFcbiAgICAgICAgICAgICAgfSA6IHsgdHlwZTogXCJqc29uX29iamVjdFwiIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHdhcm5pbmdzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjYXNlIFwib2JqZWN0LXRvb2xcIjoge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgIC4uLmJhc2VBcmdzLFxuICAgICAgICAgICAgdG9vbF9jaG9pY2U6IHsgdHlwZTogXCJmdW5jdGlvblwiLCBuYW1lOiBtb2RlLnRvb2wubmFtZSB9LFxuICAgICAgICAgICAgdG9vbHM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICBuYW1lOiBtb2RlLnRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbW9kZS50b29sLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IG1vZGUudG9vbC5wYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgIHN0cmljdDogaXNTdHJpY3RcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgd2FybmluZ3NcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IHR5cGU7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgdHlwZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBhc3luYyBkb0dlbmVyYXRlKG9wdGlvbnMpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgIGNvbnN0IHsgYXJnczogYm9keSwgd2FybmluZ3MgfSA9IHRoaXMuZ2V0QXJncyhvcHRpb25zKTtcbiAgICBjb25zdCB7XG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICB2YWx1ZTogcmVzcG9uc2UsXG4gICAgICByYXdWYWx1ZTogcmF3UmVzcG9uc2VcbiAgICB9ID0gYXdhaXQgcG9zdEpzb25Ub0FwaTUoe1xuICAgICAgdXJsOiB0aGlzLmNvbmZpZy51cmwoe1xuICAgICAgICBwYXRoOiBcIi9yZXNwb25zZXNcIixcbiAgICAgICAgbW9kZWxJZDogdGhpcy5tb2RlbElkXG4gICAgICB9KSxcbiAgICAgIGhlYWRlcnM6IGNvbWJpbmVIZWFkZXJzNih0aGlzLmNvbmZpZy5oZWFkZXJzKCksIG9wdGlvbnMuaGVhZGVycyksXG4gICAgICBib2R5LFxuICAgICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiBvcGVuYWlGYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gICAgICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyNihcbiAgICAgICAgejcub2JqZWN0KHtcbiAgICAgICAgICBpZDogejcuc3RyaW5nKCksXG4gICAgICAgICAgY3JlYXRlZF9hdDogejcubnVtYmVyKCksXG4gICAgICAgICAgbW9kZWw6IHo3LnN0cmluZygpLFxuICAgICAgICAgIG91dHB1dDogejcuYXJyYXkoXG4gICAgICAgICAgICB6Ny5kaXNjcmltaW5hdGVkVW5pb24oXCJ0eXBlXCIsIFtcbiAgICAgICAgICAgICAgejcub2JqZWN0KHtcbiAgICAgICAgICAgICAgICB0eXBlOiB6Ny5saXRlcmFsKFwibWVzc2FnZVwiKSxcbiAgICAgICAgICAgICAgICByb2xlOiB6Ny5saXRlcmFsKFwiYXNzaXN0YW50XCIpLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHo3LmFycmF5KFxuICAgICAgICAgICAgICAgICAgejcub2JqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogejcubGl0ZXJhbChcIm91dHB1dF90ZXh0XCIpLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB6Ny5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbnM6IHo3LmFycmF5KFxuICAgICAgICAgICAgICAgICAgICAgIHo3Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB6Ny5saXRlcmFsKFwidXJsX2NpdGF0aW9uXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRfaW5kZXg6IHo3Lm51bWJlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kX2luZGV4OiB6Ny5udW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogejcuc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogejcuc3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIHo3Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgdHlwZTogejcubGl0ZXJhbChcImZ1bmN0aW9uX2NhbGxcIiksXG4gICAgICAgICAgICAgICAgY2FsbF9pZDogejcuc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgbmFtZTogejcuc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzOiB6Ny5zdHJpbmcoKVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgejcub2JqZWN0KHtcbiAgICAgICAgICAgICAgICB0eXBlOiB6Ny5saXRlcmFsKFwid2ViX3NlYXJjaF9jYWxsXCIpXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICB6Ny5vYmplY3Qoe1xuICAgICAgICAgICAgICAgIHR5cGU6IHo3LmxpdGVyYWwoXCJjb21wdXRlcl9jYWxsXCIpXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICB6Ny5vYmplY3Qoe1xuICAgICAgICAgICAgICAgIHR5cGU6IHo3LmxpdGVyYWwoXCJyZWFzb25pbmdcIilcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgKSxcbiAgICAgICAgICBpbmNvbXBsZXRlX2RldGFpbHM6IHo3Lm9iamVjdCh7IHJlYXNvbjogejcuc3RyaW5nKCkgfSkubnVsbGFibGUoKSxcbiAgICAgICAgICB1c2FnZTogdXNhZ2VTY2hlbWFcbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgICBhYm9ydFNpZ25hbDogb3B0aW9ucy5hYm9ydFNpZ25hbCxcbiAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaFxuICAgIH0pO1xuICAgIGNvbnN0IG91dHB1dFRleHRFbGVtZW50cyA9IHJlc3BvbnNlLm91dHB1dC5maWx0ZXIoKG91dHB1dCkgPT4gb3V0cHV0LnR5cGUgPT09IFwibWVzc2FnZVwiKS5mbGF0TWFwKChvdXRwdXQpID0+IG91dHB1dC5jb250ZW50KS5maWx0ZXIoKGNvbnRlbnQpID0+IGNvbnRlbnQudHlwZSA9PT0gXCJvdXRwdXRfdGV4dFwiKTtcbiAgICBjb25zdCB0b29sQ2FsbHMgPSByZXNwb25zZS5vdXRwdXQuZmlsdGVyKChvdXRwdXQpID0+IG91dHB1dC50eXBlID09PSBcImZ1bmN0aW9uX2NhbGxcIikubWFwKChvdXRwdXQpID0+ICh7XG4gICAgICB0b29sQ2FsbFR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgIHRvb2xDYWxsSWQ6IG91dHB1dC5jYWxsX2lkLFxuICAgICAgdG9vbE5hbWU6IG91dHB1dC5uYW1lLFxuICAgICAgYXJnczogb3V0cHV0LmFyZ3VtZW50c1xuICAgIH0pKTtcbiAgICByZXR1cm4ge1xuICAgICAgdGV4dDogb3V0cHV0VGV4dEVsZW1lbnRzLm1hcCgoY29udGVudCkgPT4gY29udGVudC50ZXh0KS5qb2luKFwiXFxuXCIpLFxuICAgICAgc291cmNlczogb3V0cHV0VGV4dEVsZW1lbnRzLmZsYXRNYXAoXG4gICAgICAgIChjb250ZW50KSA9PiBjb250ZW50LmFubm90YXRpb25zLm1hcCgoYW5ub3RhdGlvbikgPT4ge1xuICAgICAgICAgIHZhciBfYTIsIF9iMiwgX2MyO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzb3VyY2VUeXBlOiBcInVybFwiLFxuICAgICAgICAgICAgaWQ6IChfYzIgPSAoX2IyID0gKF9hMiA9IHRoaXMuY29uZmlnKS5nZW5lcmF0ZUlkKSA9PSBudWxsID8gdm9pZCAwIDogX2IyLmNhbGwoX2EyKSkgIT0gbnVsbCA/IF9jMiA6IGdlbmVyYXRlSWQyKCksXG4gICAgICAgICAgICB1cmw6IGFubm90YXRpb24udXJsLFxuICAgICAgICAgICAgdGl0bGU6IGFubm90YXRpb24udGl0bGVcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgKSxcbiAgICAgIGZpbmlzaFJlYXNvbjogbWFwT3BlbkFJUmVzcG9uc2VGaW5pc2hSZWFzb24oe1xuICAgICAgICBmaW5pc2hSZWFzb246IChfYSA9IHJlc3BvbnNlLmluY29tcGxldGVfZGV0YWlscykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJlYXNvbixcbiAgICAgICAgaGFzVG9vbENhbGxzOiB0b29sQ2FsbHMubGVuZ3RoID4gMFxuICAgICAgfSksXG4gICAgICB0b29sQ2FsbHM6IHRvb2xDYWxscy5sZW5ndGggPiAwID8gdG9vbENhbGxzIDogdm9pZCAwLFxuICAgICAgdXNhZ2U6IHtcbiAgICAgICAgcHJvbXB0VG9rZW5zOiByZXNwb25zZS51c2FnZS5pbnB1dF90b2tlbnMsXG4gICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IHJlc3BvbnNlLnVzYWdlLm91dHB1dF90b2tlbnNcbiAgICAgIH0sXG4gICAgICByYXdDYWxsOiB7XG4gICAgICAgIHJhd1Byb21wdDogdm9pZCAwLFxuICAgICAgICByYXdTZXR0aW5nczoge31cbiAgICAgIH0sXG4gICAgICByYXdSZXNwb25zZToge1xuICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIGJvZHk6IHJhd1Jlc3BvbnNlXG4gICAgICB9LFxuICAgICAgcmVxdWVzdDoge1xuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgICAgfSxcbiAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgIGlkOiByZXNwb25zZS5pZCxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZShyZXNwb25zZS5jcmVhdGVkX2F0ICogMWUzKSxcbiAgICAgICAgbW9kZWxJZDogcmVzcG9uc2UubW9kZWxcbiAgICAgIH0sXG4gICAgICBwcm92aWRlck1ldGFkYXRhOiB7XG4gICAgICAgIG9wZW5haToge1xuICAgICAgICAgIHJlc3BvbnNlSWQ6IHJlc3BvbnNlLmlkLFxuICAgICAgICAgIGNhY2hlZFByb21wdFRva2VuczogKF9jID0gKF9iID0gcmVzcG9uc2UudXNhZ2UuaW5wdXRfdG9rZW5zX2RldGFpbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWNoZWRfdG9rZW5zKSAhPSBudWxsID8gX2MgOiBudWxsLFxuICAgICAgICAgIHJlYXNvbmluZ1Rva2VuczogKF9lID0gKF9kID0gcmVzcG9uc2UudXNhZ2Uub3V0cHV0X3Rva2Vuc19kZXRhaWxzKSA9PSBudWxsID8gdm9pZCAwIDogX2QucmVhc29uaW5nX3Rva2VucykgIT0gbnVsbCA/IF9lIDogbnVsbFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgd2FybmluZ3NcbiAgICB9O1xuICB9XG4gIGFzeW5jIGRvU3RyZWFtKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGFyZ3M6IGJvZHksIHdhcm5pbmdzIH0gPSB0aGlzLmdldEFyZ3Mob3B0aW9ucyk7XG4gICAgY29uc3QgeyByZXNwb25zZUhlYWRlcnMsIHZhbHVlOiByZXNwb25zZSB9ID0gYXdhaXQgcG9zdEpzb25Ub0FwaTUoe1xuICAgICAgdXJsOiB0aGlzLmNvbmZpZy51cmwoe1xuICAgICAgICBwYXRoOiBcIi9yZXNwb25zZXNcIixcbiAgICAgICAgbW9kZWxJZDogdGhpcy5tb2RlbElkXG4gICAgICB9KSxcbiAgICAgIGhlYWRlcnM6IGNvbWJpbmVIZWFkZXJzNih0aGlzLmNvbmZpZy5oZWFkZXJzKCksIG9wdGlvbnMuaGVhZGVycyksXG4gICAgICBib2R5OiB7XG4gICAgICAgIC4uLmJvZHksXG4gICAgICAgIHN0cmVhbTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogb3BlbmFpRmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIzKFxuICAgICAgICBvcGVuYWlSZXNwb25zZXNDaHVua1NjaGVtYVxuICAgICAgKSxcbiAgICAgIGFib3J0U2lnbmFsOiBvcHRpb25zLmFib3J0U2lnbmFsLFxuICAgICAgZmV0Y2g6IHRoaXMuY29uZmlnLmZldGNoXG4gICAgfSk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IGZpbmlzaFJlYXNvbiA9IFwidW5rbm93blwiO1xuICAgIGxldCBwcm9tcHRUb2tlbnMgPSBOYU47XG4gICAgbGV0IGNvbXBsZXRpb25Ub2tlbnMgPSBOYU47XG4gICAgbGV0IGNhY2hlZFByb21wdFRva2VucyA9IG51bGw7XG4gICAgbGV0IHJlYXNvbmluZ1Rva2VucyA9IG51bGw7XG4gICAgbGV0IHJlc3BvbnNlSWQgPSBudWxsO1xuICAgIGNvbnN0IG9uZ29pbmdUb29sQ2FsbHMgPSB7fTtcbiAgICBsZXQgaGFzVG9vbENhbGxzID0gZmFsc2U7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0cmVhbTogcmVzcG9uc2UucGlwZVRocm91Z2goXG4gICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgICAgICAgICAgIGlmICghY2h1bmsuc3VjY2Vzcykge1xuICAgICAgICAgICAgICBmaW5pc2hSZWFzb24gPSBcImVycm9yXCI7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6IFwiZXJyb3JcIiwgZXJyb3I6IGNodW5rLmVycm9yIH0pO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNodW5rLnZhbHVlO1xuICAgICAgICAgICAgaWYgKGlzUmVzcG9uc2VPdXRwdXRJdGVtQWRkZWRDaHVuayh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlLml0ZW0udHlwZSA9PT0gXCJmdW5jdGlvbl9jYWxsXCIpIHtcbiAgICAgICAgICAgICAgICBvbmdvaW5nVG9vbENhbGxzW3ZhbHVlLm91dHB1dF9pbmRleF0gPSB7XG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogdmFsdWUuaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogdmFsdWUuaXRlbS5jYWxsX2lkXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0b29sLWNhbGwtZGVsdGFcIixcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsVHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogdmFsdWUuaXRlbS5jYWxsX2lkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHZhbHVlLml0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICAgIGFyZ3NUZXh0RGVsdGE6IHZhbHVlLml0ZW0uYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNSZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RlbHRhQ2h1bmsodmFsdWUpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHRvb2xDYWxsID0gb25nb2luZ1Rvb2xDYWxsc1t2YWx1ZS5vdXRwdXRfaW5kZXhdO1xuICAgICAgICAgICAgICBpZiAodG9vbENhbGwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtY2FsbC1kZWx0YVwiLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgYXJnc1RleHREZWx0YTogdmFsdWUuZGVsdGFcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1Jlc3BvbnNlQ3JlYXRlZENodW5rKHZhbHVlKSkge1xuICAgICAgICAgICAgICByZXNwb25zZUlkID0gdmFsdWUucmVzcG9uc2UuaWQ7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJyZXNwb25zZS1tZXRhZGF0YVwiLFxuICAgICAgICAgICAgICAgIGlkOiB2YWx1ZS5yZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKHZhbHVlLnJlc3BvbnNlLmNyZWF0ZWRfYXQgKiAxZTMpLFxuICAgICAgICAgICAgICAgIG1vZGVsSWQ6IHZhbHVlLnJlc3BvbnNlLm1vZGVsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1RleHREZWx0YUNodW5rKHZhbHVlKSkge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dC1kZWx0YVwiLFxuICAgICAgICAgICAgICAgIHRleHREZWx0YTogdmFsdWUuZGVsdGFcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzUmVzcG9uc2VPdXRwdXRJdGVtRG9uZUNodW5rKHZhbHVlKSAmJiB2YWx1ZS5pdGVtLnR5cGUgPT09IFwiZnVuY3Rpb25fY2FsbFwiKSB7XG4gICAgICAgICAgICAgIG9uZ29pbmdUb29sQ2FsbHNbdmFsdWUub3V0cHV0X2luZGV4XSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgaGFzVG9vbENhbGxzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtY2FsbFwiLFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsVHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHZhbHVlLml0ZW0uY2FsbF9pZCxcbiAgICAgICAgICAgICAgICB0b29sTmFtZTogdmFsdWUuaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgIGFyZ3M6IHZhbHVlLml0ZW0uYXJndW1lbnRzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1Jlc3BvbnNlRmluaXNoZWRDaHVuayh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgZmluaXNoUmVhc29uID0gbWFwT3BlbkFJUmVzcG9uc2VGaW5pc2hSZWFzb24oe1xuICAgICAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogKF9hID0gdmFsdWUucmVzcG9uc2UuaW5jb21wbGV0ZV9kZXRhaWxzKSA9PSBudWxsID8gdm9pZCAwIDogX2EucmVhc29uLFxuICAgICAgICAgICAgICAgIGhhc1Rvb2xDYWxsc1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcHJvbXB0VG9rZW5zID0gdmFsdWUucmVzcG9uc2UudXNhZ2UuaW5wdXRfdG9rZW5zO1xuICAgICAgICAgICAgICBjb21wbGV0aW9uVG9rZW5zID0gdmFsdWUucmVzcG9uc2UudXNhZ2Uub3V0cHV0X3Rva2VucztcbiAgICAgICAgICAgICAgY2FjaGVkUHJvbXB0VG9rZW5zID0gKF9jID0gKF9iID0gdmFsdWUucmVzcG9uc2UudXNhZ2UuaW5wdXRfdG9rZW5zX2RldGFpbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWNoZWRfdG9rZW5zKSAhPSBudWxsID8gX2MgOiBjYWNoZWRQcm9tcHRUb2tlbnM7XG4gICAgICAgICAgICAgIHJlYXNvbmluZ1Rva2VucyA9IChfZSA9IChfZCA9IHZhbHVlLnJlc3BvbnNlLnVzYWdlLm91dHB1dF90b2tlbnNfZGV0YWlscykgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLnJlYXNvbmluZ190b2tlbnMpICE9IG51bGwgPyBfZSA6IHJlYXNvbmluZ1Rva2VucztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNSZXNwb25zZUFubm90YXRpb25BZGRlZENodW5rKHZhbHVlKSkge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwic291cmNlXCIsXG4gICAgICAgICAgICAgICAgc291cmNlOiB7XG4gICAgICAgICAgICAgICAgICBzb3VyY2VUeXBlOiBcInVybFwiLFxuICAgICAgICAgICAgICAgICAgaWQ6IChfaCA9IChfZyA9IChfZiA9IHNlbGYuY29uZmlnKS5nZW5lcmF0ZUlkKSA9PSBudWxsID8gdm9pZCAwIDogX2cuY2FsbChfZikpICE9IG51bGwgPyBfaCA6IGdlbmVyYXRlSWQyKCksXG4gICAgICAgICAgICAgICAgICB1cmw6IHZhbHVlLmFubm90YXRpb24udXJsLFxuICAgICAgICAgICAgICAgICAgdGl0bGU6IHZhbHVlLmFubm90YXRpb24udGl0bGVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmx1c2goY29udHJvbGxlcikge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgdHlwZTogXCJmaW5pc2hcIixcbiAgICAgICAgICAgICAgZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICB1c2FnZTogeyBwcm9tcHRUb2tlbnMsIGNvbXBsZXRpb25Ub2tlbnMgfSxcbiAgICAgICAgICAgICAgLi4uKGNhY2hlZFByb21wdFRva2VucyAhPSBudWxsIHx8IHJlYXNvbmluZ1Rva2VucyAhPSBudWxsKSAmJiB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YToge1xuICAgICAgICAgICAgICAgICAgb3BlbmFpOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSWQsXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlZFByb21wdFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uaW5nVG9rZW5zXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApLFxuICAgICAgcmF3Q2FsbDoge1xuICAgICAgICByYXdQcm9tcHQ6IHZvaWQgMCxcbiAgICAgICAgcmF3U2V0dGluZ3M6IHt9XG4gICAgICB9LFxuICAgICAgcmF3UmVzcG9uc2U6IHsgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzIH0sXG4gICAgICByZXF1ZXN0OiB7IGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpIH0sXG4gICAgICB3YXJuaW5nc1xuICAgIH07XG4gIH1cbn07XG52YXIgdXNhZ2VTY2hlbWEgPSB6Ny5vYmplY3Qoe1xuICBpbnB1dF90b2tlbnM6IHo3Lm51bWJlcigpLFxuICBpbnB1dF90b2tlbnNfZGV0YWlsczogejcub2JqZWN0KHsgY2FjaGVkX3Rva2VuczogejcubnVtYmVyKCkubnVsbGlzaCgpIH0pLm51bGxpc2goKSxcbiAgb3V0cHV0X3Rva2VuczogejcubnVtYmVyKCksXG4gIG91dHB1dF90b2tlbnNfZGV0YWlsczogejcub2JqZWN0KHsgcmVhc29uaW5nX3Rva2VuczogejcubnVtYmVyKCkubnVsbGlzaCgpIH0pLm51bGxpc2goKVxufSk7XG52YXIgdGV4dERlbHRhQ2h1bmtTY2hlbWEgPSB6Ny5vYmplY3Qoe1xuICB0eXBlOiB6Ny5saXRlcmFsKFwicmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGFcIiksXG4gIGRlbHRhOiB6Ny5zdHJpbmcoKVxufSk7XG52YXIgcmVzcG9uc2VGaW5pc2hlZENodW5rU2NoZW1hID0gejcub2JqZWN0KHtcbiAgdHlwZTogejcuZW51bShbXCJyZXNwb25zZS5jb21wbGV0ZWRcIiwgXCJyZXNwb25zZS5pbmNvbXBsZXRlXCJdKSxcbiAgcmVzcG9uc2U6IHo3Lm9iamVjdCh7XG4gICAgaW5jb21wbGV0ZV9kZXRhaWxzOiB6Ny5vYmplY3QoeyByZWFzb246IHo3LnN0cmluZygpIH0pLm51bGxpc2goKSxcbiAgICB1c2FnZTogdXNhZ2VTY2hlbWFcbiAgfSlcbn0pO1xudmFyIHJlc3BvbnNlQ3JlYXRlZENodW5rU2NoZW1hID0gejcub2JqZWN0KHtcbiAgdHlwZTogejcubGl0ZXJhbChcInJlc3BvbnNlLmNyZWF0ZWRcIiksXG4gIHJlc3BvbnNlOiB6Ny5vYmplY3Qoe1xuICAgIGlkOiB6Ny5zdHJpbmcoKSxcbiAgICBjcmVhdGVkX2F0OiB6Ny5udW1iZXIoKSxcbiAgICBtb2RlbDogejcuc3RyaW5nKClcbiAgfSlcbn0pO1xudmFyIHJlc3BvbnNlT3V0cHV0SXRlbURvbmVTY2hlbWEgPSB6Ny5vYmplY3Qoe1xuICB0eXBlOiB6Ny5saXRlcmFsKFwicmVzcG9uc2Uub3V0cHV0X2l0ZW0uZG9uZVwiKSxcbiAgb3V0cHV0X2luZGV4OiB6Ny5udW1iZXIoKSxcbiAgaXRlbTogejcuZGlzY3JpbWluYXRlZFVuaW9uKFwidHlwZVwiLCBbXG4gICAgejcub2JqZWN0KHtcbiAgICAgIHR5cGU6IHo3LmxpdGVyYWwoXCJtZXNzYWdlXCIpXG4gICAgfSksXG4gICAgejcub2JqZWN0KHtcbiAgICAgIHR5cGU6IHo3LmxpdGVyYWwoXCJmdW5jdGlvbl9jYWxsXCIpLFxuICAgICAgaWQ6IHo3LnN0cmluZygpLFxuICAgICAgY2FsbF9pZDogejcuc3RyaW5nKCksXG4gICAgICBuYW1lOiB6Ny5zdHJpbmcoKSxcbiAgICAgIGFyZ3VtZW50czogejcuc3RyaW5nKCksXG4gICAgICBzdGF0dXM6IHo3LmxpdGVyYWwoXCJjb21wbGV0ZWRcIilcbiAgICB9KVxuICBdKVxufSk7XG52YXIgcmVzcG9uc2VGdW5jdGlvbkNhbGxBcmd1bWVudHNEZWx0YVNjaGVtYSA9IHo3Lm9iamVjdCh7XG4gIHR5cGU6IHo3LmxpdGVyYWwoXCJyZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kZWx0YVwiKSxcbiAgaXRlbV9pZDogejcuc3RyaW5nKCksXG4gIG91dHB1dF9pbmRleDogejcubnVtYmVyKCksXG4gIGRlbHRhOiB6Ny5zdHJpbmcoKVxufSk7XG52YXIgcmVzcG9uc2VPdXRwdXRJdGVtQWRkZWRTY2hlbWEgPSB6Ny5vYmplY3Qoe1xuICB0eXBlOiB6Ny5saXRlcmFsKFwicmVzcG9uc2Uub3V0cHV0X2l0ZW0uYWRkZWRcIiksXG4gIG91dHB1dF9pbmRleDogejcubnVtYmVyKCksXG4gIGl0ZW06IHo3LmRpc2NyaW1pbmF0ZWRVbmlvbihcInR5cGVcIiwgW1xuICAgIHo3Lm9iamVjdCh7XG4gICAgICB0eXBlOiB6Ny5saXRlcmFsKFwibWVzc2FnZVwiKVxuICAgIH0pLFxuICAgIHo3Lm9iamVjdCh7XG4gICAgICB0eXBlOiB6Ny5saXRlcmFsKFwiZnVuY3Rpb25fY2FsbFwiKSxcbiAgICAgIGlkOiB6Ny5zdHJpbmcoKSxcbiAgICAgIGNhbGxfaWQ6IHo3LnN0cmluZygpLFxuICAgICAgbmFtZTogejcuc3RyaW5nKCksXG4gICAgICBhcmd1bWVudHM6IHo3LnN0cmluZygpXG4gICAgfSlcbiAgXSlcbn0pO1xudmFyIHJlc3BvbnNlQW5ub3RhdGlvbkFkZGVkU2NoZW1hID0gejcub2JqZWN0KHtcbiAgdHlwZTogejcubGl0ZXJhbChcInJlc3BvbnNlLm91dHB1dF90ZXh0LmFubm90YXRpb24uYWRkZWRcIiksXG4gIGFubm90YXRpb246IHo3Lm9iamVjdCh7XG4gICAgdHlwZTogejcubGl0ZXJhbChcInVybF9jaXRhdGlvblwiKSxcbiAgICB1cmw6IHo3LnN0cmluZygpLFxuICAgIHRpdGxlOiB6Ny5zdHJpbmcoKVxuICB9KVxufSk7XG52YXIgb3BlbmFpUmVzcG9uc2VzQ2h1bmtTY2hlbWEgPSB6Ny51bmlvbihbXG4gIHRleHREZWx0YUNodW5rU2NoZW1hLFxuICByZXNwb25zZUZpbmlzaGVkQ2h1bmtTY2hlbWEsXG4gIHJlc3BvbnNlQ3JlYXRlZENodW5rU2NoZW1hLFxuICByZXNwb25zZU91dHB1dEl0ZW1Eb25lU2NoZW1hLFxuICByZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RlbHRhU2NoZW1hLFxuICByZXNwb25zZU91dHB1dEl0ZW1BZGRlZFNjaGVtYSxcbiAgcmVzcG9uc2VBbm5vdGF0aW9uQWRkZWRTY2hlbWEsXG4gIHo3Lm9iamVjdCh7IHR5cGU6IHo3LnN0cmluZygpIH0pLnBhc3N0aHJvdWdoKClcbiAgLy8gZmFsbGJhY2sgZm9yIHVua25vd24gY2h1bmtzXG5dKTtcbmZ1bmN0aW9uIGlzVGV4dERlbHRhQ2h1bmsoY2h1bmspIHtcbiAgcmV0dXJuIGNodW5rLnR5cGUgPT09IFwicmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGFcIjtcbn1cbmZ1bmN0aW9uIGlzUmVzcG9uc2VPdXRwdXRJdGVtRG9uZUNodW5rKGNodW5rKSB7XG4gIHJldHVybiBjaHVuay50eXBlID09PSBcInJlc3BvbnNlLm91dHB1dF9pdGVtLmRvbmVcIjtcbn1cbmZ1bmN0aW9uIGlzUmVzcG9uc2VGaW5pc2hlZENodW5rKGNodW5rKSB7XG4gIHJldHVybiBjaHVuay50eXBlID09PSBcInJlc3BvbnNlLmNvbXBsZXRlZFwiIHx8IGNodW5rLnR5cGUgPT09IFwicmVzcG9uc2UuaW5jb21wbGV0ZVwiO1xufVxuZnVuY3Rpb24gaXNSZXNwb25zZUNyZWF0ZWRDaHVuayhjaHVuaykge1xuICByZXR1cm4gY2h1bmsudHlwZSA9PT0gXCJyZXNwb25zZS5jcmVhdGVkXCI7XG59XG5mdW5jdGlvbiBpc1Jlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRGVsdGFDaHVuayhjaHVuaykge1xuICByZXR1cm4gY2h1bmsudHlwZSA9PT0gXCJyZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kZWx0YVwiO1xufVxuZnVuY3Rpb24gaXNSZXNwb25zZU91dHB1dEl0ZW1BZGRlZENodW5rKGNodW5rKSB7XG4gIHJldHVybiBjaHVuay50eXBlID09PSBcInJlc3BvbnNlLm91dHB1dF9pdGVtLmFkZGVkXCI7XG59XG5mdW5jdGlvbiBpc1Jlc3BvbnNlQW5ub3RhdGlvbkFkZGVkQ2h1bmsoY2h1bmspIHtcbiAgcmV0dXJuIGNodW5rLnR5cGUgPT09IFwicmVzcG9uc2Uub3V0cHV0X3RleHQuYW5ub3RhdGlvbi5hZGRlZFwiO1xufVxuZnVuY3Rpb24gZ2V0UmVzcG9uc2VzTW9kZWxDb25maWcobW9kZWxJZCkge1xuICBpZiAobW9kZWxJZC5zdGFydHNXaXRoKFwib1wiKSkge1xuICAgIGlmIChtb2RlbElkLnN0YXJ0c1dpdGgoXCJvMS1taW5pXCIpIHx8IG1vZGVsSWQuc3RhcnRzV2l0aChcIm8xLXByZXZpZXdcIikpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzUmVhc29uaW5nTW9kZWw6IHRydWUsXG4gICAgICAgIHN5c3RlbU1lc3NhZ2VNb2RlOiBcInJlbW92ZVwiLFxuICAgICAgICByZXF1aXJlZEF1dG9UcnVuY2F0aW9uOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzUmVhc29uaW5nTW9kZWw6IHRydWUsXG4gICAgICBzeXN0ZW1NZXNzYWdlTW9kZTogXCJkZXZlbG9wZXJcIixcbiAgICAgIHJlcXVpcmVkQXV0b1RydW5jYXRpb246IGZhbHNlXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGlzUmVhc29uaW5nTW9kZWw6IGZhbHNlLFxuICAgIHN5c3RlbU1lc3NhZ2VNb2RlOiBcInN5c3RlbVwiLFxuICAgIHJlcXVpcmVkQXV0b1RydW5jYXRpb246IGZhbHNlXG4gIH07XG59XG52YXIgb3BlbmFpUmVzcG9uc2VzUHJvdmlkZXJPcHRpb25zU2NoZW1hID0gejcub2JqZWN0KHtcbiAgbWV0YWRhdGE6IHo3LmFueSgpLm51bGxpc2goKSxcbiAgcGFyYWxsZWxUb29sQ2FsbHM6IHo3LmJvb2xlYW4oKS5udWxsaXNoKCksXG4gIHByZXZpb3VzUmVzcG9uc2VJZDogejcuc3RyaW5nKCkubnVsbGlzaCgpLFxuICBzdG9yZTogejcuYm9vbGVhbigpLm51bGxpc2goKSxcbiAgdXNlcjogejcuc3RyaW5nKCkubnVsbGlzaCgpLFxuICByZWFzb25pbmdFZmZvcnQ6IHo3LnN0cmluZygpLm51bGxpc2goKSxcbiAgc3RyaWN0U2NoZW1hczogejcuYm9vbGVhbigpLm51bGxpc2goKSxcbiAgaW5zdHJ1Y3Rpb25zOiB6Ny5zdHJpbmcoKS5udWxsaXNoKClcbn0pO1xuXG4vLyBzcmMvb3BlbmFpLXRvb2xzLnRzXG5pbXBvcnQgeyB6IGFzIHo4IH0gZnJvbSBcInpvZFwiO1xudmFyIFdlYlNlYXJjaFByZXZpZXdQYXJhbWV0ZXJzID0gejgub2JqZWN0KHt9KTtcbmZ1bmN0aW9uIHdlYlNlYXJjaFByZXZpZXdUb29sKHtcbiAgc2VhcmNoQ29udGV4dFNpemUsXG4gIHVzZXJMb2NhdGlvblxufSA9IHt9KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJwcm92aWRlci1kZWZpbmVkXCIsXG4gICAgaWQ6IFwib3BlbmFpLndlYl9zZWFyY2hfcHJldmlld1wiLFxuICAgIGFyZ3M6IHtcbiAgICAgIHNlYXJjaENvbnRleHRTaXplLFxuICAgICAgdXNlckxvY2F0aW9uXG4gICAgfSxcbiAgICBwYXJhbWV0ZXJzOiBXZWJTZWFyY2hQcmV2aWV3UGFyYW1ldGVyc1xuICB9O1xufVxudmFyIG9wZW5haVRvb2xzID0ge1xuICB3ZWJTZWFyY2hQcmV2aWV3OiB3ZWJTZWFyY2hQcmV2aWV3VG9vbFxufTtcblxuLy8gc3JjL29wZW5haS1zcGVlY2gtbW9kZWwudHNcbmltcG9ydCB7XG4gIGNvbWJpbmVIZWFkZXJzIGFzIGNvbWJpbmVIZWFkZXJzNyxcbiAgY3JlYXRlQmluYXJ5UmVzcG9uc2VIYW5kbGVyLFxuICBwYXJzZVByb3ZpZGVyT3B0aW9ucyBhcyBwYXJzZVByb3ZpZGVyT3B0aW9uczMsXG4gIHBvc3RKc29uVG9BcGkgYXMgcG9zdEpzb25Ub0FwaTZcbn0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcbmltcG9ydCB7IHogYXMgejkgfSBmcm9tIFwiem9kXCI7XG52YXIgT3BlbkFJUHJvdmlkZXJPcHRpb25zU2NoZW1hID0gejkub2JqZWN0KHtcbiAgaW5zdHJ1Y3Rpb25zOiB6OS5zdHJpbmcoKS5udWxsaXNoKCksXG4gIHNwZWVkOiB6OS5udW1iZXIoKS5taW4oMC4yNSkubWF4KDQpLmRlZmF1bHQoMSkubnVsbGlzaCgpXG59KTtcbnZhciBPcGVuQUlTcGVlY2hNb2RlbCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IobW9kZWxJZCwgY29uZmlnKSB7XG4gICAgdGhpcy5tb2RlbElkID0gbW9kZWxJZDtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLnNwZWNpZmljYXRpb25WZXJzaW9uID0gXCJ2MVwiO1xuICB9XG4gIGdldCBwcm92aWRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcucHJvdmlkZXI7XG4gIH1cbiAgZ2V0QXJncyh7XG4gICAgdGV4dCxcbiAgICB2b2ljZSA9IFwiYWxsb3lcIixcbiAgICBvdXRwdXRGb3JtYXQgPSBcIm1wM1wiLFxuICAgIHNwZWVkLFxuICAgIGluc3RydWN0aW9ucyxcbiAgICBwcm92aWRlck9wdGlvbnNcbiAgfSkge1xuICAgIGNvbnN0IHdhcm5pbmdzID0gW107XG4gICAgY29uc3Qgb3BlbkFJT3B0aW9ucyA9IHBhcnNlUHJvdmlkZXJPcHRpb25zMyh7XG4gICAgICBwcm92aWRlcjogXCJvcGVuYWlcIixcbiAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgIHNjaGVtYTogT3BlbkFJUHJvdmlkZXJPcHRpb25zU2NoZW1hXG4gICAgfSk7XG4gICAgY29uc3QgcmVxdWVzdEJvZHkgPSB7XG4gICAgICBtb2RlbDogdGhpcy5tb2RlbElkLFxuICAgICAgaW5wdXQ6IHRleHQsXG4gICAgICB2b2ljZSxcbiAgICAgIHJlc3BvbnNlX2Zvcm1hdDogXCJtcDNcIixcbiAgICAgIHNwZWVkLFxuICAgICAgaW5zdHJ1Y3Rpb25zXG4gICAgfTtcbiAgICBpZiAob3V0cHV0Rm9ybWF0KSB7XG4gICAgICBpZiAoW1wibXAzXCIsIFwib3B1c1wiLCBcImFhY1wiLCBcImZsYWNcIiwgXCJ3YXZcIiwgXCJwY21cIl0uaW5jbHVkZXMob3V0cHV0Rm9ybWF0KSkge1xuICAgICAgICByZXF1ZXN0Qm9keS5yZXNwb25zZV9mb3JtYXQgPSBvdXRwdXRGb3JtYXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgICBzZXR0aW5nOiBcIm91dHB1dEZvcm1hdFwiLFxuICAgICAgICAgIGRldGFpbHM6IGBVbnN1cHBvcnRlZCBvdXRwdXQgZm9ybWF0OiAke291dHB1dEZvcm1hdH0uIFVzaW5nIG1wMyBpbnN0ZWFkLmBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvcGVuQUlPcHRpb25zKSB7XG4gICAgICBjb25zdCBzcGVlY2hNb2RlbE9wdGlvbnMgPSB7fTtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHNwZWVjaE1vZGVsT3B0aW9ucykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHNwZWVjaE1vZGVsT3B0aW9uc1trZXldO1xuICAgICAgICBpZiAodmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgICAgIHJlcXVlc3RCb2R5W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgcmVxdWVzdEJvZHksXG4gICAgICB3YXJuaW5nc1xuICAgIH07XG4gIH1cbiAgYXN5bmMgZG9HZW5lcmF0ZShvcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgY29uc3QgY3VycmVudERhdGUgPSAoX2MgPSAoX2IgPSAoX2EgPSB0aGlzLmNvbmZpZy5faW50ZXJuYWwpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jdXJyZW50RGF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpKSAhPSBudWxsID8gX2MgOiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKTtcbiAgICBjb25zdCB7IHJlcXVlc3RCb2R5LCB3YXJuaW5ncyB9ID0gdGhpcy5nZXRBcmdzKG9wdGlvbnMpO1xuICAgIGNvbnN0IHtcbiAgICAgIHZhbHVlOiBhdWRpbyxcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHJhd1ZhbHVlOiByYXdSZXNwb25zZVxuICAgIH0gPSBhd2FpdCBwb3N0SnNvblRvQXBpNih7XG4gICAgICB1cmw6IHRoaXMuY29uZmlnLnVybCh7XG4gICAgICAgIHBhdGg6IFwiL2F1ZGlvL3NwZWVjaFwiLFxuICAgICAgICBtb2RlbElkOiB0aGlzLm1vZGVsSWRcbiAgICAgIH0pLFxuICAgICAgaGVhZGVyczogY29tYmluZUhlYWRlcnM3KHRoaXMuY29uZmlnLmhlYWRlcnMoKSwgb3B0aW9ucy5oZWFkZXJzKSxcbiAgICAgIGJvZHk6IHJlcXVlc3RCb2R5LFxuICAgICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiBvcGVuYWlGYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gICAgICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVCaW5hcnlSZXNwb25zZUhhbmRsZXIoKSxcbiAgICAgIGFib3J0U2lnbmFsOiBvcHRpb25zLmFib3J0U2lnbmFsLFxuICAgICAgZmV0Y2g6IHRoaXMuY29uZmlnLmZldGNoXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGF1ZGlvLFxuICAgICAgd2FybmluZ3MsXG4gICAgICByZXF1ZXN0OiB7XG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3RCb2R5KVxuICAgICAgfSxcbiAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgIHRpbWVzdGFtcDogY3VycmVudERhdGUsXG4gICAgICAgIG1vZGVsSWQ6IHRoaXMubW9kZWxJZCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBib2R5OiByYXdSZXNwb25zZVxuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG5cbi8vIHNyYy9vcGVuYWktcHJvdmlkZXIudHNcbmZ1bmN0aW9uIGNyZWF0ZU9wZW5BSShvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hLCBfYiwgX2M7XG4gIGNvbnN0IGJhc2VVUkwgPSAoX2EgPSB3aXRob3V0VHJhaWxpbmdTbGFzaChvcHRpb25zLmJhc2VVUkwpKSAhPSBudWxsID8gX2EgOiBcImh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjFcIjtcbiAgY29uc3QgY29tcGF0aWJpbGl0eSA9IChfYiA9IG9wdGlvbnMuY29tcGF0aWJpbGl0eSkgIT0gbnVsbCA/IF9iIDogXCJjb21wYXRpYmxlXCI7XG4gIGNvbnN0IHByb3ZpZGVyTmFtZSA9IChfYyA9IG9wdGlvbnMubmFtZSkgIT0gbnVsbCA/IF9jIDogXCJvcGVuYWlcIjtcbiAgY29uc3QgZ2V0SGVhZGVycyA9ICgpID0+ICh7XG4gICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2xvYWRBcGlLZXkoe1xuICAgICAgYXBpS2V5OiBvcHRpb25zLmFwaUtleSxcbiAgICAgIGVudmlyb25tZW50VmFyaWFibGVOYW1lOiBcIk9QRU5BSV9BUElfS0VZXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJPcGVuQUlcIlxuICAgIH0pfWAsXG4gICAgXCJPcGVuQUktT3JnYW5pemF0aW9uXCI6IG9wdGlvbnMub3JnYW5pemF0aW9uLFxuICAgIFwiT3BlbkFJLVByb2plY3RcIjogb3B0aW9ucy5wcm9qZWN0LFxuICAgIC4uLm9wdGlvbnMuaGVhZGVyc1xuICB9KTtcbiAgY29uc3QgY3JlYXRlQ2hhdE1vZGVsID0gKG1vZGVsSWQsIHNldHRpbmdzID0ge30pID0+IG5ldyBPcGVuQUlDaGF0TGFuZ3VhZ2VNb2RlbChtb2RlbElkLCBzZXR0aW5ncywge1xuICAgIHByb3ZpZGVyOiBgJHtwcm92aWRlck5hbWV9LmNoYXRgLFxuICAgIHVybDogKHsgcGF0aCB9KSA9PiBgJHtiYXNlVVJMfSR7cGF0aH1gLFxuICAgIGhlYWRlcnM6IGdldEhlYWRlcnMsXG4gICAgY29tcGF0aWJpbGl0eSxcbiAgICBmZXRjaDogb3B0aW9ucy5mZXRjaFxuICB9KTtcbiAgY29uc3QgY3JlYXRlQ29tcGxldGlvbk1vZGVsID0gKG1vZGVsSWQsIHNldHRpbmdzID0ge30pID0+IG5ldyBPcGVuQUlDb21wbGV0aW9uTGFuZ3VhZ2VNb2RlbChtb2RlbElkLCBzZXR0aW5ncywge1xuICAgIHByb3ZpZGVyOiBgJHtwcm92aWRlck5hbWV9LmNvbXBsZXRpb25gLFxuICAgIHVybDogKHsgcGF0aCB9KSA9PiBgJHtiYXNlVVJMfSR7cGF0aH1gLFxuICAgIGhlYWRlcnM6IGdldEhlYWRlcnMsXG4gICAgY29tcGF0aWJpbGl0eSxcbiAgICBmZXRjaDogb3B0aW9ucy5mZXRjaFxuICB9KTtcbiAgY29uc3QgY3JlYXRlRW1iZWRkaW5nTW9kZWwgPSAobW9kZWxJZCwgc2V0dGluZ3MgPSB7fSkgPT4gbmV3IE9wZW5BSUVtYmVkZGluZ01vZGVsKG1vZGVsSWQsIHNldHRpbmdzLCB7XG4gICAgcHJvdmlkZXI6IGAke3Byb3ZpZGVyTmFtZX0uZW1iZWRkaW5nYCxcbiAgICB1cmw6ICh7IHBhdGggfSkgPT4gYCR7YmFzZVVSTH0ke3BhdGh9YCxcbiAgICBoZWFkZXJzOiBnZXRIZWFkZXJzLFxuICAgIGZldGNoOiBvcHRpb25zLmZldGNoXG4gIH0pO1xuICBjb25zdCBjcmVhdGVJbWFnZU1vZGVsID0gKG1vZGVsSWQsIHNldHRpbmdzID0ge30pID0+IG5ldyBPcGVuQUlJbWFnZU1vZGVsKG1vZGVsSWQsIHNldHRpbmdzLCB7XG4gICAgcHJvdmlkZXI6IGAke3Byb3ZpZGVyTmFtZX0uaW1hZ2VgLFxuICAgIHVybDogKHsgcGF0aCB9KSA9PiBgJHtiYXNlVVJMfSR7cGF0aH1gLFxuICAgIGhlYWRlcnM6IGdldEhlYWRlcnMsXG4gICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2hcbiAgfSk7XG4gIGNvbnN0IGNyZWF0ZVRyYW5zY3JpcHRpb25Nb2RlbCA9IChtb2RlbElkKSA9PiBuZXcgT3BlbkFJVHJhbnNjcmlwdGlvbk1vZGVsKG1vZGVsSWQsIHtcbiAgICBwcm92aWRlcjogYCR7cHJvdmlkZXJOYW1lfS50cmFuc2NyaXB0aW9uYCxcbiAgICB1cmw6ICh7IHBhdGggfSkgPT4gYCR7YmFzZVVSTH0ke3BhdGh9YCxcbiAgICBoZWFkZXJzOiBnZXRIZWFkZXJzLFxuICAgIGZldGNoOiBvcHRpb25zLmZldGNoXG4gIH0pO1xuICBjb25zdCBjcmVhdGVTcGVlY2hNb2RlbCA9IChtb2RlbElkKSA9PiBuZXcgT3BlbkFJU3BlZWNoTW9kZWwobW9kZWxJZCwge1xuICAgIHByb3ZpZGVyOiBgJHtwcm92aWRlck5hbWV9LnNwZWVjaGAsXG4gICAgdXJsOiAoeyBwYXRoIH0pID0+IGAke2Jhc2VVUkx9JHtwYXRofWAsXG4gICAgaGVhZGVyczogZ2V0SGVhZGVycyxcbiAgICBmZXRjaDogb3B0aW9ucy5mZXRjaFxuICB9KTtcbiAgY29uc3QgY3JlYXRlTGFuZ3VhZ2VNb2RlbCA9IChtb2RlbElkLCBzZXR0aW5ncykgPT4ge1xuICAgIGlmIChuZXcudGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVGhlIE9wZW5BSSBtb2RlbCBmdW5jdGlvbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBrZXl3b3JkLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAobW9kZWxJZCA9PT0gXCJncHQtMy41LXR1cmJvLWluc3RydWN0XCIpIHtcbiAgICAgIHJldHVybiBjcmVhdGVDb21wbGV0aW9uTW9kZWwoXG4gICAgICAgIG1vZGVsSWQsXG4gICAgICAgIHNldHRpbmdzXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhdE1vZGVsKG1vZGVsSWQsIHNldHRpbmdzKTtcbiAgfTtcbiAgY29uc3QgY3JlYXRlUmVzcG9uc2VzTW9kZWwgPSAobW9kZWxJZCkgPT4ge1xuICAgIHJldHVybiBuZXcgT3BlbkFJUmVzcG9uc2VzTGFuZ3VhZ2VNb2RlbChtb2RlbElkLCB7XG4gICAgICBwcm92aWRlcjogYCR7cHJvdmlkZXJOYW1lfS5yZXNwb25zZXNgLFxuICAgICAgdXJsOiAoeyBwYXRoIH0pID0+IGAke2Jhc2VVUkx9JHtwYXRofWAsXG4gICAgICBoZWFkZXJzOiBnZXRIZWFkZXJzLFxuICAgICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2hcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgcHJvdmlkZXIgPSBmdW5jdGlvbihtb2RlbElkLCBzZXR0aW5ncykge1xuICAgIHJldHVybiBjcmVhdGVMYW5ndWFnZU1vZGVsKG1vZGVsSWQsIHNldHRpbmdzKTtcbiAgfTtcbiAgcHJvdmlkZXIubGFuZ3VhZ2VNb2RlbCA9IGNyZWF0ZUxhbmd1YWdlTW9kZWw7XG4gIHByb3ZpZGVyLmNoYXQgPSBjcmVhdGVDaGF0TW9kZWw7XG4gIHByb3ZpZGVyLmNvbXBsZXRpb24gPSBjcmVhdGVDb21wbGV0aW9uTW9kZWw7XG4gIHByb3ZpZGVyLnJlc3BvbnNlcyA9IGNyZWF0ZVJlc3BvbnNlc01vZGVsO1xuICBwcm92aWRlci5lbWJlZGRpbmcgPSBjcmVhdGVFbWJlZGRpbmdNb2RlbDtcbiAgcHJvdmlkZXIudGV4dEVtYmVkZGluZyA9IGNyZWF0ZUVtYmVkZGluZ01vZGVsO1xuICBwcm92aWRlci50ZXh0RW1iZWRkaW5nTW9kZWwgPSBjcmVhdGVFbWJlZGRpbmdNb2RlbDtcbiAgcHJvdmlkZXIuaW1hZ2UgPSBjcmVhdGVJbWFnZU1vZGVsO1xuICBwcm92aWRlci5pbWFnZU1vZGVsID0gY3JlYXRlSW1hZ2VNb2RlbDtcbiAgcHJvdmlkZXIudHJhbnNjcmlwdGlvbiA9IGNyZWF0ZVRyYW5zY3JpcHRpb25Nb2RlbDtcbiAgcHJvdmlkZXIudHJhbnNjcmlwdGlvbk1vZGVsID0gY3JlYXRlVHJhbnNjcmlwdGlvbk1vZGVsO1xuICBwcm92aWRlci5zcGVlY2ggPSBjcmVhdGVTcGVlY2hNb2RlbDtcbiAgcHJvdmlkZXIuc3BlZWNoTW9kZWwgPSBjcmVhdGVTcGVlY2hNb2RlbDtcbiAgcHJvdmlkZXIudG9vbHMgPSBvcGVuYWlUb29scztcbiAgcmV0dXJuIHByb3ZpZGVyO1xufVxudmFyIG9wZW5haSA9IGNyZWF0ZU9wZW5BSSh7XG4gIGNvbXBhdGliaWxpdHk6IFwic3RyaWN0XCJcbiAgLy8gc3RyaWN0IGZvciBPcGVuQUkgQVBJXG59KTtcbmV4cG9ydCB7XG4gIGNyZWF0ZU9wZW5BSSxcbiAgb3BlbmFpXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6WyJsb2FkQXBpS2V5Iiwid2l0aG91dFRyYWlsaW5nU2xhc2giLCJJbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3IiLCJVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvciIsIlVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yMyIsImNvbWJpbmVIZWFkZXJzIiwiY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIiLCJjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyIiwiZ2VuZXJhdGVJZCIsImlzUGFyc2FibGVKc29uIiwicG9zdEpzb25Ub0FwaSIsInoiLCJ6MiIsImNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQiLCJjb252ZXJ0VG9PcGVuQUlDaGF0TWVzc2FnZXMiLCJwcm9tcHQiLCJ1c2VMZWdhY3lGdW5jdGlvbkNhbGxpbmciLCJzeXN0ZW1NZXNzYWdlTW9kZSIsIm1lc3NhZ2VzIiwid2FybmluZ3MiLCJyb2xlIiwiY29udGVudCIsInB1c2giLCJ0eXBlIiwibWVzc2FnZSIsIl9leGhhdXN0aXZlQ2hlY2siLCJFcnJvciIsImxlbmd0aCIsInRleHQiLCJtYXAiLCJwYXJ0IiwiaW5kZXgiLCJfYSIsIl9iIiwiX2MiLCJfZCIsImltYWdlX3VybCIsInVybCIsImltYWdlIiwiVVJMIiwidG9TdHJpbmciLCJtaW1lVHlwZSIsImRldGFpbCIsInByb3ZpZGVyTWV0YWRhdGEiLCJvcGVuYWkiLCJpbWFnZURldGFpbCIsImRhdGEiLCJmdW5jdGlvbmFsaXR5IiwiaW5wdXRfYXVkaW8iLCJmb3JtYXQiLCJmaWxlIiwiZmlsZW5hbWUiLCJmaWxlX2RhdGEiLCJ0b29sQ2FsbHMiLCJpZCIsInRvb2xDYWxsSWQiLCJmdW5jdGlvbiIsIm5hbWUiLCJ0b29sTmFtZSIsImFyZ3VtZW50cyIsIkpTT04iLCJzdHJpbmdpZnkiLCJhcmdzIiwiZnVuY3Rpb25fY2FsbCIsInRvb2xfY2FsbHMiLCJ0b29sUmVzcG9uc2UiLCJyZXN1bHQiLCJ0b29sX2NhbGxfaWQiLCJtYXBPcGVuQUlDaGF0TG9nUHJvYnNPdXRwdXQiLCJsb2dwcm9icyIsInRva2VuIiwibG9ncHJvYiIsInRvcF9sb2dwcm9icyIsInRvcExvZ3Byb2JzIiwidG9rZW4yIiwibG9ncHJvYjIiLCJtYXBPcGVuQUlGaW5pc2hSZWFzb24iLCJmaW5pc2hSZWFzb24iLCJjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIiLCJvcGVuYWlFcnJvckRhdGFTY2hlbWEiLCJvYmplY3QiLCJlcnJvciIsInN0cmluZyIsIm51bGxpc2giLCJwYXJhbSIsImFueSIsImNvZGUiLCJ1bmlvbiIsIm51bWJlciIsIm9wZW5haUZhaWxlZFJlc3BvbnNlSGFuZGxlciIsImVycm9yU2NoZW1hIiwiZXJyb3JUb01lc3NhZ2UiLCJnZXRSZXNwb25zZU1ldGFkYXRhIiwibW9kZWwiLCJjcmVhdGVkIiwibW9kZWxJZCIsInRpbWVzdGFtcCIsIkRhdGUiLCJVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjIiLCJwcmVwYXJlVG9vbHMiLCJtb2RlIiwic3RydWN0dXJlZE91dHB1dHMiLCJ0b29scyIsInRvb2xXYXJuaW5ncyIsInRvb2xfY2hvaWNlIiwidG9vbENob2ljZSIsIm9wZW5haUZ1bmN0aW9ucyIsInRvb2wiLCJkZXNjcmlwdGlvbiIsInBhcmFtZXRlcnMiLCJmdW5jdGlvbnMiLCJ0eXBlMiIsIm9wZW5haVRvb2xzMiIsInN0cmljdCIsIk9wZW5BSUNoYXRMYW5ndWFnZU1vZGVsIiwiY29uc3RydWN0b3IiLCJzZXR0aW5ncyIsImNvbmZpZyIsInNwZWNpZmljYXRpb25WZXJzaW9uIiwic3VwcG9ydHNTdHJ1Y3R1cmVkT3V0cHV0cyIsImlzUmVhc29uaW5nTW9kZWwiLCJkZWZhdWx0T2JqZWN0R2VuZXJhdGlvbk1vZGUiLCJpc0F1ZGlvTW9kZWwiLCJwcm92aWRlciIsInN1cHBvcnRzSW1hZ2VVcmxzIiwiZG93bmxvYWRJbWFnZXMiLCJnZXRBcmdzIiwibWF4VG9rZW5zIiwidGVtcGVyYXR1cmUiLCJ0b3BQIiwidG9wSyIsImZyZXF1ZW5jeVBlbmFsdHkiLCJwcmVzZW5jZVBlbmFsdHkiLCJzdG9wU2VxdWVuY2VzIiwicmVzcG9uc2VGb3JtYXQiLCJzZWVkIiwiX2UiLCJfZiIsIl9nIiwiX2giLCJzZXR0aW5nIiwic2NoZW1hIiwiZGV0YWlscyIsInBhcmFsbGVsVG9vbENhbGxzIiwibWVzc2FnZVdhcm5pbmdzIiwiZ2V0U3lzdGVtTWVzc2FnZU1vZGUiLCJiYXNlQXJncyIsImxvZ2l0X2JpYXMiLCJsb2dpdEJpYXMiLCJ1c2VyIiwicGFyYWxsZWxfdG9vbF9jYWxscyIsIm1heF90b2tlbnMiLCJ0b3BfcCIsImZyZXF1ZW5jeV9wZW5hbHR5IiwicHJlc2VuY2VfcGVuYWx0eSIsInJlc3BvbnNlX2Zvcm1hdCIsImpzb25fc2NoZW1hIiwic3RvcCIsIm1heF9jb21wbGV0aW9uX3Rva2VucyIsIm1heENvbXBsZXRpb25Ub2tlbnMiLCJzdG9yZSIsIm1ldGFkYXRhIiwicHJlZGljdGlvbiIsInJlYXNvbmluZ19lZmZvcnQiLCJyZWFzb25pbmdFZmZvcnQiLCJzdGFydHNXaXRoIiwiZG9HZW5lcmF0ZSIsIm9wdGlvbnMiLCJib2R5IiwicmVzcG9uc2VIZWFkZXJzIiwidmFsdWUiLCJyZXNwb25zZSIsInJhd1ZhbHVlIiwicmF3UmVzcG9uc2UiLCJwYXRoIiwiaGVhZGVycyIsImZhaWxlZFJlc3BvbnNlSGFuZGxlciIsInN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIiLCJvcGVuYWlDaGF0UmVzcG9uc2VTY2hlbWEiLCJhYm9ydFNpZ25hbCIsImZldGNoIiwicmF3UHJvbXB0IiwicmF3U2V0dGluZ3MiLCJjaG9pY2UiLCJjaG9pY2VzIiwiY29tcGxldGlvblRva2VuRGV0YWlscyIsInVzYWdlIiwiY29tcGxldGlvbl90b2tlbnNfZGV0YWlscyIsInByb21wdFRva2VuRGV0YWlscyIsInByb21wdF90b2tlbnNfZGV0YWlscyIsInJlYXNvbmluZ190b2tlbnMiLCJyZWFzb25pbmdUb2tlbnMiLCJhY2NlcHRlZF9wcmVkaWN0aW9uX3Rva2VucyIsImFjY2VwdGVkUHJlZGljdGlvblRva2VucyIsInJlamVjdGVkX3ByZWRpY3Rpb25fdG9rZW5zIiwicmVqZWN0ZWRQcmVkaWN0aW9uVG9rZW5zIiwiY2FjaGVkX3Rva2VucyIsImNhY2hlZFByb21wdFRva2VucyIsInRvb2xDYWxsVHlwZSIsInRvb2xDYWxsIiwiX2EyIiwiZmluaXNoX3JlYXNvbiIsInByb21wdFRva2VucyIsInByb21wdF90b2tlbnMiLCJOYU4iLCJjb21wbGV0aW9uVG9rZW5zIiwiY29tcGxldGlvbl90b2tlbnMiLCJyYXdDYWxsIiwicmVxdWVzdCIsImRvU3RyZWFtIiwic2ltdWxhdGVTdHJlYW1pbmciLCJzaW11bGF0ZWRTdHJlYW0iLCJSZWFkYWJsZVN0cmVhbSIsInN0YXJ0IiwiY29udHJvbGxlciIsImVucXVldWUiLCJ0ZXh0RGVsdGEiLCJhcmdzVGV4dERlbHRhIiwiY2xvc2UiLCJzdHJlYW0iLCJzdHJlYW1fb3B0aW9ucyIsImNvbXBhdGliaWxpdHkiLCJpbmNsdWRlX3VzYWdlIiwib3BlbmFpQ2hhdENodW5rU2NoZW1hIiwiaXNGaXJzdENodW5rIiwicGlwZVRocm91Z2giLCJUcmFuc2Zvcm1TdHJlYW0iLCJ0cmFuc2Zvcm0iLCJjaHVuayIsIl9pIiwiX2oiLCJfayIsIl9sIiwic3VjY2VzcyIsImRlbHRhIiwibWFwcGVkTG9ncHJvYnMiLCJtYXBwZWRUb29sQ2FsbHMiLCJ0b29sQ2FsbERlbHRhIiwiaGFzRmluaXNoZWQiLCJ0b29sQ2FsbDIiLCJmbHVzaCIsIm9wZW5haVRva2VuVXNhZ2VTY2hlbWEiLCJhcnJheSIsImxpdGVyYWwiLCJudWxsYWJsZSIsImVudW0iLCJvcHRpb25hbCIsInJlYXNvbmluZ01vZGVscyIsIlVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yNSIsImNvbWJpbmVIZWFkZXJzMiIsImNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyMiIsImNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIyIiwicG9zdEpzb25Ub0FwaTIiLCJ6MyIsIkludmFsaWRQcm9tcHRFcnJvciIsIlVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yNCIsImNvbnZlcnRUb09wZW5BSUNvbXBsZXRpb25Qcm9tcHQiLCJpbnB1dEZvcm1hdCIsImFzc2lzdGFudCIsInNsaWNlIiwidXNlck1lc3NhZ2UiLCJqb2luIiwiYXNzaXN0YW50TWVzc2FnZSIsIm1hcE9wZW5BSUNvbXBsZXRpb25Mb2dQcm9icyIsInRva2VucyIsInRva2VuX2xvZ3Byb2JzIiwiT2JqZWN0IiwiZW50cmllcyIsIk9wZW5BSUNvbXBsZXRpb25MYW5ndWFnZU1vZGVsIiwidXNlclN0b3BTZXF1ZW5jZXMiLCJjb21wbGV0aW9uUHJvbXB0IiwiZWNobyIsInN1ZmZpeCIsIm9wZW5haUNvbXBsZXRpb25SZXNwb25zZVNjaGVtYSIsIm9wZW5haUNvbXBsZXRpb25DaHVua1NjaGVtYSIsIk51bWJlciIsInJlY29yZCIsIlRvb01hbnlFbWJlZGRpbmdWYWx1ZXNGb3JDYWxsRXJyb3IiLCJjb21iaW5lSGVhZGVyczMiLCJjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyMyIsInBvc3RKc29uVG9BcGkzIiwiejQiLCJPcGVuQUlFbWJlZGRpbmdNb2RlbCIsIm1heEVtYmVkZGluZ3NQZXJDYWxsIiwic3VwcG9ydHNQYXJhbGxlbENhbGxzIiwiZG9FbWJlZCIsInZhbHVlcyIsImlucHV0IiwiZW5jb2RpbmdfZm9ybWF0IiwiZGltZW5zaW9ucyIsIm9wZW5haVRleHRFbWJlZGRpbmdSZXNwb25zZVNjaGVtYSIsImVtYmVkZGluZ3MiLCJpdGVtIiwiZW1iZWRkaW5nIiwiY29tYmluZUhlYWRlcnM0IiwiY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcjQiLCJwb3N0SnNvblRvQXBpNCIsIno1IiwibW9kZWxNYXhJbWFnZXNQZXJDYWxsIiwiT3BlbkFJSW1hZ2VNb2RlbCIsIm1heEltYWdlc1BlckNhbGwiLCJuIiwic2l6ZSIsImFzcGVjdFJhdGlvIiwicHJvdmlkZXJPcHRpb25zIiwiY3VycmVudERhdGUiLCJfaW50ZXJuYWwiLCJjYWxsIiwib3BlbmFpSW1hZ2VSZXNwb25zZVNjaGVtYSIsImltYWdlcyIsImI2NF9qc29uIiwiY29tYmluZUhlYWRlcnM1IiwiY29udmVydEJhc2U2NFRvVWludDhBcnJheSIsImNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXI1IiwicGFyc2VQcm92aWRlck9wdGlvbnMiLCJwb3N0Rm9ybURhdGFUb0FwaSIsIno2Iiwib3BlbkFJUHJvdmlkZXJPcHRpb25zU2NoZW1hIiwiaW5jbHVkZSIsImxhbmd1YWdlIiwibWluIiwibWF4IiwiZGVmYXVsdCIsInRpbWVzdGFtcEdyYW51bGFyaXRpZXMiLCJsYW5ndWFnZU1hcCIsImFmcmlrYWFucyIsImFyYWJpYyIsImFybWVuaWFuIiwiYXplcmJhaWphbmkiLCJiZWxhcnVzaWFuIiwiYm9zbmlhbiIsImJ1bGdhcmlhbiIsImNhdGFsYW4iLCJjaGluZXNlIiwiY3JvYXRpYW4iLCJjemVjaCIsImRhbmlzaCIsImR1dGNoIiwiZW5nbGlzaCIsImVzdG9uaWFuIiwiZmlubmlzaCIsImZyZW5jaCIsImdhbGljaWFuIiwiZ2VybWFuIiwiZ3JlZWsiLCJoZWJyZXciLCJoaW5kaSIsImh1bmdhcmlhbiIsImljZWxhbmRpYyIsImluZG9uZXNpYW4iLCJpdGFsaWFuIiwiamFwYW5lc2UiLCJrYW5uYWRhIiwia2F6YWtoIiwia29yZWFuIiwibGF0dmlhbiIsImxpdGh1YW5pYW4iLCJtYWNlZG9uaWFuIiwibWFsYXkiLCJtYXJhdGhpIiwibWFvcmkiLCJuZXBhbGkiLCJub3J3ZWdpYW4iLCJwZXJzaWFuIiwicG9saXNoIiwicG9ydHVndWVzZSIsInJvbWFuaWFuIiwicnVzc2lhbiIsInNlcmJpYW4iLCJzbG92YWsiLCJzbG92ZW5pYW4iLCJzcGFuaXNoIiwic3dhaGlsaSIsInN3ZWRpc2giLCJ0YWdhbG9nIiwidGFtaWwiLCJ0aGFpIiwidHVya2lzaCIsInVrcmFpbmlhbiIsInVyZHUiLCJ2aWV0bmFtZXNlIiwid2Vsc2giLCJPcGVuQUlUcmFuc2NyaXB0aW9uTW9kZWwiLCJhdWRpbyIsIm1lZGlhVHlwZSIsIm9wZW5BSU9wdGlvbnMiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYmxvYiIsIlVpbnQ4QXJyYXkiLCJCbG9iIiwiYXBwZW5kIiwiRmlsZSIsInRyYW5zY3JpcHRpb25Nb2RlbE9wdGlvbnMiLCJ0aW1lc3RhbXBfZ3JhbnVsYXJpdGllcyIsImtleSIsIlN0cmluZyIsIm9wZW5haVRyYW5zY3JpcHRpb25SZXNwb25zZVNjaGVtYSIsInNlZ21lbnRzIiwid29yZHMiLCJ3b3JkIiwic3RhcnRTZWNvbmQiLCJlbmRTZWNvbmQiLCJlbmQiLCJkdXJhdGlvbkluU2Vjb25kcyIsImR1cmF0aW9uIiwiY29tYmluZUhlYWRlcnM2IiwiY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIzIiwiY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcjYiLCJnZW5lcmF0ZUlkMiIsInBhcnNlUHJvdmlkZXJPcHRpb25zMiIsInBvc3RKc29uVG9BcGk1IiwiejciLCJVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjYiLCJjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0MiIsImNvbnZlcnRUb09wZW5BSVJlc3BvbnNlc01lc3NhZ2VzIiwiY2FsbF9pZCIsIm91dHB1dCIsIm1hcE9wZW5BSVJlc3BvbnNlRmluaXNoUmVhc29uIiwiaGFzVG9vbENhbGxzIiwiVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3I3IiwicHJlcGFyZVJlc3BvbnNlc1Rvb2xzIiwic2VhcmNoX2NvbnRleHRfc2l6ZSIsInNlYXJjaENvbnRleHRTaXplIiwidXNlcl9sb2NhdGlvbiIsInVzZXJMb2NhdGlvbiIsIk9wZW5BSVJlc3BvbnNlc0xhbmd1YWdlTW9kZWwiLCJtb2RlbENvbmZpZyIsImdldFJlc3BvbnNlc01vZGVsQ29uZmlnIiwib3BlbmFpT3B0aW9ucyIsIm9wZW5haVJlc3BvbnNlc1Byb3ZpZGVyT3B0aW9uc1NjaGVtYSIsImlzU3RyaWN0Iiwic3RyaWN0U2NoZW1hcyIsIm1heF9vdXRwdXRfdG9rZW5zIiwicHJldmlvdXNfcmVzcG9uc2VfaWQiLCJwcmV2aW91c1Jlc3BvbnNlSWQiLCJpbnN0cnVjdGlvbnMiLCJyZWFzb25pbmciLCJlZmZvcnQiLCJyZXF1aXJlZEF1dG9UcnVuY2F0aW9uIiwidHJ1bmNhdGlvbiIsImNyZWF0ZWRfYXQiLCJkaXNjcmltaW5hdGVkVW5pb24iLCJhbm5vdGF0aW9ucyIsInN0YXJ0X2luZGV4IiwiZW5kX2luZGV4IiwidGl0bGUiLCJpbmNvbXBsZXRlX2RldGFpbHMiLCJyZWFzb24iLCJ1c2FnZVNjaGVtYSIsIm91dHB1dFRleHRFbGVtZW50cyIsImZpbHRlciIsImZsYXRNYXAiLCJzb3VyY2VzIiwiYW5ub3RhdGlvbiIsIl9iMiIsIl9jMiIsInNvdXJjZVR5cGUiLCJpbnB1dF90b2tlbnMiLCJvdXRwdXRfdG9rZW5zIiwicmVzcG9uc2VJZCIsImlucHV0X3Rva2Vuc19kZXRhaWxzIiwib3V0cHV0X3Rva2Vuc19kZXRhaWxzIiwib3BlbmFpUmVzcG9uc2VzQ2h1bmtTY2hlbWEiLCJzZWxmIiwib25nb2luZ1Rvb2xDYWxscyIsImlzUmVzcG9uc2VPdXRwdXRJdGVtQWRkZWRDaHVuayIsIm91dHB1dF9pbmRleCIsImlzUmVzcG9uc2VGdW5jdGlvbkNhbGxBcmd1bWVudHNEZWx0YUNodW5rIiwiaXNSZXNwb25zZUNyZWF0ZWRDaHVuayIsImlzVGV4dERlbHRhQ2h1bmsiLCJpc1Jlc3BvbnNlT3V0cHV0SXRlbURvbmVDaHVuayIsImlzUmVzcG9uc2VGaW5pc2hlZENodW5rIiwiaXNSZXNwb25zZUFubm90YXRpb25BZGRlZENodW5rIiwic291cmNlIiwidGV4dERlbHRhQ2h1bmtTY2hlbWEiLCJyZXNwb25zZUZpbmlzaGVkQ2h1bmtTY2hlbWEiLCJyZXNwb25zZUNyZWF0ZWRDaHVua1NjaGVtYSIsInJlc3BvbnNlT3V0cHV0SXRlbURvbmVTY2hlbWEiLCJzdGF0dXMiLCJyZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RlbHRhU2NoZW1hIiwiaXRlbV9pZCIsInJlc3BvbnNlT3V0cHV0SXRlbUFkZGVkU2NoZW1hIiwicmVzcG9uc2VBbm5vdGF0aW9uQWRkZWRTY2hlbWEiLCJwYXNzdGhyb3VnaCIsImJvb2xlYW4iLCJ6OCIsIldlYlNlYXJjaFByZXZpZXdQYXJhbWV0ZXJzIiwid2ViU2VhcmNoUHJldmlld1Rvb2wiLCJvcGVuYWlUb29scyIsIndlYlNlYXJjaFByZXZpZXciLCJjb21iaW5lSGVhZGVyczciLCJjcmVhdGVCaW5hcnlSZXNwb25zZUhhbmRsZXIiLCJwYXJzZVByb3ZpZGVyT3B0aW9uczMiLCJwb3N0SnNvblRvQXBpNiIsIno5IiwiT3BlbkFJUHJvdmlkZXJPcHRpb25zU2NoZW1hIiwic3BlZWQiLCJPcGVuQUlTcGVlY2hNb2RlbCIsInZvaWNlIiwib3V0cHV0Rm9ybWF0IiwicmVxdWVzdEJvZHkiLCJpbmNsdWRlcyIsInNwZWVjaE1vZGVsT3B0aW9ucyIsImNyZWF0ZU9wZW5BSSIsImJhc2VVUkwiLCJwcm92aWRlck5hbWUiLCJnZXRIZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImFwaUtleSIsImVudmlyb25tZW50VmFyaWFibGVOYW1lIiwib3JnYW5pemF0aW9uIiwicHJvamVjdCIsImNyZWF0ZUNoYXRNb2RlbCIsImNyZWF0ZUNvbXBsZXRpb25Nb2RlbCIsImNyZWF0ZUVtYmVkZGluZ01vZGVsIiwiY3JlYXRlSW1hZ2VNb2RlbCIsImNyZWF0ZVRyYW5zY3JpcHRpb25Nb2RlbCIsImNyZWF0ZVNwZWVjaE1vZGVsIiwiY3JlYXRlTGFuZ3VhZ2VNb2RlbCIsImNyZWF0ZVJlc3BvbnNlc01vZGVsIiwibGFuZ3VhZ2VNb2RlbCIsImNoYXQiLCJjb21wbGV0aW9uIiwicmVzcG9uc2VzIiwidGV4dEVtYmVkZGluZyIsInRleHRFbWJlZGRpbmdNb2RlbCIsImltYWdlTW9kZWwiLCJ0cmFuc2NyaXB0aW9uIiwidHJhbnNjcmlwdGlvbk1vZGVsIiwic3BlZWNoIiwic3BlZWNoTW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@ai-sdk/openai/dist/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@ai-sdk/provider-utils/dist/index.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@ai-sdk/provider-utils/dist/index.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asValidator: () => (/* binding */ asValidator),\n/* harmony export */   combineHeaders: () => (/* binding */ combineHeaders),\n/* harmony export */   convertAsyncIteratorToReadableStream: () => (/* binding */ convertAsyncIteratorToReadableStream),\n/* harmony export */   convertBase64ToUint8Array: () => (/* binding */ convertBase64ToUint8Array),\n/* harmony export */   convertUint8ArrayToBase64: () => (/* binding */ convertUint8ArrayToBase64),\n/* harmony export */   createBinaryResponseHandler: () => (/* binding */ createBinaryResponseHandler),\n/* harmony export */   createEventSourceParserStream: () => (/* binding */ createEventSourceParserStream),\n/* harmony export */   createEventSourceResponseHandler: () => (/* binding */ createEventSourceResponseHandler),\n/* harmony export */   createIdGenerator: () => (/* binding */ createIdGenerator),\n/* harmony export */   createJsonErrorResponseHandler: () => (/* binding */ createJsonErrorResponseHandler),\n/* harmony export */   createJsonResponseHandler: () => (/* binding */ createJsonResponseHandler),\n/* harmony export */   createJsonStreamResponseHandler: () => (/* binding */ createJsonStreamResponseHandler),\n/* harmony export */   createStatusCodeErrorResponseHandler: () => (/* binding */ createStatusCodeErrorResponseHandler),\n/* harmony export */   delay: () => (/* binding */ delay),\n/* harmony export */   extractResponseHeaders: () => (/* binding */ extractResponseHeaders),\n/* harmony export */   generateId: () => (/* binding */ generateId),\n/* harmony export */   getErrorMessage: () => (/* binding */ getErrorMessage),\n/* harmony export */   getFromApi: () => (/* binding */ getFromApi),\n/* harmony export */   isAbortError: () => (/* binding */ isAbortError),\n/* harmony export */   isParsableJson: () => (/* binding */ isParsableJson),\n/* harmony export */   isValidator: () => (/* binding */ isValidator),\n/* harmony export */   loadApiKey: () => (/* binding */ loadApiKey),\n/* harmony export */   loadOptionalSetting: () => (/* binding */ loadOptionalSetting),\n/* harmony export */   loadSetting: () => (/* binding */ loadSetting),\n/* harmony export */   parseJSON: () => (/* binding */ parseJSON),\n/* harmony export */   parseProviderOptions: () => (/* binding */ parseProviderOptions),\n/* harmony export */   postFormDataToApi: () => (/* binding */ postFormDataToApi),\n/* harmony export */   postJsonToApi: () => (/* binding */ postJsonToApi),\n/* harmony export */   postToApi: () => (/* binding */ postToApi),\n/* harmony export */   removeUndefinedEntries: () => (/* binding */ removeUndefinedEntries),\n/* harmony export */   resolve: () => (/* binding */ resolve),\n/* harmony export */   safeParseJSON: () => (/* binding */ safeParseJSON),\n/* harmony export */   safeValidateTypes: () => (/* binding */ safeValidateTypes),\n/* harmony export */   validateTypes: () => (/* binding */ validateTypes),\n/* harmony export */   validator: () => (/* binding */ validator),\n/* harmony export */   validatorSymbol: () => (/* binding */ validatorSymbol),\n/* harmony export */   withoutTrailingSlash: () => (/* binding */ withoutTrailingSlash),\n/* harmony export */   zodValidator: () => (/* binding */ zodValidator)\n/* harmony export */ });\n/* harmony import */ var _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ai-sdk/provider */ \"(rsc)/./node_modules/@ai-sdk/provider/dist/index.mjs\");\n/* harmony import */ var nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nanoid/non-secure */ \"(rsc)/./node_modules/nanoid/non-secure/index.js\");\n/* harmony import */ var secure_json_parse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! secure-json-parse */ \"(rsc)/./node_modules/secure-json-parse/index.js\");\n// src/combine-headers.ts\nfunction combineHeaders(...headers) {\n    return headers.reduce((combinedHeaders, currentHeaders)=>({\n            ...combinedHeaders,\n            ...currentHeaders != null ? currentHeaders : {}\n        }), {});\n}\n// src/convert-async-iterator-to-readable-stream.ts\nfunction convertAsyncIteratorToReadableStream(iterator) {\n    return new ReadableStream({\n        /**\n     * Called when the consumer wants to pull more data from the stream.\n     *\n     * @param {ReadableStreamDefaultController<T>} controller - The controller to enqueue data into the stream.\n     * @returns {Promise<void>}\n     */ async pull (controller) {\n            try {\n                const { value, done } = await iterator.next();\n                if (done) {\n                    controller.close();\n                } else {\n                    controller.enqueue(value);\n                }\n            } catch (error) {\n                controller.error(error);\n            }\n        },\n        /**\n     * Called when the consumer cancels the stream.\n     */ cancel () {}\n    });\n}\n// src/delay.ts\nasync function delay(delayInMs) {\n    return delayInMs == null ? Promise.resolve() : new Promise((resolve2)=>setTimeout(resolve2, delayInMs));\n}\n// src/event-source-parser-stream.ts\nfunction createEventSourceParserStream() {\n    let buffer = \"\";\n    let event = void 0;\n    let data = [];\n    let lastEventId = void 0;\n    let retry = void 0;\n    function parseLine(line, controller) {\n        if (line === \"\") {\n            dispatchEvent(controller);\n            return;\n        }\n        if (line.startsWith(\":\")) {\n            return;\n        }\n        const colonIndex = line.indexOf(\":\");\n        if (colonIndex === -1) {\n            handleField(line, \"\");\n            return;\n        }\n        const field = line.slice(0, colonIndex);\n        const valueStart = colonIndex + 1;\n        const value = valueStart < line.length && line[valueStart] === \" \" ? line.slice(valueStart + 1) : line.slice(valueStart);\n        handleField(field, value);\n    }\n    function dispatchEvent(controller) {\n        if (data.length > 0) {\n            controller.enqueue({\n                event,\n                data: data.join(\"\\n\"),\n                id: lastEventId,\n                retry\n            });\n            data = [];\n            event = void 0;\n            retry = void 0;\n        }\n    }\n    function handleField(field, value) {\n        switch(field){\n            case \"event\":\n                event = value;\n                break;\n            case \"data\":\n                data.push(value);\n                break;\n            case \"id\":\n                lastEventId = value;\n                break;\n            case \"retry\":\n                const parsedRetry = parseInt(value, 10);\n                if (!isNaN(parsedRetry)) {\n                    retry = parsedRetry;\n                }\n                break;\n        }\n    }\n    return new TransformStream({\n        transform (chunk, controller) {\n            const { lines, incompleteLine } = splitLines(buffer, chunk);\n            buffer = incompleteLine;\n            for(let i = 0; i < lines.length; i++){\n                parseLine(lines[i], controller);\n            }\n        },\n        flush (controller) {\n            parseLine(buffer, controller);\n            dispatchEvent(controller);\n        }\n    });\n}\nfunction splitLines(buffer, chunk) {\n    const lines = [];\n    let currentLine = buffer;\n    for(let i = 0; i < chunk.length;){\n        const char = chunk[i++];\n        if (char === \"\\n\") {\n            lines.push(currentLine);\n            currentLine = \"\";\n        } else if (char === \"\\r\") {\n            lines.push(currentLine);\n            currentLine = \"\";\n            if (chunk[i + 1] === \"\\n\") {\n                i++;\n            }\n        } else {\n            currentLine += char;\n        }\n    }\n    return {\n        lines,\n        incompleteLine: currentLine\n    };\n}\n// src/extract-response-headers.ts\nfunction extractResponseHeaders(response) {\n    const headers = {};\n    response.headers.forEach((value, key)=>{\n        headers[key] = value;\n    });\n    return headers;\n}\n// src/generate-id.ts\n\n\nvar createIdGenerator = ({ prefix, size: defaultSize = 16, alphabet = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\", separator = \"-\" } = {})=>{\n    const generator = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__.customAlphabet)(alphabet, defaultSize);\n    if (prefix == null) {\n        return generator;\n    }\n    if (alphabet.includes(separator)) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.InvalidArgumentError({\n            argument: \"separator\",\n            message: `The separator \"${separator}\" must not be part of the alphabet \"${alphabet}\".`\n        });\n    }\n    return (size)=>`${prefix}${separator}${generator(size)}`;\n};\nvar generateId = createIdGenerator();\n// src/get-error-message.ts\nfunction getErrorMessage(error) {\n    if (error == null) {\n        return \"unknown error\";\n    }\n    if (typeof error === \"string\") {\n        return error;\n    }\n    if (error instanceof Error) {\n        return error.message;\n    }\n    return JSON.stringify(error);\n}\n// src/get-from-api.ts\n\n// src/remove-undefined-entries.ts\nfunction removeUndefinedEntries(record) {\n    return Object.fromEntries(Object.entries(record).filter(([_key, value])=>value != null));\n}\n// src/is-abort-error.ts\nfunction isAbortError(error) {\n    return error instanceof Error && (error.name === \"AbortError\" || error.name === \"TimeoutError\");\n}\n// src/get-from-api.ts\nvar getOriginalFetch = ()=>globalThis.fetch;\nvar getFromApi = async ({ url, headers = {}, successfulResponseHandler, failedResponseHandler, abortSignal, fetch = getOriginalFetch() })=>{\n    try {\n        const response = await fetch(url, {\n            method: \"GET\",\n            headers: removeUndefinedEntries(headers),\n            signal: abortSignal\n        });\n        const responseHeaders = extractResponseHeaders(response);\n        if (!response.ok) {\n            let errorInformation;\n            try {\n                errorInformation = await failedResponseHandler({\n                    response,\n                    url,\n                    requestBodyValues: {}\n                });\n            } catch (error) {\n                if (isAbortError(error) || _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError.isInstance(error)) {\n                    throw error;\n                }\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: \"Failed to process error response\",\n                    cause: error,\n                    statusCode: response.status,\n                    url,\n                    responseHeaders,\n                    requestBodyValues: {}\n                });\n            }\n            throw errorInformation.value;\n        }\n        try {\n            return await successfulResponseHandler({\n                response,\n                url,\n                requestBodyValues: {}\n            });\n        } catch (error) {\n            if (error instanceof Error) {\n                if (isAbortError(error) || _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError.isInstance(error)) {\n                    throw error;\n                }\n            }\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                message: \"Failed to process successful response\",\n                cause: error,\n                statusCode: response.status,\n                url,\n                responseHeaders,\n                requestBodyValues: {}\n            });\n        }\n    } catch (error) {\n        if (isAbortError(error)) {\n            throw error;\n        }\n        if (error instanceof TypeError && error.message === \"fetch failed\") {\n            const cause = error.cause;\n            if (cause != null) {\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: `Cannot connect to API: ${cause.message}`,\n                    cause,\n                    url,\n                    isRetryable: true,\n                    requestBodyValues: {}\n                });\n            }\n        }\n        throw error;\n    }\n};\n// src/load-api-key.ts\n\nfunction loadApiKey({ apiKey, environmentVariableName, apiKeyParameterName = \"apiKey\", description }) {\n    if (typeof apiKey === \"string\") {\n        return apiKey;\n    }\n    if (apiKey != null) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadAPIKeyError({\n            message: `${description} API key must be a string.`\n        });\n    }\n    if (typeof process === \"undefined\") {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadAPIKeyError({\n            message: `${description} API key is missing. Pass it using the '${apiKeyParameterName}' parameter. Environment variables is not supported in this environment.`\n        });\n    }\n    apiKey = process.env[environmentVariableName];\n    if (apiKey == null) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadAPIKeyError({\n            message: `${description} API key is missing. Pass it using the '${apiKeyParameterName}' parameter or the ${environmentVariableName} environment variable.`\n        });\n    }\n    if (typeof apiKey !== \"string\") {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadAPIKeyError({\n            message: `${description} API key must be a string. The value of the ${environmentVariableName} environment variable is not a string.`\n        });\n    }\n    return apiKey;\n}\n// src/load-optional-setting.ts\nfunction loadOptionalSetting({ settingValue, environmentVariableName }) {\n    if (typeof settingValue === \"string\") {\n        return settingValue;\n    }\n    if (settingValue != null || typeof process === \"undefined\") {\n        return void 0;\n    }\n    settingValue = process.env[environmentVariableName];\n    if (settingValue == null || typeof settingValue !== \"string\") {\n        return void 0;\n    }\n    return settingValue;\n}\n// src/load-setting.ts\n\nfunction loadSetting({ settingValue, environmentVariableName, settingName, description }) {\n    if (typeof settingValue === \"string\") {\n        return settingValue;\n    }\n    if (settingValue != null) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadSettingError({\n            message: `${description} setting must be a string.`\n        });\n    }\n    if (typeof process === \"undefined\") {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadSettingError({\n            message: `${description} setting is missing. Pass it using the '${settingName}' parameter. Environment variables is not supported in this environment.`\n        });\n    }\n    settingValue = process.env[environmentVariableName];\n    if (settingValue == null) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadSettingError({\n            message: `${description} setting is missing. Pass it using the '${settingName}' parameter or the ${environmentVariableName} environment variable.`\n        });\n    }\n    if (typeof settingValue !== \"string\") {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadSettingError({\n            message: `${description} setting must be a string. The value of the ${environmentVariableName} environment variable is not a string.`\n        });\n    }\n    return settingValue;\n}\n// src/parse-json.ts\n\n\n// src/validate-types.ts\n\n// src/validator.ts\nvar validatorSymbol = Symbol.for(\"vercel.ai.validator\");\nfunction validator(validate) {\n    return {\n        [validatorSymbol]: true,\n        validate\n    };\n}\nfunction isValidator(value) {\n    return typeof value === \"object\" && value !== null && validatorSymbol in value && value[validatorSymbol] === true && \"validate\" in value;\n}\nfunction asValidator(value) {\n    return isValidator(value) ? value : zodValidator(value);\n}\nfunction zodValidator(zodSchema) {\n    return validator((value)=>{\n        const result = zodSchema.safeParse(value);\n        return result.success ? {\n            success: true,\n            value: result.data\n        } : {\n            success: false,\n            error: result.error\n        };\n    });\n}\n// src/validate-types.ts\nfunction validateTypes({ value, schema: inputSchema }) {\n    const result = safeValidateTypes({\n        value,\n        schema: inputSchema\n    });\n    if (!result.success) {\n        throw _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.TypeValidationError.wrap({\n            value,\n            cause: result.error\n        });\n    }\n    return result.value;\n}\nfunction safeValidateTypes({ value, schema }) {\n    const validator2 = asValidator(schema);\n    try {\n        if (validator2.validate == null) {\n            return {\n                success: true,\n                value\n            };\n        }\n        const result = validator2.validate(value);\n        if (result.success) {\n            return result;\n        }\n        return {\n            success: false,\n            error: _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.TypeValidationError.wrap({\n                value,\n                cause: result.error\n            })\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.TypeValidationError.wrap({\n                value,\n                cause: error\n            })\n        };\n    }\n}\n// src/parse-json.ts\nfunction parseJSON({ text, schema }) {\n    try {\n        const value = secure_json_parse__WEBPACK_IMPORTED_MODULE_2__.parse(text);\n        if (schema == null) {\n            return value;\n        }\n        return validateTypes({\n            value,\n            schema\n        });\n    } catch (error) {\n        if (_ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.JSONParseError.isInstance(error) || _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.TypeValidationError.isInstance(error)) {\n            throw error;\n        }\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.JSONParseError({\n            text,\n            cause: error\n        });\n    }\n}\nfunction safeParseJSON({ text, schema }) {\n    try {\n        const value = secure_json_parse__WEBPACK_IMPORTED_MODULE_2__.parse(text);\n        if (schema == null) {\n            return {\n                success: true,\n                value,\n                rawValue: value\n            };\n        }\n        const validationResult = safeValidateTypes({\n            value,\n            schema\n        });\n        return validationResult.success ? {\n            ...validationResult,\n            rawValue: value\n        } : validationResult;\n    } catch (error) {\n        return {\n            success: false,\n            error: _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.JSONParseError.isInstance(error) ? error : new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.JSONParseError({\n                text,\n                cause: error\n            })\n        };\n    }\n}\nfunction isParsableJson(input) {\n    try {\n        secure_json_parse__WEBPACK_IMPORTED_MODULE_2__.parse(input);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n// src/parse-provider-options.ts\n\nfunction parseProviderOptions({ provider, providerOptions, schema }) {\n    if ((providerOptions == null ? void 0 : providerOptions[provider]) == null) {\n        return void 0;\n    }\n    const parsedProviderOptions = safeValidateTypes({\n        value: providerOptions[provider],\n        schema\n    });\n    if (!parsedProviderOptions.success) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.InvalidArgumentError({\n            argument: \"providerOptions\",\n            message: `invalid ${provider} provider options`,\n            cause: parsedProviderOptions.error\n        });\n    }\n    return parsedProviderOptions.value;\n}\n// src/post-to-api.ts\n\nvar getOriginalFetch2 = ()=>globalThis.fetch;\nvar postJsonToApi = async ({ url, headers, body, failedResponseHandler, successfulResponseHandler, abortSignal, fetch })=>postToApi({\n        url,\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...headers\n        },\n        body: {\n            content: JSON.stringify(body),\n            values: body\n        },\n        failedResponseHandler,\n        successfulResponseHandler,\n        abortSignal,\n        fetch\n    });\nvar postFormDataToApi = async ({ url, headers, formData, failedResponseHandler, successfulResponseHandler, abortSignal, fetch })=>postToApi({\n        url,\n        headers,\n        body: {\n            content: formData,\n            values: Object.fromEntries(formData.entries())\n        },\n        failedResponseHandler,\n        successfulResponseHandler,\n        abortSignal,\n        fetch\n    });\nvar postToApi = async ({ url, headers = {}, body, successfulResponseHandler, failedResponseHandler, abortSignal, fetch = getOriginalFetch2() })=>{\n    try {\n        const response = await fetch(url, {\n            method: \"POST\",\n            headers: removeUndefinedEntries(headers),\n            body: body.content,\n            signal: abortSignal\n        });\n        const responseHeaders = extractResponseHeaders(response);\n        if (!response.ok) {\n            let errorInformation;\n            try {\n                errorInformation = await failedResponseHandler({\n                    response,\n                    url,\n                    requestBodyValues: body.values\n                });\n            } catch (error) {\n                if (isAbortError(error) || _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError.isInstance(error)) {\n                    throw error;\n                }\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: \"Failed to process error response\",\n                    cause: error,\n                    statusCode: response.status,\n                    url,\n                    responseHeaders,\n                    requestBodyValues: body.values\n                });\n            }\n            throw errorInformation.value;\n        }\n        try {\n            return await successfulResponseHandler({\n                response,\n                url,\n                requestBodyValues: body.values\n            });\n        } catch (error) {\n            if (error instanceof Error) {\n                if (isAbortError(error) || _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError.isInstance(error)) {\n                    throw error;\n                }\n            }\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                message: \"Failed to process successful response\",\n                cause: error,\n                statusCode: response.status,\n                url,\n                responseHeaders,\n                requestBodyValues: body.values\n            });\n        }\n    } catch (error) {\n        if (isAbortError(error)) {\n            throw error;\n        }\n        if (error instanceof TypeError && error.message === \"fetch failed\") {\n            const cause = error.cause;\n            if (cause != null) {\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: `Cannot connect to API: ${cause.message}`,\n                    cause,\n                    url,\n                    requestBodyValues: body.values,\n                    isRetryable: true\n                });\n            }\n        }\n        throw error;\n    }\n};\n// src/resolve.ts\nasync function resolve(value) {\n    if (typeof value === \"function\") {\n        value = value();\n    }\n    return Promise.resolve(value);\n}\n// src/response-handler.ts\n\nvar createJsonErrorResponseHandler = ({ errorSchema, errorToMessage, isRetryable })=>async ({ response, url, requestBodyValues })=>{\n        const responseBody = await response.text();\n        const responseHeaders = extractResponseHeaders(response);\n        if (responseBody.trim() === \"\") {\n            return {\n                responseHeaders,\n                value: new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: response.statusText,\n                    url,\n                    requestBodyValues,\n                    statusCode: response.status,\n                    responseHeaders,\n                    responseBody,\n                    isRetryable: isRetryable == null ? void 0 : isRetryable(response)\n                })\n            };\n        }\n        try {\n            const parsedError = parseJSON({\n                text: responseBody,\n                schema: errorSchema\n            });\n            return {\n                responseHeaders,\n                value: new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: errorToMessage(parsedError),\n                    url,\n                    requestBodyValues,\n                    statusCode: response.status,\n                    responseHeaders,\n                    responseBody,\n                    data: parsedError,\n                    isRetryable: isRetryable == null ? void 0 : isRetryable(response, parsedError)\n                })\n            };\n        } catch (parseError) {\n            return {\n                responseHeaders,\n                value: new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: response.statusText,\n                    url,\n                    requestBodyValues,\n                    statusCode: response.status,\n                    responseHeaders,\n                    responseBody,\n                    isRetryable: isRetryable == null ? void 0 : isRetryable(response)\n                })\n            };\n        }\n    };\nvar createEventSourceResponseHandler = (chunkSchema)=>async ({ response })=>{\n        const responseHeaders = extractResponseHeaders(response);\n        if (response.body == null) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.EmptyResponseBodyError({});\n        }\n        return {\n            responseHeaders,\n            value: response.body.pipeThrough(new TextDecoderStream()).pipeThrough(createEventSourceParserStream()).pipeThrough(new TransformStream({\n                transform ({ data }, controller) {\n                    if (data === \"[DONE]\") {\n                        return;\n                    }\n                    controller.enqueue(safeParseJSON({\n                        text: data,\n                        schema: chunkSchema\n                    }));\n                }\n            }))\n        };\n    };\nvar createJsonStreamResponseHandler = (chunkSchema)=>async ({ response })=>{\n        const responseHeaders = extractResponseHeaders(response);\n        if (response.body == null) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.EmptyResponseBodyError({});\n        }\n        let buffer = \"\";\n        return {\n            responseHeaders,\n            value: response.body.pipeThrough(new TextDecoderStream()).pipeThrough(new TransformStream({\n                transform (chunkText, controller) {\n                    if (chunkText.endsWith(\"\\n\")) {\n                        controller.enqueue(safeParseJSON({\n                            text: buffer + chunkText,\n                            schema: chunkSchema\n                        }));\n                        buffer = \"\";\n                    } else {\n                        buffer += chunkText;\n                    }\n                }\n            }))\n        };\n    };\nvar createJsonResponseHandler = (responseSchema)=>async ({ response, url, requestBodyValues })=>{\n        const responseBody = await response.text();\n        const parsedResult = safeParseJSON({\n            text: responseBody,\n            schema: responseSchema\n        });\n        const responseHeaders = extractResponseHeaders(response);\n        if (!parsedResult.success) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                message: \"Invalid JSON response\",\n                cause: parsedResult.error,\n                statusCode: response.status,\n                responseHeaders,\n                responseBody,\n                url,\n                requestBodyValues\n            });\n        }\n        return {\n            responseHeaders,\n            value: parsedResult.value,\n            rawValue: parsedResult.rawValue\n        };\n    };\nvar createBinaryResponseHandler = ()=>async ({ response, url, requestBodyValues })=>{\n        const responseHeaders = extractResponseHeaders(response);\n        if (!response.body) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                message: \"Response body is empty\",\n                url,\n                requestBodyValues,\n                statusCode: response.status,\n                responseHeaders,\n                responseBody: void 0\n            });\n        }\n        try {\n            const buffer = await response.arrayBuffer();\n            return {\n                responseHeaders,\n                value: new Uint8Array(buffer)\n            };\n        } catch (error) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                message: \"Failed to read response as array buffer\",\n                url,\n                requestBodyValues,\n                statusCode: response.status,\n                responseHeaders,\n                responseBody: void 0,\n                cause: error\n            });\n        }\n    };\nvar createStatusCodeErrorResponseHandler = ()=>async ({ response, url, requestBodyValues })=>{\n        const responseHeaders = extractResponseHeaders(response);\n        const responseBody = await response.text();\n        return {\n            responseHeaders,\n            value: new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                message: response.statusText,\n                url,\n                requestBodyValues,\n                statusCode: response.status,\n                responseHeaders,\n                responseBody\n            })\n        };\n    };\n// src/uint8-utils.ts\nvar { btoa, atob } = globalThis;\nfunction convertBase64ToUint8Array(base64String) {\n    const base64Url = base64String.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const latin1string = atob(base64Url);\n    return Uint8Array.from(latin1string, (byte)=>byte.codePointAt(0));\n}\nfunction convertUint8ArrayToBase64(array) {\n    let latin1string = \"\";\n    for(let i = 0; i < array.length; i++){\n        latin1string += String.fromCodePoint(array[i]);\n    }\n    return btoa(latin1string);\n}\n// src/without-trailing-slash.ts\nfunction withoutTrailingSlash(url) {\n    return url == null ? void 0 : url.replace(/\\/$/, \"\");\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHlCQUF5QjtBQUN6QixTQUFTQSxlQUFlLEdBQUdDLE9BQU87SUFDaEMsT0FBT0EsUUFBUUMsTUFBTSxDQUNuQixDQUFDQyxpQkFBaUJDLGlCQUFvQjtZQUNwQyxHQUFHRCxlQUFlO1lBQ2xCLEdBQUdDLGtCQUFrQixPQUFPQSxpQkFBaUIsQ0FBQyxDQUFDO1FBQ2pELElBQ0EsQ0FBQztBQUVMO0FBRUEsbURBQW1EO0FBQ25ELFNBQVNDLHFDQUFxQ0MsUUFBUTtJQUNwRCxPQUFPLElBQUlDLGVBQWU7UUFDeEI7Ozs7O0tBS0MsR0FDRCxNQUFNQyxNQUFLQyxVQUFVO1lBQ25CLElBQUk7Z0JBQ0YsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRSxHQUFHLE1BQU1MLFNBQVNNLElBQUk7Z0JBQzNDLElBQUlELE1BQU07b0JBQ1JGLFdBQVdJLEtBQUs7Z0JBQ2xCLE9BQU87b0JBQ0xKLFdBQVdLLE9BQU8sQ0FBQ0o7Z0JBQ3JCO1lBQ0YsRUFBRSxPQUFPSyxPQUFPO2dCQUNkTixXQUFXTSxLQUFLLENBQUNBO1lBQ25CO1FBQ0Y7UUFDQTs7S0FFQyxHQUNEQyxXQUNBO0lBQ0Y7QUFDRjtBQUVBLGVBQWU7QUFDZixlQUFlQyxNQUFNQyxTQUFTO0lBQzVCLE9BQU9BLGFBQWEsT0FBT0MsUUFBUUMsT0FBTyxLQUFLLElBQUlELFFBQVEsQ0FBQ0UsV0FBYUMsV0FBV0QsVUFBVUg7QUFDaEc7QUFFQSxvQ0FBb0M7QUFDcEMsU0FBU0s7SUFDUCxJQUFJQyxTQUFTO0lBQ2IsSUFBSUMsUUFBUSxLQUFLO0lBQ2pCLElBQUlDLE9BQU8sRUFBRTtJQUNiLElBQUlDLGNBQWMsS0FBSztJQUN2QixJQUFJQyxRQUFRLEtBQUs7SUFDakIsU0FBU0MsVUFBVUMsSUFBSSxFQUFFckIsVUFBVTtRQUNqQyxJQUFJcUIsU0FBUyxJQUFJO1lBQ2ZDLGNBQWN0QjtZQUNkO1FBQ0Y7UUFDQSxJQUFJcUIsS0FBS0UsVUFBVSxDQUFDLE1BQU07WUFDeEI7UUFDRjtRQUNBLE1BQU1DLGFBQWFILEtBQUtJLE9BQU8sQ0FBQztRQUNoQyxJQUFJRCxlQUFlLENBQUMsR0FBRztZQUNyQkUsWUFBWUwsTUFBTTtZQUNsQjtRQUNGO1FBQ0EsTUFBTU0sUUFBUU4sS0FBS08sS0FBSyxDQUFDLEdBQUdKO1FBQzVCLE1BQU1LLGFBQWFMLGFBQWE7UUFDaEMsTUFBTXZCLFFBQVE0QixhQUFhUixLQUFLUyxNQUFNLElBQUlULElBQUksQ0FBQ1EsV0FBVyxLQUFLLE1BQU1SLEtBQUtPLEtBQUssQ0FBQ0MsYUFBYSxLQUFLUixLQUFLTyxLQUFLLENBQUNDO1FBQzdHSCxZQUFZQyxPQUFPMUI7SUFDckI7SUFDQSxTQUFTcUIsY0FBY3RCLFVBQVU7UUFDL0IsSUFBSWlCLEtBQUthLE1BQU0sR0FBRyxHQUFHO1lBQ25COUIsV0FBV0ssT0FBTyxDQUFDO2dCQUNqQlc7Z0JBQ0FDLE1BQU1BLEtBQUtjLElBQUksQ0FBQztnQkFDaEJDLElBQUlkO2dCQUNKQztZQUNGO1lBQ0FGLE9BQU8sRUFBRTtZQUNURCxRQUFRLEtBQUs7WUFDYkcsUUFBUSxLQUFLO1FBQ2Y7SUFDRjtJQUNBLFNBQVNPLFlBQVlDLEtBQUssRUFBRTFCLEtBQUs7UUFDL0IsT0FBUTBCO1lBQ04sS0FBSztnQkFDSFgsUUFBUWY7Z0JBQ1I7WUFDRixLQUFLO2dCQUNIZ0IsS0FBS2dCLElBQUksQ0FBQ2hDO2dCQUNWO1lBQ0YsS0FBSztnQkFDSGlCLGNBQWNqQjtnQkFDZDtZQUNGLEtBQUs7Z0JBQ0gsTUFBTWlDLGNBQWNDLFNBQVNsQyxPQUFPO2dCQUNwQyxJQUFJLENBQUNtQyxNQUFNRixjQUFjO29CQUN2QmYsUUFBUWU7Z0JBQ1Y7Z0JBQ0E7UUFDSjtJQUNGO0lBQ0EsT0FBTyxJQUFJRyxnQkFBZ0I7UUFDekJDLFdBQVVDLEtBQUssRUFBRXZDLFVBQVU7WUFDekIsTUFBTSxFQUFFd0MsS0FBSyxFQUFFQyxjQUFjLEVBQUUsR0FBR0MsV0FBVzNCLFFBQVF3QjtZQUNyRHhCLFNBQVMwQjtZQUNULElBQUssSUFBSUUsSUFBSSxHQUFHQSxJQUFJSCxNQUFNVixNQUFNLEVBQUVhLElBQUs7Z0JBQ3JDdkIsVUFBVW9CLEtBQUssQ0FBQ0csRUFBRSxFQUFFM0M7WUFDdEI7UUFDRjtRQUNBNEMsT0FBTTVDLFVBQVU7WUFDZG9CLFVBQVVMLFFBQVFmO1lBQ2xCc0IsY0FBY3RCO1FBQ2hCO0lBQ0Y7QUFDRjtBQUNBLFNBQVMwQyxXQUFXM0IsTUFBTSxFQUFFd0IsS0FBSztJQUMvQixNQUFNQyxRQUFRLEVBQUU7SUFDaEIsSUFBSUssY0FBYzlCO0lBQ2xCLElBQUssSUFBSTRCLElBQUksR0FBR0EsSUFBSUosTUFBTVQsTUFBTSxFQUFJO1FBQ2xDLE1BQU1nQixPQUFPUCxLQUFLLENBQUNJLElBQUk7UUFDdkIsSUFBSUcsU0FBUyxNQUFNO1lBQ2pCTixNQUFNUCxJQUFJLENBQUNZO1lBQ1hBLGNBQWM7UUFDaEIsT0FBTyxJQUFJQyxTQUFTLE1BQU07WUFDeEJOLE1BQU1QLElBQUksQ0FBQ1k7WUFDWEEsY0FBYztZQUNkLElBQUlOLEtBQUssQ0FBQ0ksSUFBSSxFQUFFLEtBQUssTUFBTTtnQkFDekJBO1lBQ0Y7UUFDRixPQUFPO1lBQ0xFLGVBQWVDO1FBQ2pCO0lBQ0Y7SUFDQSxPQUFPO1FBQUVOO1FBQU9DLGdCQUFnQkk7SUFBWTtBQUM5QztBQUVBLGtDQUFrQztBQUNsQyxTQUFTRSx1QkFBdUJDLFFBQVE7SUFDdEMsTUFBTXhELFVBQVUsQ0FBQztJQUNqQndELFNBQVN4RCxPQUFPLENBQUN5RCxPQUFPLENBQUMsQ0FBQ2hELE9BQU9pRDtRQUMvQjFELE9BQU8sQ0FBQzBELElBQUksR0FBR2pEO0lBQ2pCO0lBQ0EsT0FBT1Q7QUFDVDtBQUVBLHFCQUFxQjtBQUNtQztBQUNMO0FBQ25ELElBQUk2RCxvQkFBb0IsQ0FBQyxFQUN2QkMsTUFBTSxFQUNOQyxNQUFNQyxjQUFjLEVBQUUsRUFDdEJDLFdBQVcsZ0VBQWdFLEVBQzNFQyxZQUFZLEdBQUcsRUFDaEIsR0FBRyxDQUFDLENBQUM7SUFDSixNQUFNQyxZQUFZUCxpRUFBY0EsQ0FBQ0ssVUFBVUQ7SUFDM0MsSUFBSUYsVUFBVSxNQUFNO1FBQ2xCLE9BQU9LO0lBQ1Q7SUFDQSxJQUFJRixTQUFTRyxRQUFRLENBQUNGLFlBQVk7UUFDaEMsTUFBTSxJQUFJUCxrRUFBb0JBLENBQUM7WUFDN0JVLFVBQVU7WUFDVkMsU0FBUyxDQUFDLGVBQWUsRUFBRUosVUFBVSxvQ0FBb0MsRUFBRUQsU0FBUyxFQUFFLENBQUM7UUFDekY7SUFDRjtJQUNBLE9BQU8sQ0FBQ0YsT0FBUyxDQUFDLEVBQUVELE9BQU8sRUFBRUksVUFBVSxFQUFFQyxVQUFVSixNQUFNLENBQUM7QUFDNUQ7QUFDQSxJQUFJUSxhQUFhVjtBQUVqQiwyQkFBMkI7QUFDM0IsU0FBU1csZ0JBQWdCMUQsS0FBSztJQUM1QixJQUFJQSxTQUFTLE1BQU07UUFDakIsT0FBTztJQUNUO0lBQ0EsSUFBSSxPQUFPQSxVQUFVLFVBQVU7UUFDN0IsT0FBT0E7SUFDVDtJQUNBLElBQUlBLGlCQUFpQjJELE9BQU87UUFDMUIsT0FBTzNELE1BQU13RCxPQUFPO0lBQ3RCO0lBQ0EsT0FBT0ksS0FBS0MsU0FBUyxDQUFDN0Q7QUFDeEI7QUFFQSxzQkFBc0I7QUFDMEI7QUFFaEQsa0NBQWtDO0FBQ2xDLFNBQVMrRCx1QkFBdUJDLE1BQU07SUFDcEMsT0FBT0MsT0FBT0MsV0FBVyxDQUN2QkQsT0FBT0UsT0FBTyxDQUFDSCxRQUFRSSxNQUFNLENBQUMsQ0FBQyxDQUFDQyxNQUFNMUUsTUFBTSxHQUFLQSxTQUFTO0FBRTlEO0FBRUEsd0JBQXdCO0FBQ3hCLFNBQVMyRSxhQUFhdEUsS0FBSztJQUN6QixPQUFPQSxpQkFBaUIyRCxTQUFVM0QsQ0FBQUEsTUFBTXVFLElBQUksS0FBSyxnQkFBZ0J2RSxNQUFNdUUsSUFBSSxLQUFLLGNBQWE7QUFDL0Y7QUFFQSxzQkFBc0I7QUFDdEIsSUFBSUMsbUJBQW1CLElBQU1DLFdBQVdDLEtBQUs7QUFDN0MsSUFBSUMsYUFBYSxPQUFPLEVBQ3RCQyxHQUFHLEVBQ0gxRixVQUFVLENBQUMsQ0FBQyxFQUNaMkYseUJBQXlCLEVBQ3pCQyxxQkFBcUIsRUFDckJDLFdBQVcsRUFDWEwsUUFBUUYsa0JBQWtCLEVBQzNCO0lBQ0MsSUFBSTtRQUNGLE1BQU05QixXQUFXLE1BQU1nQyxNQUFNRSxLQUFLO1lBQ2hDSSxRQUFRO1lBQ1I5RixTQUFTNkUsdUJBQXVCN0U7WUFDaEMrRixRQUFRRjtRQUNWO1FBQ0EsTUFBTUcsa0JBQWtCekMsdUJBQXVCQztRQUMvQyxJQUFJLENBQUNBLFNBQVN5QyxFQUFFLEVBQUU7WUFDaEIsSUFBSUM7WUFDSixJQUFJO2dCQUNGQSxtQkFBbUIsTUFBTU4sc0JBQXNCO29CQUM3Q3BDO29CQUNBa0M7b0JBQ0FTLG1CQUFtQixDQUFDO2dCQUN0QjtZQUNGLEVBQUUsT0FBT3JGLE9BQU87Z0JBQ2QsSUFBSXNFLGFBQWF0RSxVQUFVOEQsMERBQVlBLENBQUN3QixVQUFVLENBQUN0RixRQUFRO29CQUN6RCxNQUFNQTtnQkFDUjtnQkFDQSxNQUFNLElBQUk4RCwwREFBWUEsQ0FBQztvQkFDckJOLFNBQVM7b0JBQ1QrQixPQUFPdkY7b0JBQ1B3RixZQUFZOUMsU0FBUytDLE1BQU07b0JBQzNCYjtvQkFDQU07b0JBQ0FHLG1CQUFtQixDQUFDO2dCQUN0QjtZQUNGO1lBQ0EsTUFBTUQsaUJBQWlCekYsS0FBSztRQUM5QjtRQUNBLElBQUk7WUFDRixPQUFPLE1BQU1rRiwwQkFBMEI7Z0JBQ3JDbkM7Z0JBQ0FrQztnQkFDQVMsbUJBQW1CLENBQUM7WUFDdEI7UUFDRixFQUFFLE9BQU9yRixPQUFPO1lBQ2QsSUFBSUEsaUJBQWlCMkQsT0FBTztnQkFDMUIsSUFBSVcsYUFBYXRFLFVBQVU4RCwwREFBWUEsQ0FBQ3dCLFVBQVUsQ0FBQ3RGLFFBQVE7b0JBQ3pELE1BQU1BO2dCQUNSO1lBQ0Y7WUFDQSxNQUFNLElBQUk4RCwwREFBWUEsQ0FBQztnQkFDckJOLFNBQVM7Z0JBQ1QrQixPQUFPdkY7Z0JBQ1B3RixZQUFZOUMsU0FBUytDLE1BQU07Z0JBQzNCYjtnQkFDQU07Z0JBQ0FHLG1CQUFtQixDQUFDO1lBQ3RCO1FBQ0Y7SUFDRixFQUFFLE9BQU9yRixPQUFPO1FBQ2QsSUFBSXNFLGFBQWF0RSxRQUFRO1lBQ3ZCLE1BQU1BO1FBQ1I7UUFDQSxJQUFJQSxpQkFBaUIwRixhQUFhMUYsTUFBTXdELE9BQU8sS0FBSyxnQkFBZ0I7WUFDbEUsTUFBTStCLFFBQVF2RixNQUFNdUYsS0FBSztZQUN6QixJQUFJQSxTQUFTLE1BQU07Z0JBQ2pCLE1BQU0sSUFBSXpCLDBEQUFZQSxDQUFDO29CQUNyQk4sU0FBUyxDQUFDLHVCQUF1QixFQUFFK0IsTUFBTS9CLE9BQU8sQ0FBQyxDQUFDO29CQUNsRCtCO29CQUNBWDtvQkFDQWUsYUFBYTtvQkFDYk4sbUJBQW1CLENBQUM7Z0JBQ3RCO1lBQ0Y7UUFDRjtRQUNBLE1BQU1yRjtJQUNSO0FBQ0Y7QUFFQSxzQkFBc0I7QUFDNkI7QUFDbkQsU0FBUzZGLFdBQVcsRUFDbEJDLE1BQU0sRUFDTkMsdUJBQXVCLEVBQ3ZCQyxzQkFBc0IsUUFBUSxFQUM5QkMsV0FBVyxFQUNaO0lBQ0MsSUFBSSxPQUFPSCxXQUFXLFVBQVU7UUFDOUIsT0FBT0E7SUFDVDtJQUNBLElBQUlBLFVBQVUsTUFBTTtRQUNsQixNQUFNLElBQUlGLDZEQUFlQSxDQUFDO1lBQ3hCcEMsU0FBUyxDQUFDLEVBQUV5QyxZQUFZLDBCQUEwQixDQUFDO1FBQ3JEO0lBQ0Y7SUFDQSxJQUFJLE9BQU9DLFlBQVksYUFBYTtRQUNsQyxNQUFNLElBQUlOLDZEQUFlQSxDQUFDO1lBQ3hCcEMsU0FBUyxDQUFDLEVBQUV5QyxZQUFZLHdDQUF3QyxFQUFFRCxvQkFBb0Isd0VBQXdFLENBQUM7UUFDaks7SUFDRjtJQUNBRixTQUFTSSxRQUFRQyxHQUFHLENBQUNKLHdCQUF3QjtJQUM3QyxJQUFJRCxVQUFVLE1BQU07UUFDbEIsTUFBTSxJQUFJRiw2REFBZUEsQ0FBQztZQUN4QnBDLFNBQVMsQ0FBQyxFQUFFeUMsWUFBWSx3Q0FBd0MsRUFBRUQsb0JBQW9CLG1CQUFtQixFQUFFRCx3QkFBd0Isc0JBQXNCLENBQUM7UUFDNUo7SUFDRjtJQUNBLElBQUksT0FBT0QsV0FBVyxVQUFVO1FBQzlCLE1BQU0sSUFBSUYsNkRBQWVBLENBQUM7WUFDeEJwQyxTQUFTLENBQUMsRUFBRXlDLFlBQVksNENBQTRDLEVBQUVGLHdCQUF3QixzQ0FBc0MsQ0FBQztRQUN2STtJQUNGO0lBQ0EsT0FBT0Q7QUFDVDtBQUVBLCtCQUErQjtBQUMvQixTQUFTTSxvQkFBb0IsRUFDM0JDLFlBQVksRUFDWk4sdUJBQXVCLEVBQ3hCO0lBQ0MsSUFBSSxPQUFPTSxpQkFBaUIsVUFBVTtRQUNwQyxPQUFPQTtJQUNUO0lBQ0EsSUFBSUEsZ0JBQWdCLFFBQVEsT0FBT0gsWUFBWSxhQUFhO1FBQzFELE9BQU8sS0FBSztJQUNkO0lBQ0FHLGVBQWVILFFBQVFDLEdBQUcsQ0FBQ0osd0JBQXdCO0lBQ25ELElBQUlNLGdCQUFnQixRQUFRLE9BQU9BLGlCQUFpQixVQUFVO1FBQzVELE9BQU8sS0FBSztJQUNkO0lBQ0EsT0FBT0E7QUFDVDtBQUVBLHNCQUFzQjtBQUM4QjtBQUNwRCxTQUFTRSxZQUFZLEVBQ25CRixZQUFZLEVBQ1pOLHVCQUF1QixFQUN2QlMsV0FBVyxFQUNYUCxXQUFXLEVBQ1o7SUFDQyxJQUFJLE9BQU9JLGlCQUFpQixVQUFVO1FBQ3BDLE9BQU9BO0lBQ1Q7SUFDQSxJQUFJQSxnQkFBZ0IsTUFBTTtRQUN4QixNQUFNLElBQUlDLDhEQUFnQkEsQ0FBQztZQUN6QjlDLFNBQVMsQ0FBQyxFQUFFeUMsWUFBWSwwQkFBMEIsQ0FBQztRQUNyRDtJQUNGO0lBQ0EsSUFBSSxPQUFPQyxZQUFZLGFBQWE7UUFDbEMsTUFBTSxJQUFJSSw4REFBZ0JBLENBQUM7WUFDekI5QyxTQUFTLENBQUMsRUFBRXlDLFlBQVksd0NBQXdDLEVBQUVPLFlBQVksd0VBQXdFLENBQUM7UUFDeko7SUFDRjtJQUNBSCxlQUFlSCxRQUFRQyxHQUFHLENBQUNKLHdCQUF3QjtJQUNuRCxJQUFJTSxnQkFBZ0IsTUFBTTtRQUN4QixNQUFNLElBQUlDLDhEQUFnQkEsQ0FBQztZQUN6QjlDLFNBQVMsQ0FBQyxFQUFFeUMsWUFBWSx3Q0FBd0MsRUFBRU8sWUFBWSxtQkFBbUIsRUFBRVQsd0JBQXdCLHNCQUFzQixDQUFDO1FBQ3BKO0lBQ0Y7SUFDQSxJQUFJLE9BQU9NLGlCQUFpQixVQUFVO1FBQ3BDLE1BQU0sSUFBSUMsOERBQWdCQSxDQUFDO1lBQ3pCOUMsU0FBUyxDQUFDLEVBQUV5QyxZQUFZLDRDQUE0QyxFQUFFRix3QkFBd0Isc0NBQXNDLENBQUM7UUFDdkk7SUFDRjtJQUNBLE9BQU9NO0FBQ1Q7QUFFQSxvQkFBb0I7QUFJTTtBQUNpQjtBQUUzQyx3QkFBd0I7QUFDK0I7QUFFdkQsbUJBQW1CO0FBQ25CLElBQUlRLGtCQUFrQkMsT0FBT0MsR0FBRyxDQUFDO0FBQ2pDLFNBQVNDLFVBQVVDLFFBQVE7SUFDekIsT0FBTztRQUFFLENBQUNKLGdCQUFnQixFQUFFO1FBQU1JO0lBQVM7QUFDN0M7QUFDQSxTQUFTQyxZQUFZdkgsS0FBSztJQUN4QixPQUFPLE9BQU9BLFVBQVUsWUFBWUEsVUFBVSxRQUFRa0gsbUJBQW1CbEgsU0FBU0EsS0FBSyxDQUFDa0gsZ0JBQWdCLEtBQUssUUFBUSxjQUFjbEg7QUFDckk7QUFDQSxTQUFTd0gsWUFBWXhILEtBQUs7SUFDeEIsT0FBT3VILFlBQVl2SCxTQUFTQSxRQUFReUgsYUFBYXpIO0FBQ25EO0FBQ0EsU0FBU3lILGFBQWFDLFNBQVM7SUFDN0IsT0FBT0wsVUFBVSxDQUFDckg7UUFDaEIsTUFBTTJILFNBQVNELFVBQVVFLFNBQVMsQ0FBQzVIO1FBQ25DLE9BQU8ySCxPQUFPRSxPQUFPLEdBQUc7WUFBRUEsU0FBUztZQUFNN0gsT0FBTzJILE9BQU8zRyxJQUFJO1FBQUMsSUFBSTtZQUFFNkcsU0FBUztZQUFPeEgsT0FBT3NILE9BQU90SCxLQUFLO1FBQUM7SUFDeEc7QUFDRjtBQUVBLHdCQUF3QjtBQUN4QixTQUFTeUgsY0FBYyxFQUNyQjlILEtBQUssRUFDTCtILFFBQVFDLFdBQVcsRUFDcEI7SUFDQyxNQUFNTCxTQUFTTSxrQkFBa0I7UUFBRWpJO1FBQU8rSCxRQUFRQztJQUFZO0lBQzlELElBQUksQ0FBQ0wsT0FBT0UsT0FBTyxFQUFFO1FBQ25CLE1BQU1kLGlFQUFtQkEsQ0FBQ21CLElBQUksQ0FBQztZQUFFbEk7WUFBTzRGLE9BQU8rQixPQUFPdEgsS0FBSztRQUFDO0lBQzlEO0lBQ0EsT0FBT3NILE9BQU8zSCxLQUFLO0FBQ3JCO0FBQ0EsU0FBU2lJLGtCQUFrQixFQUN6QmpJLEtBQUssRUFDTCtILE1BQU0sRUFDUDtJQUNDLE1BQU1JLGFBQWFYLFlBQVlPO0lBQy9CLElBQUk7UUFDRixJQUFJSSxXQUFXYixRQUFRLElBQUksTUFBTTtZQUMvQixPQUFPO2dCQUFFTyxTQUFTO2dCQUFNN0g7WUFBTTtRQUNoQztRQUNBLE1BQU0ySCxTQUFTUSxXQUFXYixRQUFRLENBQUN0SDtRQUNuQyxJQUFJMkgsT0FBT0UsT0FBTyxFQUFFO1lBQ2xCLE9BQU9GO1FBQ1Q7UUFDQSxPQUFPO1lBQ0xFLFNBQVM7WUFDVHhILE9BQU8wRyxpRUFBbUJBLENBQUNtQixJQUFJLENBQUM7Z0JBQUVsSTtnQkFBTzRGLE9BQU8rQixPQUFPdEgsS0FBSztZQUFDO1FBQy9EO0lBQ0YsRUFBRSxPQUFPQSxPQUFPO1FBQ2QsT0FBTztZQUNMd0gsU0FBUztZQUNUeEgsT0FBTzBHLGlFQUFtQkEsQ0FBQ21CLElBQUksQ0FBQztnQkFBRWxJO2dCQUFPNEYsT0FBT3ZGO1lBQU07UUFDeEQ7SUFDRjtBQUNGO0FBRUEsb0JBQW9CO0FBQ3BCLFNBQVMrSCxVQUFVLEVBQ2pCQyxJQUFJLEVBQ0pOLE1BQU0sRUFDUDtJQUNDLElBQUk7UUFDRixNQUFNL0gsUUFBUWlILG9EQUFnQixDQUFDb0I7UUFDL0IsSUFBSU4sVUFBVSxNQUFNO1lBQ2xCLE9BQU8vSDtRQUNUO1FBQ0EsT0FBTzhILGNBQWM7WUFBRTlIO1lBQU8rSDtRQUFPO0lBQ3ZDLEVBQUUsT0FBTzFILE9BQU87UUFDZCxJQUFJeUcsNERBQWNBLENBQUNuQixVQUFVLENBQUN0RixVQUFVMkcsaUVBQW9CQSxDQUFDckIsVUFBVSxDQUFDdEYsUUFBUTtZQUM5RSxNQUFNQTtRQUNSO1FBQ0EsTUFBTSxJQUFJeUcsNERBQWNBLENBQUM7WUFBRXVCO1lBQU16QyxPQUFPdkY7UUFBTTtJQUNoRDtBQUNGO0FBQ0EsU0FBU2tJLGNBQWMsRUFDckJGLElBQUksRUFDSk4sTUFBTSxFQUNQO0lBQ0MsSUFBSTtRQUNGLE1BQU0vSCxRQUFRaUgsb0RBQWdCLENBQUNvQjtRQUMvQixJQUFJTixVQUFVLE1BQU07WUFDbEIsT0FBTztnQkFBRUYsU0FBUztnQkFBTTdIO2dCQUFPd0ksVUFBVXhJO1lBQU07UUFDakQ7UUFDQSxNQUFNeUksbUJBQW1CUixrQkFBa0I7WUFBRWpJO1lBQU8rSDtRQUFPO1FBQzNELE9BQU9VLGlCQUFpQlosT0FBTyxHQUFHO1lBQUUsR0FBR1ksZ0JBQWdCO1lBQUVELFVBQVV4STtRQUFNLElBQUl5STtJQUMvRSxFQUFFLE9BQU9wSSxPQUFPO1FBQ2QsT0FBTztZQUNMd0gsU0FBUztZQUNUeEgsT0FBT3lHLDREQUFjQSxDQUFDbkIsVUFBVSxDQUFDdEYsU0FBU0EsUUFBUSxJQUFJeUcsNERBQWNBLENBQUM7Z0JBQUV1QjtnQkFBTXpDLE9BQU92RjtZQUFNO1FBQzVGO0lBQ0Y7QUFDRjtBQUNBLFNBQVNxSSxlQUFlQyxLQUFLO0lBQzNCLElBQUk7UUFDRjFCLG9EQUFnQixDQUFDMEI7UUFDakIsT0FBTztJQUNULEVBQUUsT0FBT0MsR0FBRztRQUNWLE9BQU87SUFDVDtBQUNGO0FBRUEsZ0NBQWdDO0FBQ2lEO0FBQ2pGLFNBQVNFLHFCQUFxQixFQUM1QkMsUUFBUSxFQUNSQyxlQUFlLEVBQ2ZqQixNQUFNLEVBQ1A7SUFDQyxJQUFJLENBQUNpQixtQkFBbUIsT0FBTyxLQUFLLElBQUlBLGVBQWUsQ0FBQ0QsU0FBUyxLQUFLLE1BQU07UUFDMUUsT0FBTyxLQUFLO0lBQ2Q7SUFDQSxNQUFNRSx3QkFBd0JoQixrQkFBa0I7UUFDOUNqSSxPQUFPZ0osZUFBZSxDQUFDRCxTQUFTO1FBQ2hDaEI7SUFDRjtJQUNBLElBQUksQ0FBQ2tCLHNCQUFzQnBCLE9BQU8sRUFBRTtRQUNsQyxNQUFNLElBQUlnQixrRUFBcUJBLENBQUM7WUFDOUJqRixVQUFVO1lBQ1ZDLFNBQVMsQ0FBQyxRQUFRLEVBQUVrRixTQUFTLGlCQUFpQixDQUFDO1lBQy9DbkQsT0FBT3FELHNCQUFzQjVJLEtBQUs7UUFDcEM7SUFDRjtJQUNBLE9BQU80SSxzQkFBc0JqSixLQUFLO0FBQ3BDO0FBRUEscUJBQXFCO0FBQzRDO0FBQ2pFLElBQUltSixvQkFBb0IsSUFBTXJFLFdBQVdDLEtBQUs7QUFDOUMsSUFBSXFFLGdCQUFnQixPQUFPLEVBQ3pCbkUsR0FBRyxFQUNIMUYsT0FBTyxFQUNQOEosSUFBSSxFQUNKbEUscUJBQXFCLEVBQ3JCRCx5QkFBeUIsRUFDekJFLFdBQVcsRUFDWEwsS0FBSyxFQUNOLEdBQUt1RSxVQUFVO1FBQ2RyRTtRQUNBMUYsU0FBUztZQUNQLGdCQUFnQjtZQUNoQixHQUFHQSxPQUFPO1FBQ1o7UUFDQThKLE1BQU07WUFDSkUsU0FBU3RGLEtBQUtDLFNBQVMsQ0FBQ21GO1lBQ3hCRyxRQUFRSDtRQUNWO1FBQ0FsRTtRQUNBRDtRQUNBRTtRQUNBTDtJQUNGO0FBQ0EsSUFBSTBFLG9CQUFvQixPQUFPLEVBQzdCeEUsR0FBRyxFQUNIMUYsT0FBTyxFQUNQbUssUUFBUSxFQUNSdkUscUJBQXFCLEVBQ3JCRCx5QkFBeUIsRUFDekJFLFdBQVcsRUFDWEwsS0FBSyxFQUNOLEdBQUt1RSxVQUFVO1FBQ2RyRTtRQUNBMUY7UUFDQThKLE1BQU07WUFDSkUsU0FBU0c7WUFDVEYsUUFBUWxGLE9BQU9DLFdBQVcsQ0FBQ21GLFNBQVNsRixPQUFPO1FBQzdDO1FBQ0FXO1FBQ0FEO1FBQ0FFO1FBQ0FMO0lBQ0Y7QUFDQSxJQUFJdUUsWUFBWSxPQUFPLEVBQ3JCckUsR0FBRyxFQUNIMUYsVUFBVSxDQUFDLENBQUMsRUFDWjhKLElBQUksRUFDSm5FLHlCQUF5QixFQUN6QkMscUJBQXFCLEVBQ3JCQyxXQUFXLEVBQ1hMLFFBQVFvRSxtQkFBbUIsRUFDNUI7SUFDQyxJQUFJO1FBQ0YsTUFBTXBHLFdBQVcsTUFBTWdDLE1BQU1FLEtBQUs7WUFDaENJLFFBQVE7WUFDUjlGLFNBQVM2RSx1QkFBdUI3RTtZQUNoQzhKLE1BQU1BLEtBQUtFLE9BQU87WUFDbEJqRSxRQUFRRjtRQUNWO1FBQ0EsTUFBTUcsa0JBQWtCekMsdUJBQXVCQztRQUMvQyxJQUFJLENBQUNBLFNBQVN5QyxFQUFFLEVBQUU7WUFDaEIsSUFBSUM7WUFDSixJQUFJO2dCQUNGQSxtQkFBbUIsTUFBTU4sc0JBQXNCO29CQUM3Q3BDO29CQUNBa0M7b0JBQ0FTLG1CQUFtQjJELEtBQUtHLE1BQU07Z0JBQ2hDO1lBQ0YsRUFBRSxPQUFPbkosT0FBTztnQkFDZCxJQUFJc0UsYUFBYXRFLFVBQVU2SSwwREFBYUEsQ0FBQ3ZELFVBQVUsQ0FBQ3RGLFFBQVE7b0JBQzFELE1BQU1BO2dCQUNSO2dCQUNBLE1BQU0sSUFBSTZJLDBEQUFhQSxDQUFDO29CQUN0QnJGLFNBQVM7b0JBQ1QrQixPQUFPdkY7b0JBQ1B3RixZQUFZOUMsU0FBUytDLE1BQU07b0JBQzNCYjtvQkFDQU07b0JBQ0FHLG1CQUFtQjJELEtBQUtHLE1BQU07Z0JBQ2hDO1lBQ0Y7WUFDQSxNQUFNL0QsaUJBQWlCekYsS0FBSztRQUM5QjtRQUNBLElBQUk7WUFDRixPQUFPLE1BQU1rRiwwQkFBMEI7Z0JBQ3JDbkM7Z0JBQ0FrQztnQkFDQVMsbUJBQW1CMkQsS0FBS0csTUFBTTtZQUNoQztRQUNGLEVBQUUsT0FBT25KLE9BQU87WUFDZCxJQUFJQSxpQkFBaUIyRCxPQUFPO2dCQUMxQixJQUFJVyxhQUFhdEUsVUFBVTZJLDBEQUFhQSxDQUFDdkQsVUFBVSxDQUFDdEYsUUFBUTtvQkFDMUQsTUFBTUE7Z0JBQ1I7WUFDRjtZQUNBLE1BQU0sSUFBSTZJLDBEQUFhQSxDQUFDO2dCQUN0QnJGLFNBQVM7Z0JBQ1QrQixPQUFPdkY7Z0JBQ1B3RixZQUFZOUMsU0FBUytDLE1BQU07Z0JBQzNCYjtnQkFDQU07Z0JBQ0FHLG1CQUFtQjJELEtBQUtHLE1BQU07WUFDaEM7UUFDRjtJQUNGLEVBQUUsT0FBT25KLE9BQU87UUFDZCxJQUFJc0UsYUFBYXRFLFFBQVE7WUFDdkIsTUFBTUE7UUFDUjtRQUNBLElBQUlBLGlCQUFpQjBGLGFBQWExRixNQUFNd0QsT0FBTyxLQUFLLGdCQUFnQjtZQUNsRSxNQUFNK0IsUUFBUXZGLE1BQU11RixLQUFLO1lBQ3pCLElBQUlBLFNBQVMsTUFBTTtnQkFDakIsTUFBTSxJQUFJc0QsMERBQWFBLENBQUM7b0JBQ3RCckYsU0FBUyxDQUFDLHVCQUF1QixFQUFFK0IsTUFBTS9CLE9BQU8sQ0FBQyxDQUFDO29CQUNsRCtCO29CQUNBWDtvQkFDQVMsbUJBQW1CMkQsS0FBS0csTUFBTTtvQkFDOUJ4RCxhQUFhO2dCQUVmO1lBQ0Y7UUFDRjtRQUNBLE1BQU0zRjtJQUNSO0FBQ0Y7QUFFQSxpQkFBaUI7QUFDakIsZUFBZUssUUFBUVYsS0FBSztJQUMxQixJQUFJLE9BQU9BLFVBQVUsWUFBWTtRQUMvQkEsUUFBUUE7SUFDVjtJQUNBLE9BQU9TLFFBQVFDLE9BQU8sQ0FBQ1Y7QUFDekI7QUFFQSwwQkFBMEI7QUFDK0Q7QUFDekYsSUFBSTZKLGlDQUFpQyxDQUFDLEVBQ3BDQyxXQUFXLEVBQ1hDLGNBQWMsRUFDZC9ELFdBQVcsRUFDWixHQUFLLE9BQU8sRUFBRWpELFFBQVEsRUFBRWtDLEdBQUcsRUFBRVMsaUJBQWlCLEVBQUU7UUFDL0MsTUFBTXNFLGVBQWUsTUFBTWpILFNBQVNzRixJQUFJO1FBQ3hDLE1BQU05QyxrQkFBa0J6Qyx1QkFBdUJDO1FBQy9DLElBQUlpSCxhQUFhQyxJQUFJLE9BQU8sSUFBSTtZQUM5QixPQUFPO2dCQUNMMUU7Z0JBQ0F2RixPQUFPLElBQUkySiwwREFBYUEsQ0FBQztvQkFDdkI5RixTQUFTZCxTQUFTbUgsVUFBVTtvQkFDNUJqRjtvQkFDQVM7b0JBQ0FHLFlBQVk5QyxTQUFTK0MsTUFBTTtvQkFDM0JQO29CQUNBeUU7b0JBQ0FoRSxhQUFhQSxlQUFlLE9BQU8sS0FBSyxJQUFJQSxZQUFZakQ7Z0JBQzFEO1lBQ0Y7UUFDRjtRQUNBLElBQUk7WUFDRixNQUFNb0gsY0FBYy9CLFVBQVU7Z0JBQzVCQyxNQUFNMkI7Z0JBQ05qQyxRQUFRK0I7WUFDVjtZQUNBLE9BQU87Z0JBQ0x2RTtnQkFDQXZGLE9BQU8sSUFBSTJKLDBEQUFhQSxDQUFDO29CQUN2QjlGLFNBQVNrRyxlQUFlSTtvQkFDeEJsRjtvQkFDQVM7b0JBQ0FHLFlBQVk5QyxTQUFTK0MsTUFBTTtvQkFDM0JQO29CQUNBeUU7b0JBQ0FoSixNQUFNbUo7b0JBQ05uRSxhQUFhQSxlQUFlLE9BQU8sS0FBSyxJQUFJQSxZQUFZakQsVUFBVW9IO2dCQUNwRTtZQUNGO1FBQ0YsRUFBRSxPQUFPQyxZQUFZO1lBQ25CLE9BQU87Z0JBQ0w3RTtnQkFDQXZGLE9BQU8sSUFBSTJKLDBEQUFhQSxDQUFDO29CQUN2QjlGLFNBQVNkLFNBQVNtSCxVQUFVO29CQUM1QmpGO29CQUNBUztvQkFDQUcsWUFBWTlDLFNBQVMrQyxNQUFNO29CQUMzQlA7b0JBQ0F5RTtvQkFDQWhFLGFBQWFBLGVBQWUsT0FBTyxLQUFLLElBQUlBLFlBQVlqRDtnQkFDMUQ7WUFDRjtRQUNGO0lBQ0Y7QUFDQSxJQUFJc0gsbUNBQW1DLENBQUNDLGNBQWdCLE9BQU8sRUFBRXZILFFBQVEsRUFBRTtRQUN6RSxNQUFNd0Msa0JBQWtCekMsdUJBQXVCQztRQUMvQyxJQUFJQSxTQUFTc0csSUFBSSxJQUFJLE1BQU07WUFDekIsTUFBTSxJQUFJTyxvRUFBc0JBLENBQUMsQ0FBQztRQUNwQztRQUNBLE9BQU87WUFDTHJFO1lBQ0F2RixPQUFPK0MsU0FBU3NHLElBQUksQ0FBQ2tCLFdBQVcsQ0FBQyxJQUFJQyxxQkFBcUJELFdBQVcsQ0FBQzFKLGlDQUFpQzBKLFdBQVcsQ0FDaEgsSUFBSW5JLGdCQUFnQjtnQkFDbEJDLFdBQVUsRUFBRXJCLElBQUksRUFBRSxFQUFFakIsVUFBVTtvQkFDNUIsSUFBSWlCLFNBQVMsVUFBVTt3QkFDckI7b0JBQ0Y7b0JBQ0FqQixXQUFXSyxPQUFPLENBQ2hCbUksY0FBYzt3QkFDWkYsTUFBTXJIO3dCQUNOK0csUUFBUXVDO29CQUNWO2dCQUVKO1lBQ0Y7UUFFSjtJQUNGO0FBQ0EsSUFBSUcsa0NBQWtDLENBQUNILGNBQWdCLE9BQU8sRUFBRXZILFFBQVEsRUFBRTtRQUN4RSxNQUFNd0Msa0JBQWtCekMsdUJBQXVCQztRQUMvQyxJQUFJQSxTQUFTc0csSUFBSSxJQUFJLE1BQU07WUFDekIsTUFBTSxJQUFJTyxvRUFBc0JBLENBQUMsQ0FBQztRQUNwQztRQUNBLElBQUk5SSxTQUFTO1FBQ2IsT0FBTztZQUNMeUU7WUFDQXZGLE9BQU8rQyxTQUFTc0csSUFBSSxDQUFDa0IsV0FBVyxDQUFDLElBQUlDLHFCQUFxQkQsV0FBVyxDQUNuRSxJQUFJbkksZ0JBQWdCO2dCQUNsQkMsV0FBVXFJLFNBQVMsRUFBRTNLLFVBQVU7b0JBQzdCLElBQUkySyxVQUFVQyxRQUFRLENBQUMsT0FBTzt3QkFDNUI1SyxXQUFXSyxPQUFPLENBQ2hCbUksY0FBYzs0QkFDWkYsTUFBTXZILFNBQVM0Sjs0QkFDZjNDLFFBQVF1Qzt3QkFDVjt3QkFFRnhKLFNBQVM7b0JBQ1gsT0FBTzt3QkFDTEEsVUFBVTRKO29CQUNaO2dCQUNGO1lBQ0Y7UUFFSjtJQUNGO0FBQ0EsSUFBSUUsNEJBQTRCLENBQUNDLGlCQUFtQixPQUFPLEVBQUU5SCxRQUFRLEVBQUVrQyxHQUFHLEVBQUVTLGlCQUFpQixFQUFFO1FBQzdGLE1BQU1zRSxlQUFlLE1BQU1qSCxTQUFTc0YsSUFBSTtRQUN4QyxNQUFNeUMsZUFBZXZDLGNBQWM7WUFDakNGLE1BQU0yQjtZQUNOakMsUUFBUThDO1FBQ1Y7UUFDQSxNQUFNdEYsa0JBQWtCekMsdUJBQXVCQztRQUMvQyxJQUFJLENBQUMrSCxhQUFhakQsT0FBTyxFQUFFO1lBQ3pCLE1BQU0sSUFBSThCLDBEQUFhQSxDQUFDO2dCQUN0QjlGLFNBQVM7Z0JBQ1QrQixPQUFPa0YsYUFBYXpLLEtBQUs7Z0JBQ3pCd0YsWUFBWTlDLFNBQVMrQyxNQUFNO2dCQUMzQlA7Z0JBQ0F5RTtnQkFDQS9FO2dCQUNBUztZQUNGO1FBQ0Y7UUFDQSxPQUFPO1lBQ0xIO1lBQ0F2RixPQUFPOEssYUFBYTlLLEtBQUs7WUFDekJ3SSxVQUFVc0MsYUFBYXRDLFFBQVE7UUFDakM7SUFDRjtBQUNBLElBQUl1Qyw4QkFBOEIsSUFBTSxPQUFPLEVBQUVoSSxRQUFRLEVBQUVrQyxHQUFHLEVBQUVTLGlCQUFpQixFQUFFO1FBQ2pGLE1BQU1ILGtCQUFrQnpDLHVCQUF1QkM7UUFDL0MsSUFBSSxDQUFDQSxTQUFTc0csSUFBSSxFQUFFO1lBQ2xCLE1BQU0sSUFBSU0sMERBQWFBLENBQUM7Z0JBQ3RCOUYsU0FBUztnQkFDVG9CO2dCQUNBUztnQkFDQUcsWUFBWTlDLFNBQVMrQyxNQUFNO2dCQUMzQlA7Z0JBQ0F5RSxjQUFjLEtBQUs7WUFDckI7UUFDRjtRQUNBLElBQUk7WUFDRixNQUFNbEosU0FBUyxNQUFNaUMsU0FBU2lJLFdBQVc7WUFDekMsT0FBTztnQkFDTHpGO2dCQUNBdkYsT0FBTyxJQUFJaUwsV0FBV25LO1lBQ3hCO1FBQ0YsRUFBRSxPQUFPVCxPQUFPO1lBQ2QsTUFBTSxJQUFJc0osMERBQWFBLENBQUM7Z0JBQ3RCOUYsU0FBUztnQkFDVG9CO2dCQUNBUztnQkFDQUcsWUFBWTlDLFNBQVMrQyxNQUFNO2dCQUMzQlA7Z0JBQ0F5RSxjQUFjLEtBQUs7Z0JBQ25CcEUsT0FBT3ZGO1lBQ1Q7UUFDRjtJQUNGO0FBQ0EsSUFBSTZLLHVDQUF1QyxJQUFNLE9BQU8sRUFBRW5JLFFBQVEsRUFBRWtDLEdBQUcsRUFBRVMsaUJBQWlCLEVBQUU7UUFDMUYsTUFBTUgsa0JBQWtCekMsdUJBQXVCQztRQUMvQyxNQUFNaUgsZUFBZSxNQUFNakgsU0FBU3NGLElBQUk7UUFDeEMsT0FBTztZQUNMOUM7WUFDQXZGLE9BQU8sSUFBSTJKLDBEQUFhQSxDQUFDO2dCQUN2QjlGLFNBQVNkLFNBQVNtSCxVQUFVO2dCQUM1QmpGO2dCQUNBUztnQkFDQUcsWUFBWTlDLFNBQVMrQyxNQUFNO2dCQUMzQlA7Z0JBQ0F5RTtZQUNGO1FBQ0Y7SUFDRjtBQUVBLHFCQUFxQjtBQUNyQixJQUFJLEVBQUVtQixJQUFJLEVBQUVDLElBQUksRUFBRSxHQUFHdEc7QUFDckIsU0FBU3VHLDBCQUEwQkMsWUFBWTtJQUM3QyxNQUFNQyxZQUFZRCxhQUFhRSxPQUFPLENBQUMsTUFBTSxLQUFLQSxPQUFPLENBQUMsTUFBTTtJQUNoRSxNQUFNQyxlQUFlTCxLQUFLRztJQUMxQixPQUFPTixXQUFXUyxJQUFJLENBQUNELGNBQWMsQ0FBQ0UsT0FBU0EsS0FBS0MsV0FBVyxDQUFDO0FBQ2xFO0FBQ0EsU0FBU0MsMEJBQTBCQyxLQUFLO0lBQ3RDLElBQUlMLGVBQWU7SUFDbkIsSUFBSyxJQUFJL0ksSUFBSSxHQUFHQSxJQUFJb0osTUFBTWpLLE1BQU0sRUFBRWEsSUFBSztRQUNyQytJLGdCQUFnQk0sT0FBT0MsYUFBYSxDQUFDRixLQUFLLENBQUNwSixFQUFFO0lBQy9DO0lBQ0EsT0FBT3lJLEtBQUtNO0FBQ2Q7QUFFQSxnQ0FBZ0M7QUFDaEMsU0FBU1EscUJBQXFCaEgsR0FBRztJQUMvQixPQUFPQSxPQUFPLE9BQU8sS0FBSyxJQUFJQSxJQUFJdUcsT0FBTyxDQUFDLE9BQU87QUFDbkQ7QUF3Q0UsQ0FDRixrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9kaXN0L2luZGV4Lm1qcz9hNzFkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb21iaW5lLWhlYWRlcnMudHNcbmZ1bmN0aW9uIGNvbWJpbmVIZWFkZXJzKC4uLmhlYWRlcnMpIHtcbiAgcmV0dXJuIGhlYWRlcnMucmVkdWNlKFxuICAgIChjb21iaW5lZEhlYWRlcnMsIGN1cnJlbnRIZWFkZXJzKSA9PiAoe1xuICAgICAgLi4uY29tYmluZWRIZWFkZXJzLFxuICAgICAgLi4uY3VycmVudEhlYWRlcnMgIT0gbnVsbCA/IGN1cnJlbnRIZWFkZXJzIDoge31cbiAgICB9KSxcbiAgICB7fVxuICApO1xufVxuXG4vLyBzcmMvY29udmVydC1hc3luYy1pdGVyYXRvci10by1yZWFkYWJsZS1zdHJlYW0udHNcbmZ1bmN0aW9uIGNvbnZlcnRBc3luY0l0ZXJhdG9yVG9SZWFkYWJsZVN0cmVhbShpdGVyYXRvcikge1xuICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgY29uc3VtZXIgd2FudHMgdG8gcHVsbCBtb3JlIGRhdGEgZnJvbSB0aGUgc3RyZWFtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFQ+fSBjb250cm9sbGVyIC0gVGhlIGNvbnRyb2xsZXIgdG8gZW5xdWV1ZSBkYXRhIGludG8gdGhlIHN0cmVhbS5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29udHJvbGxlci5lcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgY29uc3VtZXIgY2FuY2VscyB0aGUgc3RyZWFtLlxuICAgICAqL1xuICAgIGNhbmNlbCgpIHtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBzcmMvZGVsYXkudHNcbmFzeW5jIGZ1bmN0aW9uIGRlbGF5KGRlbGF5SW5Ncykge1xuICByZXR1cm4gZGVsYXlJbk1zID09IG51bGwgPyBQcm9taXNlLnJlc29sdmUoKSA6IG5ldyBQcm9taXNlKChyZXNvbHZlMikgPT4gc2V0VGltZW91dChyZXNvbHZlMiwgZGVsYXlJbk1zKSk7XG59XG5cbi8vIHNyYy9ldmVudC1zb3VyY2UtcGFyc2VyLXN0cmVhbS50c1xuZnVuY3Rpb24gY3JlYXRlRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0oKSB7XG4gIGxldCBidWZmZXIgPSBcIlwiO1xuICBsZXQgZXZlbnQgPSB2b2lkIDA7XG4gIGxldCBkYXRhID0gW107XG4gIGxldCBsYXN0RXZlbnRJZCA9IHZvaWQgMDtcbiAgbGV0IHJldHJ5ID0gdm9pZCAwO1xuICBmdW5jdGlvbiBwYXJzZUxpbmUobGluZSwgY29udHJvbGxlcikge1xuICAgIGlmIChsaW5lID09PSBcIlwiKSB7XG4gICAgICBkaXNwYXRjaEV2ZW50KGNvbnRyb2xsZXIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobGluZS5zdGFydHNXaXRoKFwiOlwiKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb2xvbkluZGV4ID0gbGluZS5pbmRleE9mKFwiOlwiKTtcbiAgICBpZiAoY29sb25JbmRleCA9PT0gLTEpIHtcbiAgICAgIGhhbmRsZUZpZWxkKGxpbmUsIFwiXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmaWVsZCA9IGxpbmUuc2xpY2UoMCwgY29sb25JbmRleCk7XG4gICAgY29uc3QgdmFsdWVTdGFydCA9IGNvbG9uSW5kZXggKyAxO1xuICAgIGNvbnN0IHZhbHVlID0gdmFsdWVTdGFydCA8IGxpbmUubGVuZ3RoICYmIGxpbmVbdmFsdWVTdGFydF0gPT09IFwiIFwiID8gbGluZS5zbGljZSh2YWx1ZVN0YXJ0ICsgMSkgOiBsaW5lLnNsaWNlKHZhbHVlU3RhcnQpO1xuICAgIGhhbmRsZUZpZWxkKGZpZWxkLCB2YWx1ZSk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChjb250cm9sbGVyKSB7XG4gICAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgZXZlbnQsXG4gICAgICAgIGRhdGE6IGRhdGEuam9pbihcIlxcblwiKSxcbiAgICAgICAgaWQ6IGxhc3RFdmVudElkLFxuICAgICAgICByZXRyeVxuICAgICAgfSk7XG4gICAgICBkYXRhID0gW107XG4gICAgICBldmVudCA9IHZvaWQgMDtcbiAgICAgIHJldHJ5ID0gdm9pZCAwO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBoYW5kbGVGaWVsZChmaWVsZCwgdmFsdWUpIHtcbiAgICBzd2l0Y2ggKGZpZWxkKSB7XG4gICAgICBjYXNlIFwiZXZlbnRcIjpcbiAgICAgICAgZXZlbnQgPSB2YWx1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGF0YVwiOlxuICAgICAgICBkYXRhLnB1c2godmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJpZFwiOlxuICAgICAgICBsYXN0RXZlbnRJZCA9IHZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyZXRyeVwiOlxuICAgICAgICBjb25zdCBwYXJzZWRSZXRyeSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgIGlmICghaXNOYU4ocGFyc2VkUmV0cnkpKSB7XG4gICAgICAgICAgcmV0cnkgPSBwYXJzZWRSZXRyeTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgY29uc3QgeyBsaW5lcywgaW5jb21wbGV0ZUxpbmUgfSA9IHNwbGl0TGluZXMoYnVmZmVyLCBjaHVuayk7XG4gICAgICBidWZmZXIgPSBpbmNvbXBsZXRlTGluZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcGFyc2VMaW5lKGxpbmVzW2ldLCBjb250cm9sbGVyKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgIHBhcnNlTGluZShidWZmZXIsIGNvbnRyb2xsZXIpO1xuICAgICAgZGlzcGF0Y2hFdmVudChjb250cm9sbGVyKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gc3BsaXRMaW5lcyhidWZmZXIsIGNodW5rKSB7XG4gIGNvbnN0IGxpbmVzID0gW107XG4gIGxldCBjdXJyZW50TGluZSA9IGJ1ZmZlcjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaHVuay5sZW5ndGg7ICkge1xuICAgIGNvbnN0IGNoYXIgPSBjaHVua1tpKytdO1xuICAgIGlmIChjaGFyID09PSBcIlxcblwiKSB7XG4gICAgICBsaW5lcy5wdXNoKGN1cnJlbnRMaW5lKTtcbiAgICAgIGN1cnJlbnRMaW5lID0gXCJcIjtcbiAgICB9IGVsc2UgaWYgKGNoYXIgPT09IFwiXFxyXCIpIHtcbiAgICAgIGxpbmVzLnB1c2goY3VycmVudExpbmUpO1xuICAgICAgY3VycmVudExpbmUgPSBcIlwiO1xuICAgICAgaWYgKGNodW5rW2kgKyAxXSA9PT0gXCJcXG5cIikge1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRMaW5lICs9IGNoYXI7XG4gICAgfVxuICB9XG4gIHJldHVybiB7IGxpbmVzLCBpbmNvbXBsZXRlTGluZTogY3VycmVudExpbmUgfTtcbn1cblxuLy8gc3JjL2V4dHJhY3QtcmVzcG9uc2UtaGVhZGVycy50c1xuZnVuY3Rpb24gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSkge1xuICBjb25zdCBoZWFkZXJzID0ge307XG4gIHJlc3BvbnNlLmhlYWRlcnMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgIGhlYWRlcnNba2V5XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIGhlYWRlcnM7XG59XG5cbi8vIHNyYy9nZW5lcmF0ZS1pZC50c1xuaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHsgY3VzdG9tQWxwaGFiZXQgfSBmcm9tIFwibmFub2lkL25vbi1zZWN1cmVcIjtcbnZhciBjcmVhdGVJZEdlbmVyYXRvciA9ICh7XG4gIHByZWZpeCxcbiAgc2l6ZTogZGVmYXVsdFNpemUgPSAxNixcbiAgYWxwaGFiZXQgPSBcIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIsXG4gIHNlcGFyYXRvciA9IFwiLVwiXG59ID0ge30pID0+IHtcbiAgY29uc3QgZ2VuZXJhdG9yID0gY3VzdG9tQWxwaGFiZXQoYWxwaGFiZXQsIGRlZmF1bHRTaXplKTtcbiAgaWYgKHByZWZpeCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBpZiAoYWxwaGFiZXQuaW5jbHVkZXMoc2VwYXJhdG9yKSkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICBhcmd1bWVudDogXCJzZXBhcmF0b3JcIixcbiAgICAgIG1lc3NhZ2U6IGBUaGUgc2VwYXJhdG9yIFwiJHtzZXBhcmF0b3J9XCIgbXVzdCBub3QgYmUgcGFydCBvZiB0aGUgYWxwaGFiZXQgXCIke2FscGhhYmV0fVwiLmBcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gKHNpemUpID0+IGAke3ByZWZpeH0ke3NlcGFyYXRvcn0ke2dlbmVyYXRvcihzaXplKX1gO1xufTtcbnZhciBnZW5lcmF0ZUlkID0gY3JlYXRlSWRHZW5lcmF0b3IoKTtcblxuLy8gc3JjL2dldC1lcnJvci1tZXNzYWdlLnRzXG5mdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UoZXJyb3IpIHtcbiAgaWYgKGVycm9yID09IG51bGwpIHtcbiAgICByZXR1cm4gXCJ1bmtub3duIGVycm9yXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiBlcnJvciA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICB9XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShlcnJvcik7XG59XG5cbi8vIHNyYy9nZXQtZnJvbS1hcGkudHNcbmltcG9ydCB7IEFQSUNhbGxFcnJvciB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5cbi8vIHNyYy9yZW1vdmUtdW5kZWZpbmVkLWVudHJpZXMudHNcbmZ1bmN0aW9uIHJlbW92ZVVuZGVmaW5lZEVudHJpZXMocmVjb3JkKSB7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgT2JqZWN0LmVudHJpZXMocmVjb3JkKS5maWx0ZXIoKFtfa2V5LCB2YWx1ZV0pID0+IHZhbHVlICE9IG51bGwpXG4gICk7XG59XG5cbi8vIHNyYy9pcy1hYm9ydC1lcnJvci50c1xuZnVuY3Rpb24gaXNBYm9ydEVycm9yKGVycm9yKSB7XG4gIHJldHVybiBlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIChlcnJvci5uYW1lID09PSBcIkFib3J0RXJyb3JcIiB8fCBlcnJvci5uYW1lID09PSBcIlRpbWVvdXRFcnJvclwiKTtcbn1cblxuLy8gc3JjL2dldC1mcm9tLWFwaS50c1xudmFyIGdldE9yaWdpbmFsRmV0Y2ggPSAoKSA9PiBnbG9iYWxUaGlzLmZldGNoO1xudmFyIGdldEZyb21BcGkgPSBhc3luYyAoe1xuICB1cmwsXG4gIGhlYWRlcnMgPSB7fSxcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcixcbiAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICBhYm9ydFNpZ25hbCxcbiAgZmV0Y2ggPSBnZXRPcmlnaW5hbEZldGNoKClcbn0pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczogcmVtb3ZlVW5kZWZpbmVkRW50cmllcyhoZWFkZXJzKSxcbiAgICAgIHNpZ25hbDogYWJvcnRTaWduYWxcbiAgICB9KTtcbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBsZXQgZXJyb3JJbmZvcm1hdGlvbjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGVycm9ySW5mb3JtYXRpb24gPSBhd2FpdCBmYWlsZWRSZXNwb25zZUhhbmRsZXIoe1xuICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczoge31cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSB8fCBBUElDYWxsRXJyb3IuaXNJbnN0YW5jZShlcnJvcikpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byBwcm9jZXNzIGVycm9yIHJlc3BvbnNlXCIsXG4gICAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiB7fVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9ySW5mb3JtYXRpb24udmFsdWU7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgIHJlc3BvbnNlLFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiB7fVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpIHx8IEFQSUNhbGxFcnJvci5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gcHJvY2VzcyBzdWNjZXNzZnVsIHJlc3BvbnNlXCIsXG4gICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IHt9XG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBUeXBlRXJyb3IgJiYgZXJyb3IubWVzc2FnZSA9PT0gXCJmZXRjaCBmYWlsZWRcIikge1xuICAgICAgY29uc3QgY2F1c2UgPSBlcnJvci5jYXVzZTtcbiAgICAgIGlmIChjYXVzZSAhPSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IGBDYW5ub3QgY29ubmVjdCB0byBBUEk6ICR7Y2F1c2UubWVzc2FnZX1gLFxuICAgICAgICAgIGNhdXNlLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICBpc1JldHJ5YWJsZTogdHJ1ZSxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczoge31cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vLyBzcmMvbG9hZC1hcGkta2V5LnRzXG5pbXBvcnQgeyBMb2FkQVBJS2V5RXJyb3IgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuZnVuY3Rpb24gbG9hZEFwaUtleSh7XG4gIGFwaUtleSxcbiAgZW52aXJvbm1lbnRWYXJpYWJsZU5hbWUsXG4gIGFwaUtleVBhcmFtZXRlck5hbWUgPSBcImFwaUtleVwiLFxuICBkZXNjcmlwdGlvblxufSkge1xuICBpZiAodHlwZW9mIGFwaUtleSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBhcGlLZXk7XG4gIH1cbiAgaWYgKGFwaUtleSAhPSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IExvYWRBUElLZXlFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gQVBJIGtleSBtdXN0IGJlIGEgc3RyaW5nLmBcbiAgICB9KTtcbiAgfVxuICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0aHJvdyBuZXcgTG9hZEFQSUtleUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBBUEkga2V5IGlzIG1pc3NpbmcuIFBhc3MgaXQgdXNpbmcgdGhlICcke2FwaUtleVBhcmFtZXRlck5hbWV9JyBwYXJhbWV0ZXIuIEVudmlyb25tZW50IHZhcmlhYmxlcyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQuYFxuICAgIH0pO1xuICB9XG4gIGFwaUtleSA9IHByb2Nlc3MuZW52W2Vudmlyb25tZW50VmFyaWFibGVOYW1lXTtcbiAgaWYgKGFwaUtleSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IExvYWRBUElLZXlFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gQVBJIGtleSBpcyBtaXNzaW5nLiBQYXNzIGl0IHVzaW5nIHRoZSAnJHthcGlLZXlQYXJhbWV0ZXJOYW1lfScgcGFyYW1ldGVyIG9yIHRoZSAke2Vudmlyb25tZW50VmFyaWFibGVOYW1lfSBlbnZpcm9ubWVudCB2YXJpYWJsZS5gXG4gICAgfSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBhcGlLZXkgIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgTG9hZEFQSUtleUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBBUEkga2V5IG11c3QgYmUgYSBzdHJpbmcuIFRoZSB2YWx1ZSBvZiB0aGUgJHtlbnZpcm9ubWVudFZhcmlhYmxlTmFtZX0gZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IGEgc3RyaW5nLmBcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gYXBpS2V5O1xufVxuXG4vLyBzcmMvbG9hZC1vcHRpb25hbC1zZXR0aW5nLnRzXG5mdW5jdGlvbiBsb2FkT3B0aW9uYWxTZXR0aW5nKHtcbiAgc2V0dGluZ1ZhbHVlLFxuICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZVxufSkge1xuICBpZiAodHlwZW9mIHNldHRpbmdWYWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBzZXR0aW5nVmFsdWU7XG4gIH1cbiAgaWYgKHNldHRpbmdWYWx1ZSAhPSBudWxsIHx8IHR5cGVvZiBwcm9jZXNzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBzZXR0aW5nVmFsdWUgPSBwcm9jZXNzLmVudltlbnZpcm9ubWVudFZhcmlhYmxlTmFtZV07XG4gIGlmIChzZXR0aW5nVmFsdWUgPT0gbnVsbCB8fCB0eXBlb2Ygc2V0dGluZ1ZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICByZXR1cm4gc2V0dGluZ1ZhbHVlO1xufVxuXG4vLyBzcmMvbG9hZC1zZXR0aW5nLnRzXG5pbXBvcnQgeyBMb2FkU2V0dGluZ0Vycm9yIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmZ1bmN0aW9uIGxvYWRTZXR0aW5nKHtcbiAgc2V0dGluZ1ZhbHVlLFxuICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZSxcbiAgc2V0dGluZ05hbWUsXG4gIGRlc2NyaXB0aW9uXG59KSB7XG4gIGlmICh0eXBlb2Ygc2V0dGluZ1ZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHNldHRpbmdWYWx1ZTtcbiAgfVxuICBpZiAoc2V0dGluZ1ZhbHVlICE9IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTG9hZFNldHRpbmdFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gc2V0dGluZyBtdXN0IGJlIGEgc3RyaW5nLmBcbiAgICB9KTtcbiAgfVxuICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0aHJvdyBuZXcgTG9hZFNldHRpbmdFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gc2V0dGluZyBpcyBtaXNzaW5nLiBQYXNzIGl0IHVzaW5nIHRoZSAnJHtzZXR0aW5nTmFtZX0nIHBhcmFtZXRlci4gRW52aXJvbm1lbnQgdmFyaWFibGVzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudC5gXG4gICAgfSk7XG4gIH1cbiAgc2V0dGluZ1ZhbHVlID0gcHJvY2Vzcy5lbnZbZW52aXJvbm1lbnRWYXJpYWJsZU5hbWVdO1xuICBpZiAoc2V0dGluZ1ZhbHVlID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTG9hZFNldHRpbmdFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gc2V0dGluZyBpcyBtaXNzaW5nLiBQYXNzIGl0IHVzaW5nIHRoZSAnJHtzZXR0aW5nTmFtZX0nIHBhcmFtZXRlciBvciB0aGUgJHtlbnZpcm9ubWVudFZhcmlhYmxlTmFtZX0gZW52aXJvbm1lbnQgdmFyaWFibGUuYFxuICAgIH0pO1xuICB9XG4gIGlmICh0eXBlb2Ygc2V0dGluZ1ZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgdGhyb3cgbmV3IExvYWRTZXR0aW5nRXJyb3Ioe1xuICAgICAgbWVzc2FnZTogYCR7ZGVzY3JpcHRpb259IHNldHRpbmcgbXVzdCBiZSBhIHN0cmluZy4gVGhlIHZhbHVlIG9mIHRoZSAke2Vudmlyb25tZW50VmFyaWFibGVOYW1lfSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3QgYSBzdHJpbmcuYFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBzZXR0aW5nVmFsdWU7XG59XG5cbi8vIHNyYy9wYXJzZS1qc29uLnRzXG5pbXBvcnQge1xuICBKU09OUGFyc2VFcnJvcixcbiAgVHlwZVZhbGlkYXRpb25FcnJvciBhcyBUeXBlVmFsaWRhdGlvbkVycm9yMlxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IFNlY3VyZUpTT04gZnJvbSBcInNlY3VyZS1qc29uLXBhcnNlXCI7XG5cbi8vIHNyYy92YWxpZGF0ZS10eXBlcy50c1xuaW1wb3J0IHsgVHlwZVZhbGlkYXRpb25FcnJvciB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5cbi8vIHNyYy92YWxpZGF0b3IudHNcbnZhciB2YWxpZGF0b3JTeW1ib2wgPSBTeW1ib2wuZm9yKFwidmVyY2VsLmFpLnZhbGlkYXRvclwiKTtcbmZ1bmN0aW9uIHZhbGlkYXRvcih2YWxpZGF0ZSkge1xuICByZXR1cm4geyBbdmFsaWRhdG9yU3ltYm9sXTogdHJ1ZSwgdmFsaWRhdGUgfTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRhdG9yKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsaWRhdG9yU3ltYm9sIGluIHZhbHVlICYmIHZhbHVlW3ZhbGlkYXRvclN5bWJvbF0gPT09IHRydWUgJiYgXCJ2YWxpZGF0ZVwiIGluIHZhbHVlO1xufVxuZnVuY3Rpb24gYXNWYWxpZGF0b3IodmFsdWUpIHtcbiAgcmV0dXJuIGlzVmFsaWRhdG9yKHZhbHVlKSA/IHZhbHVlIDogem9kVmFsaWRhdG9yKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHpvZFZhbGlkYXRvcih6b2RTY2hlbWEpIHtcbiAgcmV0dXJuIHZhbGlkYXRvcigodmFsdWUpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSB6b2RTY2hlbWEuc2FmZVBhcnNlKHZhbHVlKTtcbiAgICByZXR1cm4gcmVzdWx0LnN1Y2Nlc3MgPyB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiByZXN1bHQuZGF0YSB9IDogeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlc3VsdC5lcnJvciB9O1xuICB9KTtcbn1cblxuLy8gc3JjL3ZhbGlkYXRlLXR5cGVzLnRzXG5mdW5jdGlvbiB2YWxpZGF0ZVR5cGVzKHtcbiAgdmFsdWUsXG4gIHNjaGVtYTogaW5wdXRTY2hlbWFcbn0pIHtcbiAgY29uc3QgcmVzdWx0ID0gc2FmZVZhbGlkYXRlVHlwZXMoeyB2YWx1ZSwgc2NoZW1hOiBpbnB1dFNjaGVtYSB9KTtcbiAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgIHRocm93IFR5cGVWYWxpZGF0aW9uRXJyb3Iud3JhcCh7IHZhbHVlLCBjYXVzZTogcmVzdWx0LmVycm9yIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQudmFsdWU7XG59XG5mdW5jdGlvbiBzYWZlVmFsaWRhdGVUeXBlcyh7XG4gIHZhbHVlLFxuICBzY2hlbWFcbn0pIHtcbiAgY29uc3QgdmFsaWRhdG9yMiA9IGFzVmFsaWRhdG9yKHNjaGVtYSk7XG4gIHRyeSB7XG4gICAgaWYgKHZhbGlkYXRvcjIudmFsaWRhdGUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdmFsdWUgfTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdG9yMi52YWxpZGF0ZSh2YWx1ZSk7XG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogVHlwZVZhbGlkYXRpb25FcnJvci53cmFwKHsgdmFsdWUsIGNhdXNlOiByZXN1bHQuZXJyb3IgfSlcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBUeXBlVmFsaWRhdGlvbkVycm9yLndyYXAoeyB2YWx1ZSwgY2F1c2U6IGVycm9yIH0pXG4gICAgfTtcbiAgfVxufVxuXG4vLyBzcmMvcGFyc2UtanNvbi50c1xuZnVuY3Rpb24gcGFyc2VKU09OKHtcbiAgdGV4dCxcbiAgc2NoZW1hXG59KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdmFsdWUgPSBTZWN1cmVKU09OLnBhcnNlKHRleHQpO1xuICAgIGlmIChzY2hlbWEgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsaWRhdGVUeXBlcyh7IHZhbHVlLCBzY2hlbWEgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKEpTT05QYXJzZUVycm9yLmlzSW5zdGFuY2UoZXJyb3IpIHx8IFR5cGVWYWxpZGF0aW9uRXJyb3IyLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEpTT05QYXJzZUVycm9yKHsgdGV4dCwgY2F1c2U6IGVycm9yIH0pO1xuICB9XG59XG5mdW5jdGlvbiBzYWZlUGFyc2VKU09OKHtcbiAgdGV4dCxcbiAgc2NoZW1hXG59KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdmFsdWUgPSBTZWN1cmVKU09OLnBhcnNlKHRleHQpO1xuICAgIGlmIChzY2hlbWEgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdmFsdWUsIHJhd1ZhbHVlOiB2YWx1ZSB9O1xuICAgIH1cbiAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gc2FmZVZhbGlkYXRlVHlwZXMoeyB2YWx1ZSwgc2NoZW1hIH0pO1xuICAgIHJldHVybiB2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MgPyB7IC4uLnZhbGlkYXRpb25SZXN1bHQsIHJhd1ZhbHVlOiB2YWx1ZSB9IDogdmFsaWRhdGlvblJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogSlNPTlBhcnNlRXJyb3IuaXNJbnN0YW5jZShlcnJvcikgPyBlcnJvciA6IG5ldyBKU09OUGFyc2VFcnJvcih7IHRleHQsIGNhdXNlOiBlcnJvciB9KVxuICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGlzUGFyc2FibGVKc29uKGlucHV0KSB7XG4gIHRyeSB7XG4gICAgU2VjdXJlSlNPTi5wYXJzZShpbnB1dCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gc3JjL3BhcnNlLXByb3ZpZGVyLW9wdGlvbnMudHNcbmltcG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIGFzIEludmFsaWRBcmd1bWVudEVycm9yMiB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5mdW5jdGlvbiBwYXJzZVByb3ZpZGVyT3B0aW9ucyh7XG4gIHByb3ZpZGVyLFxuICBwcm92aWRlck9wdGlvbnMsXG4gIHNjaGVtYVxufSkge1xuICBpZiAoKHByb3ZpZGVyT3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogcHJvdmlkZXJPcHRpb25zW3Byb3ZpZGVyXSkgPT0gbnVsbCkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29uc3QgcGFyc2VkUHJvdmlkZXJPcHRpb25zID0gc2FmZVZhbGlkYXRlVHlwZXMoe1xuICAgIHZhbHVlOiBwcm92aWRlck9wdGlvbnNbcHJvdmlkZXJdLFxuICAgIHNjaGVtYVxuICB9KTtcbiAgaWYgKCFwYXJzZWRQcm92aWRlck9wdGlvbnMuc3VjY2Vzcykge1xuICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcjIoe1xuICAgICAgYXJndW1lbnQ6IFwicHJvdmlkZXJPcHRpb25zXCIsXG4gICAgICBtZXNzYWdlOiBgaW52YWxpZCAke3Byb3ZpZGVyfSBwcm92aWRlciBvcHRpb25zYCxcbiAgICAgIGNhdXNlOiBwYXJzZWRQcm92aWRlck9wdGlvbnMuZXJyb3JcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcGFyc2VkUHJvdmlkZXJPcHRpb25zLnZhbHVlO1xufVxuXG4vLyBzcmMvcG9zdC10by1hcGkudHNcbmltcG9ydCB7IEFQSUNhbGxFcnJvciBhcyBBUElDYWxsRXJyb3IyIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBnZXRPcmlnaW5hbEZldGNoMiA9ICgpID0+IGdsb2JhbFRoaXMuZmV0Y2g7XG52YXIgcG9zdEpzb25Ub0FwaSA9IGFzeW5jICh7XG4gIHVybCxcbiAgaGVhZGVycyxcbiAgYm9keSxcbiAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyLFxuICBhYm9ydFNpZ25hbCxcbiAgZmV0Y2hcbn0pID0+IHBvc3RUb0FwaSh7XG4gIHVybCxcbiAgaGVhZGVyczoge1xuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIC4uLmhlYWRlcnNcbiAgfSxcbiAgYm9keToge1xuICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgIHZhbHVlczogYm9keVxuICB9LFxuICBmYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gIGFib3J0U2lnbmFsLFxuICBmZXRjaFxufSk7XG52YXIgcG9zdEZvcm1EYXRhVG9BcGkgPSBhc3luYyAoe1xuICB1cmwsXG4gIGhlYWRlcnMsXG4gIGZvcm1EYXRhLFxuICBmYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gIGFib3J0U2lnbmFsLFxuICBmZXRjaFxufSkgPT4gcG9zdFRvQXBpKHtcbiAgdXJsLFxuICBoZWFkZXJzLFxuICBib2R5OiB7XG4gICAgY29udGVudDogZm9ybURhdGEsXG4gICAgdmFsdWVzOiBPYmplY3QuZnJvbUVudHJpZXMoZm9ybURhdGEuZW50cmllcygpKVxuICB9LFxuICBmYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gIGFib3J0U2lnbmFsLFxuICBmZXRjaFxufSk7XG52YXIgcG9zdFRvQXBpID0gYXN5bmMgKHtcbiAgdXJsLFxuICBoZWFkZXJzID0ge30sXG4gIGJvZHksXG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgYWJvcnRTaWduYWwsXG4gIGZldGNoID0gZ2V0T3JpZ2luYWxGZXRjaDIoKVxufSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogcmVtb3ZlVW5kZWZpbmVkRW50cmllcyhoZWFkZXJzKSxcbiAgICAgIGJvZHk6IGJvZHkuY29udGVudCxcbiAgICAgIHNpZ25hbDogYWJvcnRTaWduYWxcbiAgICB9KTtcbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBsZXQgZXJyb3JJbmZvcm1hdGlvbjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGVycm9ySW5mb3JtYXRpb24gPSBhd2FpdCBmYWlsZWRSZXNwb25zZUhhbmRsZXIoe1xuICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczogYm9keS52YWx1ZXNcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSB8fCBBUElDYWxsRXJyb3IyLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcjIoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHByb2Nlc3MgZXJyb3IgcmVzcG9uc2VcIixcbiAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IGJvZHkudmFsdWVzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3JJbmZvcm1hdGlvbi52YWx1ZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IGJvZHkudmFsdWVzXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikgfHwgQVBJQ2FsbEVycm9yMi5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yMih7XG4gICAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHByb2Nlc3Mgc3VjY2Vzc2Z1bCByZXNwb25zZVwiLFxuICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiBib2R5LnZhbHVlc1xuICAgICAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yICYmIGVycm9yLm1lc3NhZ2UgPT09IFwiZmV0Y2ggZmFpbGVkXCIpIHtcbiAgICAgIGNvbnN0IGNhdXNlID0gZXJyb3IuY2F1c2U7XG4gICAgICBpZiAoY2F1c2UgIT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yMih7XG4gICAgICAgICAgbWVzc2FnZTogYENhbm5vdCBjb25uZWN0IHRvIEFQSTogJHtjYXVzZS5tZXNzYWdlfWAsXG4gICAgICAgICAgY2F1c2UsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiBib2R5LnZhbHVlcyxcbiAgICAgICAgICBpc1JldHJ5YWJsZTogdHJ1ZVxuICAgICAgICAgIC8vIHJldHJ5IHdoZW4gbmV0d29yayBlcnJvclxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIHNyYy9yZXNvbHZlLnRzXG5hc3luYyBmdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhbHVlID0gdmFsdWUoKTtcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKTtcbn1cblxuLy8gc3JjL3Jlc3BvbnNlLWhhbmRsZXIudHNcbmltcG9ydCB7IEFQSUNhbGxFcnJvciBhcyBBUElDYWxsRXJyb3IzLCBFbXB0eVJlc3BvbnNlQm9keUVycm9yIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIgPSAoe1xuICBlcnJvclNjaGVtYSxcbiAgZXJyb3JUb01lc3NhZ2UsXG4gIGlzUmV0cnlhYmxlXG59KSA9PiBhc3luYyAoeyByZXNwb25zZSwgdXJsLCByZXF1ZXN0Qm9keVZhbHVlcyB9KSA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlQm9keSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG4gIGlmIChyZXNwb25zZUJvZHkudHJpbSgpID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHZhbHVlOiBuZXcgQVBJQ2FsbEVycm9yMyh7XG4gICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXNwb25zZUJvZHksXG4gICAgICAgIGlzUmV0cnlhYmxlOiBpc1JldHJ5YWJsZSA9PSBudWxsID8gdm9pZCAwIDogaXNSZXRyeWFibGUocmVzcG9uc2UpXG4gICAgICB9KVxuICAgIH07XG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCBwYXJzZWRFcnJvciA9IHBhcnNlSlNPTih7XG4gICAgICB0ZXh0OiByZXNwb25zZUJvZHksXG4gICAgICBzY2hlbWE6IGVycm9yU2NoZW1hXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHZhbHVlOiBuZXcgQVBJQ2FsbEVycm9yMyh7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yVG9NZXNzYWdlKHBhcnNlZEVycm9yKSxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlc3BvbnNlQm9keSxcbiAgICAgICAgZGF0YTogcGFyc2VkRXJyb3IsXG4gICAgICAgIGlzUmV0cnlhYmxlOiBpc1JldHJ5YWJsZSA9PSBudWxsID8gdm9pZCAwIDogaXNSZXRyeWFibGUocmVzcG9uc2UsIHBhcnNlZEVycm9yKVxuICAgICAgfSlcbiAgICB9O1xuICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHZhbHVlOiBuZXcgQVBJQ2FsbEVycm9yMyh7XG4gICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXNwb25zZUJvZHksXG4gICAgICAgIGlzUmV0cnlhYmxlOiBpc1JldHJ5YWJsZSA9PSBudWxsID8gdm9pZCAwIDogaXNSZXRyeWFibGUocmVzcG9uc2UpXG4gICAgICB9KVxuICAgIH07XG4gIH1cbn07XG52YXIgY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIgPSAoY2h1bmtTY2hlbWEpID0+IGFzeW5jICh7IHJlc3BvbnNlIH0pID0+IHtcbiAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG4gIGlmIChyZXNwb25zZS5ib2R5ID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRW1wdHlSZXNwb25zZUJvZHlFcnJvcih7fSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgdmFsdWU6IHJlc3BvbnNlLmJvZHkucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpLnBpcGVUaHJvdWdoKGNyZWF0ZUV2ZW50U291cmNlUGFyc2VyU3RyZWFtKCkpLnBpcGVUaHJvdWdoKFxuICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgIHRyYW5zZm9ybSh7IGRhdGEgfSwgY29udHJvbGxlcikge1xuICAgICAgICAgIGlmIChkYXRhID09PSBcIltET05FXVwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgIHNhZmVQYXJzZUpTT04oe1xuICAgICAgICAgICAgICB0ZXh0OiBkYXRhLFxuICAgICAgICAgICAgICBzY2hlbWE6IGNodW5rU2NoZW1hXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKVxuICB9O1xufTtcbnZhciBjcmVhdGVKc29uU3RyZWFtUmVzcG9uc2VIYW5kbGVyID0gKGNodW5rU2NoZW1hKSA9PiBhc3luYyAoeyByZXNwb25zZSB9KSA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuICBpZiAocmVzcG9uc2UuYm9keSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVtcHR5UmVzcG9uc2VCb2R5RXJyb3Ioe30pO1xuICB9XG4gIGxldCBidWZmZXIgPSBcIlwiO1xuICByZXR1cm4ge1xuICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICB2YWx1ZTogcmVzcG9uc2UuYm9keS5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oKSkucGlwZVRocm91Z2goXG4gICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgdHJhbnNmb3JtKGNodW5rVGV4dCwgY29udHJvbGxlcikge1xuICAgICAgICAgIGlmIChjaHVua1RleHQuZW5kc1dpdGgoXCJcXG5cIikpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgc2FmZVBhcnNlSlNPTih7XG4gICAgICAgICAgICAgICAgdGV4dDogYnVmZmVyICsgY2h1bmtUZXh0LFxuICAgICAgICAgICAgICAgIHNjaGVtYTogY2h1bmtTY2hlbWFcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBidWZmZXIgPSBcIlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidWZmZXIgKz0gY2h1bmtUZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApXG4gIH07XG59O1xudmFyIGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIgPSAocmVzcG9uc2VTY2hlbWEpID0+IGFzeW5jICh7IHJlc3BvbnNlLCB1cmwsIHJlcXVlc3RCb2R5VmFsdWVzIH0pID0+IHtcbiAgY29uc3QgcmVzcG9uc2VCb2R5ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICBjb25zdCBwYXJzZWRSZXN1bHQgPSBzYWZlUGFyc2VKU09OKHtcbiAgICB0ZXh0OiByZXNwb25zZUJvZHksXG4gICAgc2NoZW1hOiByZXNwb25zZVNjaGVtYVxuICB9KTtcbiAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG4gIGlmICghcGFyc2VkUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yMyh7XG4gICAgICBtZXNzYWdlOiBcIkludmFsaWQgSlNPTiByZXNwb25zZVwiLFxuICAgICAgY2F1c2U6IHBhcnNlZFJlc3VsdC5lcnJvcixcbiAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHJlc3BvbnNlQm9keSxcbiAgICAgIHVybCxcbiAgICAgIHJlcXVlc3RCb2R5VmFsdWVzXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgdmFsdWU6IHBhcnNlZFJlc3VsdC52YWx1ZSxcbiAgICByYXdWYWx1ZTogcGFyc2VkUmVzdWx0LnJhd1ZhbHVlXG4gIH07XG59O1xudmFyIGNyZWF0ZUJpbmFyeVJlc3BvbnNlSGFuZGxlciA9ICgpID0+IGFzeW5jICh7IHJlc3BvbnNlLCB1cmwsIHJlcXVlc3RCb2R5VmFsdWVzIH0pID0+IHtcbiAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG4gIGlmICghcmVzcG9uc2UuYm9keSkge1xuICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3IzKHtcbiAgICAgIG1lc3NhZ2U6IFwiUmVzcG9uc2UgYm9keSBpcyBlbXB0eVwiLFxuICAgICAgdXJsLFxuICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICByZXNwb25zZUJvZHk6IHZvaWQgMFxuICAgIH0pO1xuICB9XG4gIHRyeSB7XG4gICAgY29uc3QgYnVmZmVyID0gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgdmFsdWU6IG5ldyBVaW50OEFycmF5KGJ1ZmZlcilcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3IzKHtcbiAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHJlYWQgcmVzcG9uc2UgYXMgYXJyYXkgYnVmZmVyXCIsXG4gICAgICB1cmwsXG4gICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHJlc3BvbnNlQm9keTogdm9pZCAwLFxuICAgICAgY2F1c2U6IGVycm9yXG4gICAgfSk7XG4gIH1cbn07XG52YXIgY3JlYXRlU3RhdHVzQ29kZUVycm9yUmVzcG9uc2VIYW5kbGVyID0gKCkgPT4gYXN5bmMgKHsgcmVzcG9uc2UsIHVybCwgcmVxdWVzdEJvZHlWYWx1ZXMgfSkgPT4ge1xuICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcbiAgY29uc3QgcmVzcG9uc2VCb2R5ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICByZXR1cm4ge1xuICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICB2YWx1ZTogbmV3IEFQSUNhbGxFcnJvcjMoe1xuICAgICAgbWVzc2FnZTogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgIHVybCxcbiAgICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgcmVzcG9uc2VCb2R5XG4gICAgfSlcbiAgfTtcbn07XG5cbi8vIHNyYy91aW50OC11dGlscy50c1xudmFyIHsgYnRvYSwgYXRvYiB9ID0gZ2xvYmFsVGhpcztcbmZ1bmN0aW9uIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkoYmFzZTY0U3RyaW5nKSB7XG4gIGNvbnN0IGJhc2U2NFVybCA9IGJhc2U2NFN0cmluZy5yZXBsYWNlKC8tL2csIFwiK1wiKS5yZXBsYWNlKC9fL2csIFwiL1wiKTtcbiAgY29uc3QgbGF0aW4xc3RyaW5nID0gYXRvYihiYXNlNjRVcmwpO1xuICByZXR1cm4gVWludDhBcnJheS5mcm9tKGxhdGluMXN0cmluZywgKGJ5dGUpID0+IGJ5dGUuY29kZVBvaW50QXQoMCkpO1xufVxuZnVuY3Rpb24gY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NChhcnJheSkge1xuICBsZXQgbGF0aW4xc3RyaW5nID0gXCJcIjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGxhdGluMXN0cmluZyArPSBTdHJpbmcuZnJvbUNvZGVQb2ludChhcnJheVtpXSk7XG4gIH1cbiAgcmV0dXJuIGJ0b2EobGF0aW4xc3RyaW5nKTtcbn1cblxuLy8gc3JjL3dpdGhvdXQtdHJhaWxpbmctc2xhc2gudHNcbmZ1bmN0aW9uIHdpdGhvdXRUcmFpbGluZ1NsYXNoKHVybCkge1xuICByZXR1cm4gdXJsID09IG51bGwgPyB2b2lkIDAgOiB1cmwucmVwbGFjZSgvXFwvJC8sIFwiXCIpO1xufVxuZXhwb3J0IHtcbiAgYXNWYWxpZGF0b3IsXG4gIGNvbWJpbmVIZWFkZXJzLFxuICBjb252ZXJ0QXN5bmNJdGVyYXRvclRvUmVhZGFibGVTdHJlYW0sXG4gIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXksXG4gIGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQsXG4gIGNyZWF0ZUJpbmFyeVJlc3BvbnNlSGFuZGxlcixcbiAgY3JlYXRlRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0sXG4gIGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVJZEdlbmVyYXRvcixcbiAgY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVKc29uU3RyZWFtUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVTdGF0dXNDb2RlRXJyb3JSZXNwb25zZUhhbmRsZXIsXG4gIGRlbGF5LFxuICBleHRyYWN0UmVzcG9uc2VIZWFkZXJzLFxuICBnZW5lcmF0ZUlkLFxuICBnZXRFcnJvck1lc3NhZ2UsXG4gIGdldEZyb21BcGksXG4gIGlzQWJvcnRFcnJvcixcbiAgaXNQYXJzYWJsZUpzb24sXG4gIGlzVmFsaWRhdG9yLFxuICBsb2FkQXBpS2V5LFxuICBsb2FkT3B0aW9uYWxTZXR0aW5nLFxuICBsb2FkU2V0dGluZyxcbiAgcGFyc2VKU09OLFxuICBwYXJzZVByb3ZpZGVyT3B0aW9ucyxcbiAgcG9zdEZvcm1EYXRhVG9BcGksXG4gIHBvc3RKc29uVG9BcGksXG4gIHBvc3RUb0FwaSxcbiAgcmVtb3ZlVW5kZWZpbmVkRW50cmllcyxcbiAgcmVzb2x2ZSxcbiAgc2FmZVBhcnNlSlNPTixcbiAgc2FmZVZhbGlkYXRlVHlwZXMsXG4gIHZhbGlkYXRlVHlwZXMsXG4gIHZhbGlkYXRvcixcbiAgdmFsaWRhdG9yU3ltYm9sLFxuICB3aXRob3V0VHJhaWxpbmdTbGFzaCxcbiAgem9kVmFsaWRhdG9yXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6WyJjb21iaW5lSGVhZGVycyIsImhlYWRlcnMiLCJyZWR1Y2UiLCJjb21iaW5lZEhlYWRlcnMiLCJjdXJyZW50SGVhZGVycyIsImNvbnZlcnRBc3luY0l0ZXJhdG9yVG9SZWFkYWJsZVN0cmVhbSIsIml0ZXJhdG9yIiwiUmVhZGFibGVTdHJlYW0iLCJwdWxsIiwiY29udHJvbGxlciIsInZhbHVlIiwiZG9uZSIsIm5leHQiLCJjbG9zZSIsImVucXVldWUiLCJlcnJvciIsImNhbmNlbCIsImRlbGF5IiwiZGVsYXlJbk1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZXNvbHZlMiIsInNldFRpbWVvdXQiLCJjcmVhdGVFdmVudFNvdXJjZVBhcnNlclN0cmVhbSIsImJ1ZmZlciIsImV2ZW50IiwiZGF0YSIsImxhc3RFdmVudElkIiwicmV0cnkiLCJwYXJzZUxpbmUiLCJsaW5lIiwiZGlzcGF0Y2hFdmVudCIsInN0YXJ0c1dpdGgiLCJjb2xvbkluZGV4IiwiaW5kZXhPZiIsImhhbmRsZUZpZWxkIiwiZmllbGQiLCJzbGljZSIsInZhbHVlU3RhcnQiLCJsZW5ndGgiLCJqb2luIiwiaWQiLCJwdXNoIiwicGFyc2VkUmV0cnkiLCJwYXJzZUludCIsImlzTmFOIiwiVHJhbnNmb3JtU3RyZWFtIiwidHJhbnNmb3JtIiwiY2h1bmsiLCJsaW5lcyIsImluY29tcGxldGVMaW5lIiwic3BsaXRMaW5lcyIsImkiLCJmbHVzaCIsImN1cnJlbnRMaW5lIiwiY2hhciIsImV4dHJhY3RSZXNwb25zZUhlYWRlcnMiLCJyZXNwb25zZSIsImZvckVhY2giLCJrZXkiLCJJbnZhbGlkQXJndW1lbnRFcnJvciIsImN1c3RvbUFscGhhYmV0IiwiY3JlYXRlSWRHZW5lcmF0b3IiLCJwcmVmaXgiLCJzaXplIiwiZGVmYXVsdFNpemUiLCJhbHBoYWJldCIsInNlcGFyYXRvciIsImdlbmVyYXRvciIsImluY2x1ZGVzIiwiYXJndW1lbnQiLCJtZXNzYWdlIiwiZ2VuZXJhdGVJZCIsImdldEVycm9yTWVzc2FnZSIsIkVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsIkFQSUNhbGxFcnJvciIsInJlbW92ZVVuZGVmaW5lZEVudHJpZXMiLCJyZWNvcmQiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJmaWx0ZXIiLCJfa2V5IiwiaXNBYm9ydEVycm9yIiwibmFtZSIsImdldE9yaWdpbmFsRmV0Y2giLCJnbG9iYWxUaGlzIiwiZmV0Y2giLCJnZXRGcm9tQXBpIiwidXJsIiwic3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlciIsImZhaWxlZFJlc3BvbnNlSGFuZGxlciIsImFib3J0U2lnbmFsIiwibWV0aG9kIiwic2lnbmFsIiwicmVzcG9uc2VIZWFkZXJzIiwib2siLCJlcnJvckluZm9ybWF0aW9uIiwicmVxdWVzdEJvZHlWYWx1ZXMiLCJpc0luc3RhbmNlIiwiY2F1c2UiLCJzdGF0dXNDb2RlIiwic3RhdHVzIiwiVHlwZUVycm9yIiwiaXNSZXRyeWFibGUiLCJMb2FkQVBJS2V5RXJyb3IiLCJsb2FkQXBpS2V5IiwiYXBpS2V5IiwiZW52aXJvbm1lbnRWYXJpYWJsZU5hbWUiLCJhcGlLZXlQYXJhbWV0ZXJOYW1lIiwiZGVzY3JpcHRpb24iLCJwcm9jZXNzIiwiZW52IiwibG9hZE9wdGlvbmFsU2V0dGluZyIsInNldHRpbmdWYWx1ZSIsIkxvYWRTZXR0aW5nRXJyb3IiLCJsb2FkU2V0dGluZyIsInNldHRpbmdOYW1lIiwiSlNPTlBhcnNlRXJyb3IiLCJUeXBlVmFsaWRhdGlvbkVycm9yIiwiVHlwZVZhbGlkYXRpb25FcnJvcjIiLCJTZWN1cmVKU09OIiwidmFsaWRhdG9yU3ltYm9sIiwiU3ltYm9sIiwiZm9yIiwidmFsaWRhdG9yIiwidmFsaWRhdGUiLCJpc1ZhbGlkYXRvciIsImFzVmFsaWRhdG9yIiwiem9kVmFsaWRhdG9yIiwiem9kU2NoZW1hIiwicmVzdWx0Iiwic2FmZVBhcnNlIiwic3VjY2VzcyIsInZhbGlkYXRlVHlwZXMiLCJzY2hlbWEiLCJpbnB1dFNjaGVtYSIsInNhZmVWYWxpZGF0ZVR5cGVzIiwid3JhcCIsInZhbGlkYXRvcjIiLCJwYXJzZUpTT04iLCJ0ZXh0IiwicGFyc2UiLCJzYWZlUGFyc2VKU09OIiwicmF3VmFsdWUiLCJ2YWxpZGF0aW9uUmVzdWx0IiwiaXNQYXJzYWJsZUpzb24iLCJpbnB1dCIsImUiLCJJbnZhbGlkQXJndW1lbnRFcnJvcjIiLCJwYXJzZVByb3ZpZGVyT3B0aW9ucyIsInByb3ZpZGVyIiwicHJvdmlkZXJPcHRpb25zIiwicGFyc2VkUHJvdmlkZXJPcHRpb25zIiwiQVBJQ2FsbEVycm9yMiIsImdldE9yaWdpbmFsRmV0Y2gyIiwicG9zdEpzb25Ub0FwaSIsImJvZHkiLCJwb3N0VG9BcGkiLCJjb250ZW50IiwidmFsdWVzIiwicG9zdEZvcm1EYXRhVG9BcGkiLCJmb3JtRGF0YSIsIkFQSUNhbGxFcnJvcjMiLCJFbXB0eVJlc3BvbnNlQm9keUVycm9yIiwiY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyIiwiZXJyb3JTY2hlbWEiLCJlcnJvclRvTWVzc2FnZSIsInJlc3BvbnNlQm9keSIsInRyaW0iLCJzdGF0dXNUZXh0IiwicGFyc2VkRXJyb3IiLCJwYXJzZUVycm9yIiwiY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIiLCJjaHVua1NjaGVtYSIsInBpcGVUaHJvdWdoIiwiVGV4dERlY29kZXJTdHJlYW0iLCJjcmVhdGVKc29uU3RyZWFtUmVzcG9uc2VIYW5kbGVyIiwiY2h1bmtUZXh0IiwiZW5kc1dpdGgiLCJjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyIiwicmVzcG9uc2VTY2hlbWEiLCJwYXJzZWRSZXN1bHQiLCJjcmVhdGVCaW5hcnlSZXNwb25zZUhhbmRsZXIiLCJhcnJheUJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJjcmVhdGVTdGF0dXNDb2RlRXJyb3JSZXNwb25zZUhhbmRsZXIiLCJidG9hIiwiYXRvYiIsImNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkiLCJiYXNlNjRTdHJpbmciLCJiYXNlNjRVcmwiLCJyZXBsYWNlIiwibGF0aW4xc3RyaW5nIiwiZnJvbSIsImJ5dGUiLCJjb2RlUG9pbnRBdCIsImNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQiLCJhcnJheSIsIlN0cmluZyIsImZyb21Db2RlUG9pbnQiLCJ3aXRob3V0VHJhaWxpbmdTbGFzaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@ai-sdk/provider-utils/dist/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@ai-sdk/provider/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@ai-sdk/provider/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AISDKError: () => (/* binding */ AISDKError),\n/* harmony export */   APICallError: () => (/* binding */ APICallError),\n/* harmony export */   EmptyResponseBodyError: () => (/* binding */ EmptyResponseBodyError),\n/* harmony export */   InvalidArgumentError: () => (/* binding */ InvalidArgumentError),\n/* harmony export */   InvalidPromptError: () => (/* binding */ InvalidPromptError),\n/* harmony export */   InvalidResponseDataError: () => (/* binding */ InvalidResponseDataError),\n/* harmony export */   JSONParseError: () => (/* binding */ JSONParseError),\n/* harmony export */   LoadAPIKeyError: () => (/* binding */ LoadAPIKeyError),\n/* harmony export */   LoadSettingError: () => (/* binding */ LoadSettingError),\n/* harmony export */   NoContentGeneratedError: () => (/* binding */ NoContentGeneratedError),\n/* harmony export */   NoSuchModelError: () => (/* binding */ NoSuchModelError),\n/* harmony export */   TooManyEmbeddingValuesForCallError: () => (/* binding */ TooManyEmbeddingValuesForCallError),\n/* harmony export */   TypeValidationError: () => (/* binding */ TypeValidationError),\n/* harmony export */   UnsupportedFunctionalityError: () => (/* binding */ UnsupportedFunctionalityError),\n/* harmony export */   getErrorMessage: () => (/* binding */ getErrorMessage),\n/* harmony export */   isJSONArray: () => (/* binding */ isJSONArray),\n/* harmony export */   isJSONObject: () => (/* binding */ isJSONObject),\n/* harmony export */   isJSONValue: () => (/* binding */ isJSONValue)\n/* harmony export */ });\n// src/errors/ai-sdk-error.ts\nvar marker = \"vercel.ai.error\";\nvar symbol = Symbol.for(marker);\nvar _a;\nvar _AISDKError = class _AISDKError extends Error {\n    /**\n   * Creates an AI SDK Error.\n   *\n   * @param {Object} params - The parameters for creating the error.\n   * @param {string} params.name - The name of the error.\n   * @param {string} params.message - The error message.\n   * @param {unknown} [params.cause] - The underlying cause of the error.\n   */ constructor({ name: name14, message, cause }){\n        super(message);\n        this[_a] = true;\n        this.name = name14;\n        this.cause = cause;\n    }\n    /**\n   * Checks if the given error is an AI SDK Error.\n   * @param {unknown} error - The error to check.\n   * @returns {boolean} True if the error is an AI SDK Error, false otherwise.\n   */ static isInstance(error) {\n        return _AISDKError.hasMarker(error, marker);\n    }\n    static hasMarker(error, marker15) {\n        const markerSymbol = Symbol.for(marker15);\n        return error != null && typeof error === \"object\" && markerSymbol in error && typeof error[markerSymbol] === \"boolean\" && error[markerSymbol] === true;\n    }\n};\n_a = symbol;\nvar AISDKError = _AISDKError;\n// src/errors/api-call-error.ts\nvar name = \"AI_APICallError\";\nvar marker2 = `vercel.ai.error.${name}`;\nvar symbol2 = Symbol.for(marker2);\nvar _a2;\nvar APICallError = class extends AISDKError {\n    constructor({ message, url, requestBodyValues, statusCode, responseHeaders, responseBody, cause, isRetryable = statusCode != null && (statusCode === 408 || // request timeout\n    statusCode === 409 || // conflict\n    statusCode === 429 || // too many requests\n    statusCode >= 500), // server error\n    data }){\n        super({\n            name,\n            message,\n            cause\n        });\n        this[_a2] = true;\n        this.url = url;\n        this.requestBodyValues = requestBodyValues;\n        this.statusCode = statusCode;\n        this.responseHeaders = responseHeaders;\n        this.responseBody = responseBody;\n        this.isRetryable = isRetryable;\n        this.data = data;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker2);\n    }\n};\n_a2 = symbol2;\n// src/errors/empty-response-body-error.ts\nvar name2 = \"AI_EmptyResponseBodyError\";\nvar marker3 = `vercel.ai.error.${name2}`;\nvar symbol3 = Symbol.for(marker3);\nvar _a3;\nvar EmptyResponseBodyError = class extends AISDKError {\n    // used in isInstance\n    constructor({ message = \"Empty response body\" } = {}){\n        super({\n            name: name2,\n            message\n        });\n        this[_a3] = true;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker3);\n    }\n};\n_a3 = symbol3;\n// src/errors/get-error-message.ts\nfunction getErrorMessage(error) {\n    if (error == null) {\n        return \"unknown error\";\n    }\n    if (typeof error === \"string\") {\n        return error;\n    }\n    if (error instanceof Error) {\n        return error.message;\n    }\n    return JSON.stringify(error);\n}\n// src/errors/invalid-argument-error.ts\nvar name3 = \"AI_InvalidArgumentError\";\nvar marker4 = `vercel.ai.error.${name3}`;\nvar symbol4 = Symbol.for(marker4);\nvar _a4;\nvar InvalidArgumentError = class extends AISDKError {\n    constructor({ message, cause, argument }){\n        super({\n            name: name3,\n            message,\n            cause\n        });\n        this[_a4] = true;\n        this.argument = argument;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker4);\n    }\n};\n_a4 = symbol4;\n// src/errors/invalid-prompt-error.ts\nvar name4 = \"AI_InvalidPromptError\";\nvar marker5 = `vercel.ai.error.${name4}`;\nvar symbol5 = Symbol.for(marker5);\nvar _a5;\nvar InvalidPromptError = class extends AISDKError {\n    constructor({ prompt, message, cause }){\n        super({\n            name: name4,\n            message: `Invalid prompt: ${message}`,\n            cause\n        });\n        this[_a5] = true;\n        this.prompt = prompt;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker5);\n    }\n};\n_a5 = symbol5;\n// src/errors/invalid-response-data-error.ts\nvar name5 = \"AI_InvalidResponseDataError\";\nvar marker6 = `vercel.ai.error.${name5}`;\nvar symbol6 = Symbol.for(marker6);\nvar _a6;\nvar InvalidResponseDataError = class extends AISDKError {\n    constructor({ data, message = `Invalid response data: ${JSON.stringify(data)}.` }){\n        super({\n            name: name5,\n            message\n        });\n        this[_a6] = true;\n        this.data = data;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker6);\n    }\n};\n_a6 = symbol6;\n// src/errors/json-parse-error.ts\nvar name6 = \"AI_JSONParseError\";\nvar marker7 = `vercel.ai.error.${name6}`;\nvar symbol7 = Symbol.for(marker7);\nvar _a7;\nvar JSONParseError = class extends AISDKError {\n    constructor({ text, cause }){\n        super({\n            name: name6,\n            message: `JSON parsing failed: Text: ${text}.\nError message: ${getErrorMessage(cause)}`,\n            cause\n        });\n        this[_a7] = true;\n        this.text = text;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker7);\n    }\n};\n_a7 = symbol7;\n// src/errors/load-api-key-error.ts\nvar name7 = \"AI_LoadAPIKeyError\";\nvar marker8 = `vercel.ai.error.${name7}`;\nvar symbol8 = Symbol.for(marker8);\nvar _a8;\nvar LoadAPIKeyError = class extends AISDKError {\n    // used in isInstance\n    constructor({ message }){\n        super({\n            name: name7,\n            message\n        });\n        this[_a8] = true;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker8);\n    }\n};\n_a8 = symbol8;\n// src/errors/load-setting-error.ts\nvar name8 = \"AI_LoadSettingError\";\nvar marker9 = `vercel.ai.error.${name8}`;\nvar symbol9 = Symbol.for(marker9);\nvar _a9;\nvar LoadSettingError = class extends AISDKError {\n    // used in isInstance\n    constructor({ message }){\n        super({\n            name: name8,\n            message\n        });\n        this[_a9] = true;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker9);\n    }\n};\n_a9 = symbol9;\n// src/errors/no-content-generated-error.ts\nvar name9 = \"AI_NoContentGeneratedError\";\nvar marker10 = `vercel.ai.error.${name9}`;\nvar symbol10 = Symbol.for(marker10);\nvar _a10;\nvar NoContentGeneratedError = class extends AISDKError {\n    // used in isInstance\n    constructor({ message = \"No content generated.\" } = {}){\n        super({\n            name: name9,\n            message\n        });\n        this[_a10] = true;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker10);\n    }\n};\n_a10 = symbol10;\n// src/errors/no-such-model-error.ts\nvar name10 = \"AI_NoSuchModelError\";\nvar marker11 = `vercel.ai.error.${name10}`;\nvar symbol11 = Symbol.for(marker11);\nvar _a11;\nvar NoSuchModelError = class extends AISDKError {\n    constructor({ errorName = name10, modelId, modelType, message = `No such ${modelType}: ${modelId}` }){\n        super({\n            name: errorName,\n            message\n        });\n        this[_a11] = true;\n        this.modelId = modelId;\n        this.modelType = modelType;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker11);\n    }\n};\n_a11 = symbol11;\n// src/errors/too-many-embedding-values-for-call-error.ts\nvar name11 = \"AI_TooManyEmbeddingValuesForCallError\";\nvar marker12 = `vercel.ai.error.${name11}`;\nvar symbol12 = Symbol.for(marker12);\nvar _a12;\nvar TooManyEmbeddingValuesForCallError = class extends AISDKError {\n    constructor(options){\n        super({\n            name: name11,\n            message: `Too many values for a single embedding call. The ${options.provider} model \"${options.modelId}\" can only embed up to ${options.maxEmbeddingsPerCall} values per call, but ${options.values.length} values were provided.`\n        });\n        this[_a12] = true;\n        this.provider = options.provider;\n        this.modelId = options.modelId;\n        this.maxEmbeddingsPerCall = options.maxEmbeddingsPerCall;\n        this.values = options.values;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker12);\n    }\n};\n_a12 = symbol12;\n// src/errors/type-validation-error.ts\nvar name12 = \"AI_TypeValidationError\";\nvar marker13 = `vercel.ai.error.${name12}`;\nvar symbol13 = Symbol.for(marker13);\nvar _a13;\nvar _TypeValidationError = class _TypeValidationError extends AISDKError {\n    constructor({ value, cause }){\n        super({\n            name: name12,\n            message: `Type validation failed: Value: ${JSON.stringify(value)}.\nError message: ${getErrorMessage(cause)}`,\n            cause\n        });\n        this[_a13] = true;\n        this.value = value;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker13);\n    }\n    /**\n   * Wraps an error into a TypeValidationError.\n   * If the cause is already a TypeValidationError with the same value, it returns the cause.\n   * Otherwise, it creates a new TypeValidationError.\n   *\n   * @param {Object} params - The parameters for wrapping the error.\n   * @param {unknown} params.value - The value that failed validation.\n   * @param {unknown} params.cause - The original error or cause of the validation failure.\n   * @returns {TypeValidationError} A TypeValidationError instance.\n   */ static wrap({ value, cause }) {\n        return _TypeValidationError.isInstance(cause) && cause.value === value ? cause : new _TypeValidationError({\n            value,\n            cause\n        });\n    }\n};\n_a13 = symbol13;\nvar TypeValidationError = _TypeValidationError;\n// src/errors/unsupported-functionality-error.ts\nvar name13 = \"AI_UnsupportedFunctionalityError\";\nvar marker14 = `vercel.ai.error.${name13}`;\nvar symbol14 = Symbol.for(marker14);\nvar _a14;\nvar UnsupportedFunctionalityError = class extends AISDKError {\n    constructor({ functionality, message = `'${functionality}' functionality not supported.` }){\n        super({\n            name: name13,\n            message\n        });\n        this[_a14] = true;\n        this.functionality = functionality;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker14);\n    }\n};\n_a14 = symbol14;\n// src/json-value/is-json.ts\nfunction isJSONValue(value) {\n    if (value === null || typeof value === \"string\" || typeof value === \"number\" || typeof value === \"boolean\") {\n        return true;\n    }\n    if (Array.isArray(value)) {\n        return value.every(isJSONValue);\n    }\n    if (typeof value === \"object\") {\n        return Object.entries(value).every(([key, val])=>typeof key === \"string\" && isJSONValue(val));\n    }\n    return false;\n}\nfunction isJSONArray(value) {\n    return Array.isArray(value) && value.every(isJSONValue);\n}\nfunction isJSONObject(value) {\n    return value != null && typeof value === \"object\" && Object.entries(value).every(([key, val])=>typeof key === \"string\" && isJSONValue(val));\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2QkFBNkI7QUFDN0IsSUFBSUEsU0FBUztBQUNiLElBQUlDLFNBQVNDLE9BQU9DLEdBQUcsQ0FBQ0g7QUFDeEIsSUFBSUk7QUFDSixJQUFJQyxjQUFjLE1BQU1BLG9CQUFvQkM7SUFDMUM7Ozs7Ozs7R0FPQyxHQUNEQyxZQUFZLEVBQ1ZDLE1BQU1DLE1BQU0sRUFDWkMsT0FBTyxFQUNQQyxLQUFLLEVBQ04sQ0FBRTtRQUNELEtBQUssQ0FBQ0Q7UUFDTixJQUFJLENBQUNOLEdBQUcsR0FBRztRQUNYLElBQUksQ0FBQ0ksSUFBSSxHQUFHQztRQUNaLElBQUksQ0FBQ0UsS0FBSyxHQUFHQTtJQUNmO0lBQ0E7Ozs7R0FJQyxHQUNELE9BQU9DLFdBQVdDLEtBQUssRUFBRTtRQUN2QixPQUFPUixZQUFZUyxTQUFTLENBQUNELE9BQU9iO0lBQ3RDO0lBQ0EsT0FBT2MsVUFBVUQsS0FBSyxFQUFFRSxRQUFRLEVBQUU7UUFDaEMsTUFBTUMsZUFBZWQsT0FBT0MsR0FBRyxDQUFDWTtRQUNoQyxPQUFPRixTQUFTLFFBQVEsT0FBT0EsVUFBVSxZQUFZRyxnQkFBZ0JILFNBQVMsT0FBT0EsS0FBSyxDQUFDRyxhQUFhLEtBQUssYUFBYUgsS0FBSyxDQUFDRyxhQUFhLEtBQUs7SUFDcEo7QUFDRjtBQUNBWixLQUFLSDtBQUNMLElBQUlnQixhQUFhWjtBQUVqQiwrQkFBK0I7QUFDL0IsSUFBSUcsT0FBTztBQUNYLElBQUlVLFVBQVUsQ0FBQyxnQkFBZ0IsRUFBRVYsS0FBSyxDQUFDO0FBQ3ZDLElBQUlXLFVBQVVqQixPQUFPQyxHQUFHLENBQUNlO0FBQ3pCLElBQUlFO0FBQ0osSUFBSUMsZUFBZSxjQUFjSjtJQUMvQlYsWUFBWSxFQUNWRyxPQUFPLEVBQ1BZLEdBQUcsRUFDSEMsaUJBQWlCLEVBQ2pCQyxVQUFVLEVBQ1ZD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SUFDckI7SUFDQSxJQUFJLE9BQU9ULFVBQVUsVUFBVTtRQUM3QixPQUFPYSxPQUFPQyxPQUFPLENBQUNkLE9BQU9ZLEtBQUssQ0FDaEMsQ0FBQyxDQUFDRyxLQUFLQyxJQUFJLEdBQUssT0FBT0QsUUFBUSxZQUFZTixZQUFZTztJQUUzRDtJQUNBLE9BQU87QUFDVDtBQUNBLFNBQVNDLFlBQVlqQixLQUFLO0lBQ3hCLE9BQU9VLE1BQU1DLE9BQU8sQ0FBQ1gsVUFBVUEsTUFBTVksS0FBSyxDQUFDSDtBQUM3QztBQUNBLFNBQVNTLGFBQWFsQixLQUFLO0lBQ3pCLE9BQU9BLFNBQVMsUUFBUSxPQUFPQSxVQUFVLFlBQVlhLE9BQU9DLE9BQU8sQ0FBQ2QsT0FBT1ksS0FBSyxDQUM5RSxDQUFDLENBQUNHLEtBQUtDLElBQUksR0FBSyxPQUFPRCxRQUFRLFlBQVlOLFlBQVlPO0FBRTNEO0FBb0JFLENBQ0Ysa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXIvZGlzdC9pbmRleC5tanM/NWZiMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvZXJyb3JzL2FpLXNkay1lcnJvci50c1xudmFyIG1hcmtlciA9IFwidmVyY2VsLmFpLmVycm9yXCI7XG52YXIgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xudmFyIF9hO1xudmFyIF9BSVNES0Vycm9yID0gY2xhc3MgX0FJU0RLRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIEFJIFNESyBFcnJvci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBjcmVhdGluZyB0aGUgZXJyb3IuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMubmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBlcnJvci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5tZXNzYWdlIC0gVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBwYXJhbSB7dW5rbm93bn0gW3BhcmFtcy5jYXVzZV0gLSBUaGUgdW5kZXJseWluZyBjYXVzZSBvZiB0aGUgZXJyb3IuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbmFtZTogbmFtZTE0LFxuICAgIG1lc3NhZ2UsXG4gICAgY2F1c2VcbiAgfSkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXNbX2FdID0gdHJ1ZTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lMTQ7XG4gICAgdGhpcy5jYXVzZSA9IGNhdXNlO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGVycm9yIGlzIGFuIEFJIFNESyBFcnJvci5cbiAgICogQHBhcmFtIHt1bmtub3dufSBlcnJvciAtIFRoZSBlcnJvciB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGVycm9yIGlzIGFuIEFJIFNESyBFcnJvciwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gX0FJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG4gIHN0YXRpYyBoYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjE1KSB7XG4gICAgY29uc3QgbWFya2VyU3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIxNSk7XG4gICAgcmV0dXJuIGVycm9yICE9IG51bGwgJiYgdHlwZW9mIGVycm9yID09PSBcIm9iamVjdFwiICYmIG1hcmtlclN5bWJvbCBpbiBlcnJvciAmJiB0eXBlb2YgZXJyb3JbbWFya2VyU3ltYm9sXSA9PT0gXCJib29sZWFuXCIgJiYgZXJyb3JbbWFya2VyU3ltYm9sXSA9PT0gdHJ1ZTtcbiAgfVxufTtcbl9hID0gc3ltYm9sO1xudmFyIEFJU0RLRXJyb3IgPSBfQUlTREtFcnJvcjtcblxuLy8gc3JjL2Vycm9ycy9hcGktY2FsbC1lcnJvci50c1xudmFyIG5hbWUgPSBcIkFJX0FQSUNhbGxFcnJvclwiO1xudmFyIG1hcmtlcjIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xudmFyIHN5bWJvbDIgPSBTeW1ib2wuZm9yKG1hcmtlcjIpO1xudmFyIF9hMjtcbnZhciBBUElDYWxsRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSxcbiAgICB1cmwsXG4gICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgc3RhdHVzQ29kZSxcbiAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgcmVzcG9uc2VCb2R5LFxuICAgIGNhdXNlLFxuICAgIGlzUmV0cnlhYmxlID0gc3RhdHVzQ29kZSAhPSBudWxsICYmIChzdGF0dXNDb2RlID09PSA0MDggfHwgLy8gcmVxdWVzdCB0aW1lb3V0XG4gICAgc3RhdHVzQ29kZSA9PT0gNDA5IHx8IC8vIGNvbmZsaWN0XG4gICAgc3RhdHVzQ29kZSA9PT0gNDI5IHx8IC8vIHRvbyBtYW55IHJlcXVlc3RzXG4gICAgc3RhdHVzQ29kZSA+PSA1MDApLFxuICAgIC8vIHNlcnZlciBlcnJvclxuICAgIGRhdGFcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG4gICAgdGhpc1tfYTJdID0gdHJ1ZTtcbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICB0aGlzLnJlcXVlc3RCb2R5VmFsdWVzID0gcmVxdWVzdEJvZHlWYWx1ZXM7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICB0aGlzLnJlc3BvbnNlSGVhZGVycyA9IHJlc3BvbnNlSGVhZGVycztcbiAgICB0aGlzLnJlc3BvbnNlQm9keSA9IHJlc3BvbnNlQm9keTtcbiAgICB0aGlzLmlzUmV0cnlhYmxlID0gaXNSZXRyeWFibGU7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyMik7XG4gIH1cbn07XG5fYTIgPSBzeW1ib2wyO1xuXG4vLyBzcmMvZXJyb3JzL2VtcHR5LXJlc3BvbnNlLWJvZHktZXJyb3IudHNcbnZhciBuYW1lMiA9IFwiQUlfRW1wdHlSZXNwb25zZUJvZHlFcnJvclwiO1xudmFyIG1hcmtlcjMgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTJ9YDtcbnZhciBzeW1ib2wzID0gU3ltYm9sLmZvcihtYXJrZXIzKTtcbnZhciBfYTM7XG52YXIgRW1wdHlSZXNwb25zZUJvZHlFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgPSBcIkVtcHR5IHJlc3BvbnNlIGJvZHlcIiB9ID0ge30pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWUyLCBtZXNzYWdlIH0pO1xuICAgIHRoaXNbX2EzXSA9IHRydWU7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjMpO1xuICB9XG59O1xuX2EzID0gc3ltYm9sMztcblxuLy8gc3JjL2Vycm9ycy9nZXQtZXJyb3ItbWVzc2FnZS50c1xuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKGVycm9yKSB7XG4gIGlmIChlcnJvciA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFwidW5rbm93biBlcnJvclwiO1xuICB9XG4gIGlmICh0eXBlb2YgZXJyb3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3IubWVzc2FnZTtcbiAgfVxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xufVxuXG4vLyBzcmMvZXJyb3JzL2ludmFsaWQtYXJndW1lbnQtZXJyb3IudHNcbnZhciBuYW1lMyA9IFwiQUlfSW52YWxpZEFyZ3VtZW50RXJyb3JcIjtcbnZhciBtYXJrZXI0ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUzfWA7XG52YXIgc3ltYm9sNCA9IFN5bWJvbC5mb3IobWFya2VyNCk7XG52YXIgX2E0O1xudmFyIEludmFsaWRBcmd1bWVudEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UsXG4gICAgY2F1c2UsXG4gICAgYXJndW1lbnRcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTMsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuICAgIHRoaXNbX2E0XSA9IHRydWU7XG4gICAgdGhpcy5hcmd1bWVudCA9IGFyZ3VtZW50O1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXI0KTtcbiAgfVxufTtcbl9hNCA9IHN5bWJvbDQ7XG5cbi8vIHNyYy9lcnJvcnMvaW52YWxpZC1wcm9tcHQtZXJyb3IudHNcbnZhciBuYW1lNCA9IFwiQUlfSW52YWxpZFByb21wdEVycm9yXCI7XG52YXIgbWFya2VyNSA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lNH1gO1xudmFyIHN5bWJvbDUgPSBTeW1ib2wuZm9yKG1hcmtlcjUpO1xudmFyIF9hNTtcbnZhciBJbnZhbGlkUHJvbXB0RXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2UsXG4gICAgY2F1c2VcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTQsIG1lc3NhZ2U6IGBJbnZhbGlkIHByb21wdDogJHttZXNzYWdlfWAsIGNhdXNlIH0pO1xuICAgIHRoaXNbX2E1XSA9IHRydWU7XG4gICAgdGhpcy5wcm9tcHQgPSBwcm9tcHQ7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjUpO1xuICB9XG59O1xuX2E1ID0gc3ltYm9sNTtcblxuLy8gc3JjL2Vycm9ycy9pbnZhbGlkLXJlc3BvbnNlLWRhdGEtZXJyb3IudHNcbnZhciBuYW1lNSA9IFwiQUlfSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yXCI7XG52YXIgbWFya2VyNiA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lNX1gO1xudmFyIHN5bWJvbDYgPSBTeW1ib2wuZm9yKG1hcmtlcjYpO1xudmFyIF9hNjtcbnZhciBJbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgZGF0YSxcbiAgICBtZXNzYWdlID0gYEludmFsaWQgcmVzcG9uc2UgZGF0YTogJHtKU09OLnN0cmluZ2lmeShkYXRhKX0uYFxuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lNSwgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hNl0gPSB0cnVlO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjYpO1xuICB9XG59O1xuX2E2ID0gc3ltYm9sNjtcblxuLy8gc3JjL2Vycm9ycy9qc29uLXBhcnNlLWVycm9yLnRzXG52YXIgbmFtZTYgPSBcIkFJX0pTT05QYXJzZUVycm9yXCI7XG52YXIgbWFya2VyNyA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lNn1gO1xudmFyIHN5bWJvbDcgPSBTeW1ib2wuZm9yKG1hcmtlcjcpO1xudmFyIF9hNztcbnZhciBKU09OUGFyc2VFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHsgdGV4dCwgY2F1c2UgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWU6IG5hbWU2LFxuICAgICAgbWVzc2FnZTogYEpTT04gcGFyc2luZyBmYWlsZWQ6IFRleHQ6ICR7dGV4dH0uXG5FcnJvciBtZXNzYWdlOiAke2dldEVycm9yTWVzc2FnZShjYXVzZSl9YCxcbiAgICAgIGNhdXNlXG4gICAgfSk7XG4gICAgdGhpc1tfYTddID0gdHJ1ZTtcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXI3KTtcbiAgfVxufTtcbl9hNyA9IHN5bWJvbDc7XG5cbi8vIHNyYy9lcnJvcnMvbG9hZC1hcGkta2V5LWVycm9yLnRzXG52YXIgbmFtZTcgPSBcIkFJX0xvYWRBUElLZXlFcnJvclwiO1xudmFyIG1hcmtlcjggPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTd9YDtcbnZhciBzeW1ib2w4ID0gU3ltYm9sLmZvcihtYXJrZXI4KTtcbnZhciBfYTg7XG52YXIgTG9hZEFQSUtleUVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lNywgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hOF0gPSB0cnVlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXI4KTtcbiAgfVxufTtcbl9hOCA9IHN5bWJvbDg7XG5cbi8vIHNyYy9lcnJvcnMvbG9hZC1zZXR0aW5nLWVycm9yLnRzXG52YXIgbmFtZTggPSBcIkFJX0xvYWRTZXR0aW5nRXJyb3JcIjtcbnZhciBtYXJrZXI5ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU4fWA7XG52YXIgc3ltYm9sOSA9IFN5bWJvbC5mb3IobWFya2VyOSk7XG52YXIgX2E5O1xudmFyIExvYWRTZXR0aW5nRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICAvLyB1c2VkIGluIGlzSW5zdGFuY2VcbiAgY29uc3RydWN0b3IoeyBtZXNzYWdlIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWU4LCBtZXNzYWdlIH0pO1xuICAgIHRoaXNbX2E5XSA9IHRydWU7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjkpO1xuICB9XG59O1xuX2E5ID0gc3ltYm9sOTtcblxuLy8gc3JjL2Vycm9ycy9uby1jb250ZW50LWdlbmVyYXRlZC1lcnJvci50c1xudmFyIG5hbWU5ID0gXCJBSV9Ob0NvbnRlbnRHZW5lcmF0ZWRFcnJvclwiO1xudmFyIG1hcmtlcjEwID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU5fWA7XG52YXIgc3ltYm9sMTAgPSBTeW1ib2wuZm9yKG1hcmtlcjEwKTtcbnZhciBfYTEwO1xudmFyIE5vQ29udGVudEdlbmVyYXRlZEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gXCJObyBjb250ZW50IGdlbmVyYXRlZC5cIlxuICB9ID0ge30pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWU5LCBtZXNzYWdlIH0pO1xuICAgIHRoaXNbX2ExMF0gPSB0cnVlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxMCk7XG4gIH1cbn07XG5fYTEwID0gc3ltYm9sMTA7XG5cbi8vIHNyYy9lcnJvcnMvbm8tc3VjaC1tb2RlbC1lcnJvci50c1xudmFyIG5hbWUxMCA9IFwiQUlfTm9TdWNoTW9kZWxFcnJvclwiO1xudmFyIG1hcmtlcjExID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUxMH1gO1xudmFyIHN5bWJvbDExID0gU3ltYm9sLmZvcihtYXJrZXIxMSk7XG52YXIgX2ExMTtcbnZhciBOb1N1Y2hNb2RlbEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGVycm9yTmFtZSA9IG5hbWUxMCxcbiAgICBtb2RlbElkLFxuICAgIG1vZGVsVHlwZSxcbiAgICBtZXNzYWdlID0gYE5vIHN1Y2ggJHttb2RlbFR5cGV9OiAke21vZGVsSWR9YFxuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBlcnJvck5hbWUsIG1lc3NhZ2UgfSk7XG4gICAgdGhpc1tfYTExXSA9IHRydWU7XG4gICAgdGhpcy5tb2RlbElkID0gbW9kZWxJZDtcbiAgICB0aGlzLm1vZGVsVHlwZSA9IG1vZGVsVHlwZTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyMTEpO1xuICB9XG59O1xuX2ExMSA9IHN5bWJvbDExO1xuXG4vLyBzcmMvZXJyb3JzL3Rvby1tYW55LWVtYmVkZGluZy12YWx1ZXMtZm9yLWNhbGwtZXJyb3IudHNcbnZhciBuYW1lMTEgPSBcIkFJX1Rvb01hbnlFbWJlZGRpbmdWYWx1ZXNGb3JDYWxsRXJyb3JcIjtcbnZhciBtYXJrZXIxMiA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lMTF9YDtcbnZhciBzeW1ib2wxMiA9IFN5bWJvbC5mb3IobWFya2VyMTIpO1xudmFyIF9hMTI7XG52YXIgVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lOiBuYW1lMTEsXG4gICAgICBtZXNzYWdlOiBgVG9vIG1hbnkgdmFsdWVzIGZvciBhIHNpbmdsZSBlbWJlZGRpbmcgY2FsbC4gVGhlICR7b3B0aW9ucy5wcm92aWRlcn0gbW9kZWwgXCIke29wdGlvbnMubW9kZWxJZH1cIiBjYW4gb25seSBlbWJlZCB1cCB0byAke29wdGlvbnMubWF4RW1iZWRkaW5nc1BlckNhbGx9IHZhbHVlcyBwZXIgY2FsbCwgYnV0ICR7b3B0aW9ucy52YWx1ZXMubGVuZ3RofSB2YWx1ZXMgd2VyZSBwcm92aWRlZC5gXG4gICAgfSk7XG4gICAgdGhpc1tfYTEyXSA9IHRydWU7XG4gICAgdGhpcy5wcm92aWRlciA9IG9wdGlvbnMucHJvdmlkZXI7XG4gICAgdGhpcy5tb2RlbElkID0gb3B0aW9ucy5tb2RlbElkO1xuICAgIHRoaXMubWF4RW1iZWRkaW5nc1BlckNhbGwgPSBvcHRpb25zLm1heEVtYmVkZGluZ3NQZXJDYWxsO1xuICAgIHRoaXMudmFsdWVzID0gb3B0aW9ucy52YWx1ZXM7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjEyKTtcbiAgfVxufTtcbl9hMTIgPSBzeW1ib2wxMjtcblxuLy8gc3JjL2Vycm9ycy90eXBlLXZhbGlkYXRpb24tZXJyb3IudHNcbnZhciBuYW1lMTIgPSBcIkFJX1R5cGVWYWxpZGF0aW9uRXJyb3JcIjtcbnZhciBtYXJrZXIxMyA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lMTJ9YDtcbnZhciBzeW1ib2wxMyA9IFN5bWJvbC5mb3IobWFya2VyMTMpO1xudmFyIF9hMTM7XG52YXIgX1R5cGVWYWxpZGF0aW9uRXJyb3IgPSBjbGFzcyBfVHlwZVZhbGlkYXRpb25FcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7IHZhbHVlLCBjYXVzZSB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgbmFtZTogbmFtZTEyLFxuICAgICAgbWVzc2FnZTogYFR5cGUgdmFsaWRhdGlvbiBmYWlsZWQ6IFZhbHVlOiAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0uXG5FcnJvciBtZXNzYWdlOiAke2dldEVycm9yTWVzc2FnZShjYXVzZSl9YCxcbiAgICAgIGNhdXNlXG4gICAgfSk7XG4gICAgdGhpc1tfYTEzXSA9IHRydWU7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxMyk7XG4gIH1cbiAgLyoqXG4gICAqIFdyYXBzIGFuIGVycm9yIGludG8gYSBUeXBlVmFsaWRhdGlvbkVycm9yLlxuICAgKiBJZiB0aGUgY2F1c2UgaXMgYWxyZWFkeSBhIFR5cGVWYWxpZGF0aW9uRXJyb3Igd2l0aCB0aGUgc2FtZSB2YWx1ZSwgaXQgcmV0dXJucyB0aGUgY2F1c2UuXG4gICAqIE90aGVyd2lzZSwgaXQgY3JlYXRlcyBhIG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHdyYXBwaW5nIHRoZSBlcnJvci5cbiAgICogQHBhcmFtIHt1bmtub3dufSBwYXJhbXMudmFsdWUgLSBUaGUgdmFsdWUgdGhhdCBmYWlsZWQgdmFsaWRhdGlvbi5cbiAgICogQHBhcmFtIHt1bmtub3dufSBwYXJhbXMuY2F1c2UgLSBUaGUgb3JpZ2luYWwgZXJyb3Igb3IgY2F1c2Ugb2YgdGhlIHZhbGlkYXRpb24gZmFpbHVyZS5cbiAgICogQHJldHVybnMge1R5cGVWYWxpZGF0aW9uRXJyb3J9IEEgVHlwZVZhbGlkYXRpb25FcnJvciBpbnN0YW5jZS5cbiAgICovXG4gIHN0YXRpYyB3cmFwKHtcbiAgICB2YWx1ZSxcbiAgICBjYXVzZVxuICB9KSB7XG4gICAgcmV0dXJuIF9UeXBlVmFsaWRhdGlvbkVycm9yLmlzSW5zdGFuY2UoY2F1c2UpICYmIGNhdXNlLnZhbHVlID09PSB2YWx1ZSA/IGNhdXNlIDogbmV3IF9UeXBlVmFsaWRhdGlvbkVycm9yKHsgdmFsdWUsIGNhdXNlIH0pO1xuICB9XG59O1xuX2ExMyA9IHN5bWJvbDEzO1xudmFyIFR5cGVWYWxpZGF0aW9uRXJyb3IgPSBfVHlwZVZhbGlkYXRpb25FcnJvcjtcblxuLy8gc3JjL2Vycm9ycy91bnN1cHBvcnRlZC1mdW5jdGlvbmFsaXR5LWVycm9yLnRzXG52YXIgbmFtZTEzID0gXCJBSV9VbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvclwiO1xudmFyIG1hcmtlcjE0ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUxM31gO1xudmFyIHN5bWJvbDE0ID0gU3ltYm9sLmZvcihtYXJrZXIxNCk7XG52YXIgX2ExNDtcbnZhciBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBmdW5jdGlvbmFsaXR5LFxuICAgIG1lc3NhZ2UgPSBgJyR7ZnVuY3Rpb25hbGl0eX0nIGZ1bmN0aW9uYWxpdHkgbm90IHN1cHBvcnRlZC5gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWUxMywgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hMTRdID0gdHJ1ZTtcbiAgICB0aGlzLmZ1bmN0aW9uYWxpdHkgPSBmdW5jdGlvbmFsaXR5O1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxNCk7XG4gIH1cbn07XG5fYTE0ID0gc3ltYm9sMTQ7XG5cbi8vIHNyYy9qc29uLXZhbHVlL2lzLWpzb24udHNcbmZ1bmN0aW9uIGlzSlNPTlZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUuZXZlcnkoaXNKU09OVmFsdWUpO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModmFsdWUpLmV2ZXJ5KFxuICAgICAgKFtrZXksIHZhbF0pID0+IHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgJiYgaXNKU09OVmFsdWUodmFsKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNKU09OQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmV2ZXJ5KGlzSlNPTlZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzSlNPTk9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgT2JqZWN0LmVudHJpZXModmFsdWUpLmV2ZXJ5KFxuICAgIChba2V5LCB2YWxdKSA9PiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICYmIGlzSlNPTlZhbHVlKHZhbClcbiAgKTtcbn1cbmV4cG9ydCB7XG4gIEFJU0RLRXJyb3IsXG4gIEFQSUNhbGxFcnJvcixcbiAgRW1wdHlSZXNwb25zZUJvZHlFcnJvcixcbiAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gIEludmFsaWRQcm9tcHRFcnJvcixcbiAgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yLFxuICBKU09OUGFyc2VFcnJvcixcbiAgTG9hZEFQSUtleUVycm9yLFxuICBMb2FkU2V0dGluZ0Vycm9yLFxuICBOb0NvbnRlbnRHZW5lcmF0ZWRFcnJvcixcbiAgTm9TdWNoTW9kZWxFcnJvcixcbiAgVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvcixcbiAgVHlwZVZhbGlkYXRpb25FcnJvcixcbiAgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IsXG4gIGdldEVycm9yTWVzc2FnZSxcbiAgaXNKU09OQXJyYXksXG4gIGlzSlNPTk9iamVjdCxcbiAgaXNKU09OVmFsdWVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbIm1hcmtlciIsInN5bWJvbCIsIlN5bWJvbCIsImZvciIsIl9hIiwiX0FJU0RLRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibmFtZSIsIm5hbWUxNCIsIm1lc3NhZ2UiLCJjYXVzZSIsImlzSW5zdGFuY2UiLCJlcnJvciIsImhhc01hcmtlciIsIm1hcmtlcjE1IiwibWFya2VyU3ltYm9sIiwiQUlTREtFcnJvciIsIm1hcmtlcjIiLCJzeW1ib2wyIiwiX2EyIiwiQVBJQ2FsbEVycm9yIiwidXJsIiwicmVxdWVzdEJvZHlWYWx1ZXMiLCJzdGF0dXNDb2RlIiwicmVzcG9uc2VIZWFkZXJzIiwicmVzcG9uc2VCb2R5IiwiaXNSZXRyeWFibGUiLCJkYXRhIiwibmFtZTIiLCJtYXJrZXIzIiwic3ltYm9sMyIsIl9hMyIsIkVtcHR5UmVzcG9uc2VCb2R5RXJyb3IiLCJnZXRFcnJvck1lc3NhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwibmFtZTMiLCJtYXJrZXI0Iiwic3ltYm9sNCIsIl9hNCIsIkludmFsaWRBcmd1bWVudEVycm9yIiwiYXJndW1lbnQiLCJuYW1lNCIsIm1hcmtlcjUiLCJzeW1ib2w1IiwiX2E1IiwiSW52YWxpZFByb21wdEVycm9yIiwicHJvbXB0IiwibmFtZTUiLCJtYXJrZXI2Iiwic3ltYm9sNiIsIl9hNiIsIkludmFsaWRSZXNwb25zZURhdGFFcnJvciIsIm5hbWU2IiwibWFya2VyNyIsInN5bWJvbDciLCJfYTciLCJKU09OUGFyc2VFcnJvciIsInRleHQiLCJuYW1lNyIsIm1hcmtlcjgiLCJzeW1ib2w4IiwiX2E4IiwiTG9hZEFQSUtleUVycm9yIiwibmFtZTgiLCJtYXJrZXI5Iiwic3ltYm9sOSIsIl9hOSIsIkxvYWRTZXR0aW5nRXJyb3IiLCJuYW1lOSIsIm1hcmtlcjEwIiwic3ltYm9sMTAiLCJfYTEwIiwiTm9Db250ZW50R2VuZXJhdGVkRXJyb3IiLCJuYW1lMTAiLCJtYXJrZXIxMSIsInN5bWJvbDExIiwiX2ExMSIsIk5vU3VjaE1vZGVsRXJyb3IiLCJlcnJvck5hbWUiLCJtb2RlbElkIiwibW9kZWxUeXBlIiwibmFtZTExIiwibWFya2VyMTIiLCJzeW1ib2wxMiIsIl9hMTIiLCJUb29NYW55RW1iZWRkaW5nVmFsdWVzRm9yQ2FsbEVycm9yIiwib3B0aW9ucyIsInByb3ZpZGVyIiwibWF4RW1iZWRkaW5nc1BlckNhbGwiLCJ2YWx1ZXMiLCJsZW5ndGgiLCJuYW1lMTIiLCJtYXJrZXIxMyIsInN5bWJvbDEzIiwiX2ExMyIsIl9UeXBlVmFsaWRhdGlvbkVycm9yIiwidmFsdWUiLCJ3cmFwIiwiVHlwZVZhbGlkYXRpb25FcnJvciIsIm5hbWUxMyIsIm1hcmtlcjE0Iiwic3ltYm9sMTQiLCJfYTE0IiwiVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IiLCJmdW5jdGlvbmFsaXR5IiwiaXNKU09OVmFsdWUiLCJBcnJheSIsImlzQXJyYXkiLCJldmVyeSIsIk9iamVjdCIsImVudHJpZXMiLCJrZXkiLCJ2YWwiLCJpc0pTT05BcnJheSIsImlzSlNPTk9iamVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@ai-sdk/provider/dist/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@ai-sdk/ui-utils/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@ai-sdk/ui-utils/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asSchema: () => (/* binding */ asSchema),\n/* harmony export */   callChatApi: () => (/* binding */ callChatApi),\n/* harmony export */   callCompletionApi: () => (/* binding */ callCompletionApi),\n/* harmony export */   extractMaxToolInvocationStep: () => (/* binding */ extractMaxToolInvocationStep),\n/* harmony export */   fillMessageParts: () => (/* binding */ fillMessageParts),\n/* harmony export */   formatAssistantStreamPart: () => (/* binding */ formatAssistantStreamPart),\n/* harmony export */   formatDataStreamPart: () => (/* binding */ formatDataStreamPart),\n/* harmony export */   generateId: () => (/* reexport safe */ _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId),\n/* harmony export */   getMessageParts: () => (/* binding */ getMessageParts),\n/* harmony export */   getTextFromDataUrl: () => (/* binding */ getTextFromDataUrl),\n/* harmony export */   isAssistantMessageWithCompletedToolCalls: () => (/* binding */ isAssistantMessageWithCompletedToolCalls),\n/* harmony export */   isDeepEqualData: () => (/* binding */ isDeepEqualData),\n/* harmony export */   jsonSchema: () => (/* binding */ jsonSchema),\n/* harmony export */   parseAssistantStreamPart: () => (/* binding */ parseAssistantStreamPart),\n/* harmony export */   parseDataStreamPart: () => (/* binding */ parseDataStreamPart),\n/* harmony export */   parsePartialJson: () => (/* binding */ parsePartialJson),\n/* harmony export */   prepareAttachmentsForRequest: () => (/* binding */ prepareAttachmentsForRequest),\n/* harmony export */   processAssistantStream: () => (/* binding */ processAssistantStream),\n/* harmony export */   processDataStream: () => (/* binding */ processDataStream),\n/* harmony export */   processTextStream: () => (/* binding */ processTextStream),\n/* harmony export */   shouldResubmitMessages: () => (/* binding */ shouldResubmitMessages),\n/* harmony export */   updateToolCallResult: () => (/* binding */ updateToolCallResult),\n/* harmony export */   zodSchema: () => (/* binding */ zodSchema)\n/* harmony export */ });\n/* harmony import */ var _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ai-sdk/provider-utils */ \"(rsc)/./node_modules/@ai-sdk/provider-utils/dist/index.mjs\");\n/* harmony import */ var zod_to_json_schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod-to-json-schema */ \"(rsc)/./node_modules/zod-to-json-schema/dist/esm/index.js\");\n// src/index.ts\n\n// src/assistant-stream-parts.ts\nvar textStreamPart = {\n    code: \"0\",\n    name: \"text\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"text\" parts expect a string value.');\n        }\n        return {\n            type: \"text\",\n            value\n        };\n    }\n};\nvar errorStreamPart = {\n    code: \"3\",\n    name: \"error\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"error\" parts expect a string value.');\n        }\n        return {\n            type: \"error\",\n            value\n        };\n    }\n};\nvar assistantMessageStreamPart = {\n    code: \"4\",\n    name: \"assistant_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"id\" in value) || !(\"role\" in value) || !(\"content\" in value) || typeof value.id !== \"string\" || typeof value.role !== \"string\" || value.role !== \"assistant\" || !Array.isArray(value.content) || !value.content.every((item)=>item != null && typeof item === \"object\" && \"type\" in item && item.type === \"text\" && \"text\" in item && item.text != null && typeof item.text === \"object\" && \"value\" in item.text && typeof item.text.value === \"string\")) {\n            throw new Error('\"assistant_message\" parts expect an object with an \"id\", \"role\", and \"content\" property.');\n        }\n        return {\n            type: \"assistant_message\",\n            value\n        };\n    }\n};\nvar assistantControlDataStreamPart = {\n    code: \"5\",\n    name: \"assistant_control_data\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"threadId\" in value) || !(\"messageId\" in value) || typeof value.threadId !== \"string\" || typeof value.messageId !== \"string\") {\n            throw new Error('\"assistant_control_data\" parts expect an object with a \"threadId\" and \"messageId\" property.');\n        }\n        return {\n            type: \"assistant_control_data\",\n            value: {\n                threadId: value.threadId,\n                messageId: value.messageId\n            }\n        };\n    }\n};\nvar dataMessageStreamPart = {\n    code: \"6\",\n    name: \"data_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"role\" in value) || !(\"data\" in value) || typeof value.role !== \"string\" || value.role !== \"data\") {\n            throw new Error('\"data_message\" parts expect an object with a \"role\" and \"data\" property.');\n        }\n        return {\n            type: \"data_message\",\n            value\n        };\n    }\n};\nvar assistantStreamParts = [\n    textStreamPart,\n    errorStreamPart,\n    assistantMessageStreamPart,\n    assistantControlDataStreamPart,\n    dataMessageStreamPart\n];\nvar assistantStreamPartsByCode = {\n    [textStreamPart.code]: textStreamPart,\n    [errorStreamPart.code]: errorStreamPart,\n    [assistantMessageStreamPart.code]: assistantMessageStreamPart,\n    [assistantControlDataStreamPart.code]: assistantControlDataStreamPart,\n    [dataMessageStreamPart.code]: dataMessageStreamPart\n};\nvar StreamStringPrefixes = {\n    [textStreamPart.name]: textStreamPart.code,\n    [errorStreamPart.name]: errorStreamPart.code,\n    [assistantMessageStreamPart.name]: assistantMessageStreamPart.code,\n    [assistantControlDataStreamPart.name]: assistantControlDataStreamPart.code,\n    [dataMessageStreamPart.name]: dataMessageStreamPart.code\n};\nvar validCodes = assistantStreamParts.map((part)=>part.code);\nvar parseAssistantStreamPart = (line)=>{\n    const firstSeparatorIndex = line.indexOf(\":\");\n    if (firstSeparatorIndex === -1) {\n        throw new Error(\"Failed to parse stream string. No separator found.\");\n    }\n    const prefix = line.slice(0, firstSeparatorIndex);\n    if (!validCodes.includes(prefix)) {\n        throw new Error(`Failed to parse stream string. Invalid code ${prefix}.`);\n    }\n    const code = prefix;\n    const textValue = line.slice(firstSeparatorIndex + 1);\n    const jsonValue = JSON.parse(textValue);\n    return assistantStreamPartsByCode[code].parse(jsonValue);\n};\nfunction formatAssistantStreamPart(type, value) {\n    const streamPart = assistantStreamParts.find((part)=>part.name === type);\n    if (!streamPart) {\n        throw new Error(`Invalid stream part type: ${type}`);\n    }\n    return `${streamPart.code}:${JSON.stringify(value)}\n`;\n}\n// src/process-chat-response.ts\n\n// src/duplicated/usage.ts\nfunction calculateLanguageModelUsage({ promptTokens, completionTokens }) {\n    return {\n        promptTokens,\n        completionTokens,\n        totalTokens: promptTokens + completionTokens\n    };\n}\n// src/parse-partial-json.ts\n\n// src/fix-json.ts\nfunction fixJson(input) {\n    const stack = [\n        \"ROOT\"\n    ];\n    let lastValidIndex = -1;\n    let literalStart = null;\n    function processValueStart(char, i, swapState) {\n        {\n            switch(char){\n                case '\"':\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_STRING\");\n                        break;\n                    }\n                case \"f\":\n                case \"t\":\n                case \"n\":\n                    {\n                        lastValidIndex = i;\n                        literalStart = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_LITERAL\");\n                        break;\n                    }\n                case \"-\":\n                    {\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_NUMBER\");\n                        break;\n                    }\n                case \"0\":\n                case \"1\":\n                case \"2\":\n                case \"3\":\n                case \"4\":\n                case \"5\":\n                case \"6\":\n                case \"7\":\n                case \"8\":\n                case \"9\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_NUMBER\");\n                        break;\n                    }\n                case \"{\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_OBJECT_START\");\n                        break;\n                    }\n                case \"[\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_ARRAY_START\");\n                        break;\n                    }\n            }\n        }\n    }\n    function processAfterObjectValue(char, i) {\n        switch(char){\n            case \",\":\n                {\n                    stack.pop();\n                    stack.push(\"INSIDE_OBJECT_AFTER_COMMA\");\n                    break;\n                }\n            case \"}\":\n                {\n                    lastValidIndex = i;\n                    stack.pop();\n                    break;\n                }\n        }\n    }\n    function processAfterArrayValue(char, i) {\n        switch(char){\n            case \",\":\n                {\n                    stack.pop();\n                    stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n                    break;\n                }\n            case \"]\":\n                {\n                    lastValidIndex = i;\n                    stack.pop();\n                    break;\n                }\n        }\n    }\n    for(let i = 0; i < input.length; i++){\n        const char = input[i];\n        const currentState = stack[stack.length - 1];\n        switch(currentState){\n            case \"ROOT\":\n                processValueStart(char, i, \"FINISH\");\n                break;\n            case \"INSIDE_OBJECT_START\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_KEY\");\n                                break;\n                            }\n                        case \"}\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_COMMA\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_KEY\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_KEY\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_AFTER_KEY\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_KEY\":\n                {\n                    switch(char){\n                        case \":\":\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_BEFORE_VALUE\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_BEFORE_VALUE\":\n                {\n                    processValueStart(char, i, \"INSIDE_OBJECT_AFTER_VALUE\");\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_VALUE\":\n                {\n                    processAfterObjectValue(char, i);\n                    break;\n                }\n            case \"INSIDE_STRING\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                lastValidIndex = i;\n                                break;\n                            }\n                        case \"\\\\\":\n                            {\n                                stack.push(\"INSIDE_STRING_ESCAPE\");\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_START\":\n                {\n                    switch(char){\n                        case \"]\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                                processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_AFTER_VALUE\":\n                {\n                    switch(char){\n                        case \",\":\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n                                break;\n                            }\n                        case \"]\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_AFTER_COMMA\":\n                {\n                    processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n                    break;\n                }\n            case \"INSIDE_STRING_ESCAPE\":\n                {\n                    stack.pop();\n                    lastValidIndex = i;\n                    break;\n                }\n            case \"INSIDE_NUMBER\":\n                {\n                    switch(char){\n                        case \"0\":\n                        case \"1\":\n                        case \"2\":\n                        case \"3\":\n                        case \"4\":\n                        case \"5\":\n                        case \"6\":\n                        case \"7\":\n                        case \"8\":\n                        case \"9\":\n                            {\n                                lastValidIndex = i;\n                                break;\n                            }\n                        case \"e\":\n                        case \"E\":\n                        case \"-\":\n                        case \".\":\n                            {\n                                break;\n                            }\n                        case \",\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                                    processAfterArrayValue(char, i);\n                                }\n                                if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                                    processAfterObjectValue(char, i);\n                                }\n                                break;\n                            }\n                        case \"}\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                                    processAfterObjectValue(char, i);\n                                }\n                                break;\n                            }\n                        case \"]\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                                    processAfterArrayValue(char, i);\n                                }\n                                break;\n                            }\n                        default:\n                            {\n                                stack.pop();\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_LITERAL\":\n                {\n                    const partialLiteral = input.substring(literalStart, i + 1);\n                    if (!\"false\".startsWith(partialLiteral) && !\"true\".startsWith(partialLiteral) && !\"null\".startsWith(partialLiteral)) {\n                        stack.pop();\n                        if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                            processAfterObjectValue(char, i);\n                        } else if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                            processAfterArrayValue(char, i);\n                        }\n                    } else {\n                        lastValidIndex = i;\n                    }\n                    break;\n                }\n        }\n    }\n    let result = input.slice(0, lastValidIndex + 1);\n    for(let i = stack.length - 1; i >= 0; i--){\n        const state = stack[i];\n        switch(state){\n            case \"INSIDE_STRING\":\n                {\n                    result += '\"';\n                    break;\n                }\n            case \"INSIDE_OBJECT_KEY\":\n            case \"INSIDE_OBJECT_AFTER_KEY\":\n            case \"INSIDE_OBJECT_AFTER_COMMA\":\n            case \"INSIDE_OBJECT_START\":\n            case \"INSIDE_OBJECT_BEFORE_VALUE\":\n            case \"INSIDE_OBJECT_AFTER_VALUE\":\n                {\n                    result += \"}\";\n                    break;\n                }\n            case \"INSIDE_ARRAY_START\":\n            case \"INSIDE_ARRAY_AFTER_COMMA\":\n            case \"INSIDE_ARRAY_AFTER_VALUE\":\n                {\n                    result += \"]\";\n                    break;\n                }\n            case \"INSIDE_LITERAL\":\n                {\n                    const partialLiteral = input.substring(literalStart, input.length);\n                    if (\"true\".startsWith(partialLiteral)) {\n                        result += \"true\".slice(partialLiteral.length);\n                    } else if (\"false\".startsWith(partialLiteral)) {\n                        result += \"false\".slice(partialLiteral.length);\n                    } else if (\"null\".startsWith(partialLiteral)) {\n                        result += \"null\".slice(partialLiteral.length);\n                    }\n                }\n        }\n    }\n    return result;\n}\n// src/parse-partial-json.ts\nfunction parsePartialJson(jsonText) {\n    if (jsonText === void 0) {\n        return {\n            value: void 0,\n            state: \"undefined-input\"\n        };\n    }\n    let result = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.safeParseJSON)({\n        text: jsonText\n    });\n    if (result.success) {\n        return {\n            value: result.value,\n            state: \"successful-parse\"\n        };\n    }\n    result = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.safeParseJSON)({\n        text: fixJson(jsonText)\n    });\n    if (result.success) {\n        return {\n            value: result.value,\n            state: \"repaired-parse\"\n        };\n    }\n    return {\n        value: void 0,\n        state: \"failed-parse\"\n    };\n}\n// src/data-stream-parts.ts\nvar textStreamPart2 = {\n    code: \"0\",\n    name: \"text\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"text\" parts expect a string value.');\n        }\n        return {\n            type: \"text\",\n            value\n        };\n    }\n};\nvar dataStreamPart = {\n    code: \"2\",\n    name: \"data\",\n    parse: (value)=>{\n        if (!Array.isArray(value)) {\n            throw new Error('\"data\" parts expect an array value.');\n        }\n        return {\n            type: \"data\",\n            value\n        };\n    }\n};\nvar errorStreamPart2 = {\n    code: \"3\",\n    name: \"error\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"error\" parts expect a string value.');\n        }\n        return {\n            type: \"error\",\n            value\n        };\n    }\n};\nvar messageAnnotationsStreamPart = {\n    code: \"8\",\n    name: \"message_annotations\",\n    parse: (value)=>{\n        if (!Array.isArray(value)) {\n            throw new Error('\"message_annotations\" parts expect an array value.');\n        }\n        return {\n            type: \"message_annotations\",\n            value\n        };\n    }\n};\nvar toolCallStreamPart = {\n    code: \"9\",\n    name: \"tool_call\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"toolName\" in value) || typeof value.toolName !== \"string\" || !(\"args\" in value) || typeof value.args !== \"object\") {\n            throw new Error('\"tool_call\" parts expect an object with a \"toolCallId\", \"toolName\", and \"args\" property.');\n        }\n        return {\n            type: \"tool_call\",\n            value\n        };\n    }\n};\nvar toolResultStreamPart = {\n    code: \"a\",\n    name: \"tool_result\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"result\" in value)) {\n            throw new Error('\"tool_result\" parts expect an object with a \"toolCallId\" and a \"result\" property.');\n        }\n        return {\n            type: \"tool_result\",\n            value\n        };\n    }\n};\nvar toolCallStreamingStartStreamPart = {\n    code: \"b\",\n    name: \"tool_call_streaming_start\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"toolName\" in value) || typeof value.toolName !== \"string\") {\n            throw new Error('\"tool_call_streaming_start\" parts expect an object with a \"toolCallId\" and \"toolName\" property.');\n        }\n        return {\n            type: \"tool_call_streaming_start\",\n            value\n        };\n    }\n};\nvar toolCallDeltaStreamPart = {\n    code: \"c\",\n    name: \"tool_call_delta\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"argsTextDelta\" in value) || typeof value.argsTextDelta !== \"string\") {\n            throw new Error('\"tool_call_delta\" parts expect an object with a \"toolCallId\" and \"argsTextDelta\" property.');\n        }\n        return {\n            type: \"tool_call_delta\",\n            value\n        };\n    }\n};\nvar finishMessageStreamPart = {\n    code: \"d\",\n    name: \"finish_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"finishReason\" in value) || typeof value.finishReason !== \"string\") {\n            throw new Error('\"finish_message\" parts expect an object with a \"finishReason\" property.');\n        }\n        const result = {\n            finishReason: value.finishReason\n        };\n        if (\"usage\" in value && value.usage != null && typeof value.usage === \"object\" && \"promptTokens\" in value.usage && \"completionTokens\" in value.usage) {\n            result.usage = {\n                promptTokens: typeof value.usage.promptTokens === \"number\" ? value.usage.promptTokens : Number.NaN,\n                completionTokens: typeof value.usage.completionTokens === \"number\" ? value.usage.completionTokens : Number.NaN\n            };\n        }\n        return {\n            type: \"finish_message\",\n            value: result\n        };\n    }\n};\nvar finishStepStreamPart = {\n    code: \"e\",\n    name: \"finish_step\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"finishReason\" in value) || typeof value.finishReason !== \"string\") {\n            throw new Error('\"finish_step\" parts expect an object with a \"finishReason\" property.');\n        }\n        const result = {\n            finishReason: value.finishReason,\n            isContinued: false\n        };\n        if (\"usage\" in value && value.usage != null && typeof value.usage === \"object\" && \"promptTokens\" in value.usage && \"completionTokens\" in value.usage) {\n            result.usage = {\n                promptTokens: typeof value.usage.promptTokens === \"number\" ? value.usage.promptTokens : Number.NaN,\n                completionTokens: typeof value.usage.completionTokens === \"number\" ? value.usage.completionTokens : Number.NaN\n            };\n        }\n        if (\"isContinued\" in value && typeof value.isContinued === \"boolean\") {\n            result.isContinued = value.isContinued;\n        }\n        return {\n            type: \"finish_step\",\n            value: result\n        };\n    }\n};\nvar startStepStreamPart = {\n    code: \"f\",\n    name: \"start_step\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"messageId\" in value) || typeof value.messageId !== \"string\") {\n            throw new Error('\"start_step\" parts expect an object with an \"id\" property.');\n        }\n        return {\n            type: \"start_step\",\n            value: {\n                messageId: value.messageId\n            }\n        };\n    }\n};\nvar reasoningStreamPart = {\n    code: \"g\",\n    name: \"reasoning\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"reasoning\" parts expect a string value.');\n        }\n        return {\n            type: \"reasoning\",\n            value\n        };\n    }\n};\nvar sourcePart = {\n    code: \"h\",\n    name: \"source\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\") {\n            throw new Error('\"source\" parts expect a Source object.');\n        }\n        return {\n            type: \"source\",\n            value\n        };\n    }\n};\nvar redactedReasoningStreamPart = {\n    code: \"i\",\n    name: \"redacted_reasoning\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"data\" in value) || typeof value.data !== \"string\") {\n            throw new Error('\"redacted_reasoning\" parts expect an object with a \"data\" property.');\n        }\n        return {\n            type: \"redacted_reasoning\",\n            value: {\n                data: value.data\n            }\n        };\n    }\n};\nvar reasoningSignatureStreamPart = {\n    code: \"j\",\n    name: \"reasoning_signature\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"signature\" in value) || typeof value.signature !== \"string\") {\n            throw new Error('\"reasoning_signature\" parts expect an object with a \"signature\" property.');\n        }\n        return {\n            type: \"reasoning_signature\",\n            value: {\n                signature: value.signature\n            }\n        };\n    }\n};\nvar fileStreamPart = {\n    code: \"k\",\n    name: \"file\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"data\" in value) || typeof value.data !== \"string\" || !(\"mimeType\" in value) || typeof value.mimeType !== \"string\") {\n            throw new Error('\"file\" parts expect an object with a \"data\" and \"mimeType\" property.');\n        }\n        return {\n            type: \"file\",\n            value\n        };\n    }\n};\nvar dataStreamParts = [\n    textStreamPart2,\n    dataStreamPart,\n    errorStreamPart2,\n    messageAnnotationsStreamPart,\n    toolCallStreamPart,\n    toolResultStreamPart,\n    toolCallStreamingStartStreamPart,\n    toolCallDeltaStreamPart,\n    finishMessageStreamPart,\n    finishStepStreamPart,\n    startStepStreamPart,\n    reasoningStreamPart,\n    sourcePart,\n    redactedReasoningStreamPart,\n    reasoningSignatureStreamPart,\n    fileStreamPart\n];\nvar dataStreamPartsByCode = Object.fromEntries(dataStreamParts.map((part)=>[\n        part.code,\n        part\n    ]));\nvar DataStreamStringPrefixes = Object.fromEntries(dataStreamParts.map((part)=>[\n        part.name,\n        part.code\n    ]));\nvar validCodes2 = dataStreamParts.map((part)=>part.code);\nvar parseDataStreamPart = (line)=>{\n    const firstSeparatorIndex = line.indexOf(\":\");\n    if (firstSeparatorIndex === -1) {\n        throw new Error(\"Failed to parse stream string. No separator found.\");\n    }\n    const prefix = line.slice(0, firstSeparatorIndex);\n    if (!validCodes2.includes(prefix)) {\n        throw new Error(`Failed to parse stream string. Invalid code ${prefix}.`);\n    }\n    const code = prefix;\n    const textValue = line.slice(firstSeparatorIndex + 1);\n    const jsonValue = JSON.parse(textValue);\n    return dataStreamPartsByCode[code].parse(jsonValue);\n};\nfunction formatDataStreamPart(type, value) {\n    const streamPart = dataStreamParts.find((part)=>part.name === type);\n    if (!streamPart) {\n        throw new Error(`Invalid stream part type: ${type}`);\n    }\n    return `${streamPart.code}:${JSON.stringify(value)}\n`;\n}\n// src/process-data-stream.ts\nvar NEWLINE = \"\\n\".charCodeAt(0);\nfunction concatChunks(chunks, totalLength) {\n    const concatenatedChunks = new Uint8Array(totalLength);\n    let offset = 0;\n    for (const chunk of chunks){\n        concatenatedChunks.set(chunk, offset);\n        offset += chunk.length;\n    }\n    chunks.length = 0;\n    return concatenatedChunks;\n}\nasync function processDataStream({ stream, onTextPart, onReasoningPart, onReasoningSignaturePart, onRedactedReasoningPart, onSourcePart, onFilePart, onDataPart, onErrorPart, onToolCallStreamingStartPart, onToolCallDeltaPart, onToolCallPart, onToolResultPart, onMessageAnnotationsPart, onFinishMessagePart, onFinishStepPart, onStartStepPart }) {\n    const reader = stream.getReader();\n    const decoder = new TextDecoder();\n    const chunks = [];\n    let totalLength = 0;\n    while(true){\n        const { value } = await reader.read();\n        if (value) {\n            chunks.push(value);\n            totalLength += value.length;\n            if (value[value.length - 1] !== NEWLINE) {\n                continue;\n            }\n        }\n        if (chunks.length === 0) {\n            break;\n        }\n        const concatenatedChunks = concatChunks(chunks, totalLength);\n        totalLength = 0;\n        const streamParts = decoder.decode(concatenatedChunks, {\n            stream: true\n        }).split(\"\\n\").filter((line)=>line !== \"\").map(parseDataStreamPart);\n        for (const { type, value: value2 } of streamParts){\n            switch(type){\n                case \"text\":\n                    await (onTextPart == null ? void 0 : onTextPart(value2));\n                    break;\n                case \"reasoning\":\n                    await (onReasoningPart == null ? void 0 : onReasoningPart(value2));\n                    break;\n                case \"reasoning_signature\":\n                    await (onReasoningSignaturePart == null ? void 0 : onReasoningSignaturePart(value2));\n                    break;\n                case \"redacted_reasoning\":\n                    await (onRedactedReasoningPart == null ? void 0 : onRedactedReasoningPart(value2));\n                    break;\n                case \"file\":\n                    await (onFilePart == null ? void 0 : onFilePart(value2));\n                    break;\n                case \"source\":\n                    await (onSourcePart == null ? void 0 : onSourcePart(value2));\n                    break;\n                case \"data\":\n                    await (onDataPart == null ? void 0 : onDataPart(value2));\n                    break;\n                case \"error\":\n                    await (onErrorPart == null ? void 0 : onErrorPart(value2));\n                    break;\n                case \"message_annotations\":\n                    await (onMessageAnnotationsPart == null ? void 0 : onMessageAnnotationsPart(value2));\n                    break;\n                case \"tool_call_streaming_start\":\n                    await (onToolCallStreamingStartPart == null ? void 0 : onToolCallStreamingStartPart(value2));\n                    break;\n                case \"tool_call_delta\":\n                    await (onToolCallDeltaPart == null ? void 0 : onToolCallDeltaPart(value2));\n                    break;\n                case \"tool_call\":\n                    await (onToolCallPart == null ? void 0 : onToolCallPart(value2));\n                    break;\n                case \"tool_result\":\n                    await (onToolResultPart == null ? void 0 : onToolResultPart(value2));\n                    break;\n                case \"finish_message\":\n                    await (onFinishMessagePart == null ? void 0 : onFinishMessagePart(value2));\n                    break;\n                case \"finish_step\":\n                    await (onFinishStepPart == null ? void 0 : onFinishStepPart(value2));\n                    break;\n                case \"start_step\":\n                    await (onStartStepPart == null ? void 0 : onStartStepPart(value2));\n                    break;\n                default:\n                    {\n                        const exhaustiveCheck = type;\n                        throw new Error(`Unknown stream part type: ${exhaustiveCheck}`);\n                    }\n            }\n        }\n    }\n}\n// src/process-chat-response.ts\nasync function processChatResponse({ stream, update, onToolCall, onFinish, generateId: generateId2 = _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId, getCurrentDate = ()=>/* @__PURE__ */ new Date(), lastMessage }) {\n    var _a, _b;\n    const replaceLastMessage = (lastMessage == null ? void 0 : lastMessage.role) === \"assistant\";\n    let step = replaceLastMessage ? 1 + // find max step in existing tool invocations:\n    ((_b = (_a = lastMessage.toolInvocations) == null ? void 0 : _a.reduce((max, toolInvocation)=>{\n        var _a2;\n        return Math.max(max, (_a2 = toolInvocation.step) != null ? _a2 : 0);\n    }, 0)) != null ? _b : 0) : 0;\n    const message = replaceLastMessage ? structuredClone(lastMessage) : {\n        id: generateId2(),\n        createdAt: getCurrentDate(),\n        role: \"assistant\",\n        content: \"\",\n        parts: []\n    };\n    let currentTextPart = void 0;\n    let currentReasoningPart = void 0;\n    let currentReasoningTextDetail = void 0;\n    function updateToolInvocationPart(toolCallId, invocation) {\n        const part = message.parts.find((part2)=>part2.type === \"tool-invocation\" && part2.toolInvocation.toolCallId === toolCallId);\n        if (part != null) {\n            part.toolInvocation = invocation;\n        } else {\n            message.parts.push({\n                type: \"tool-invocation\",\n                toolInvocation: invocation\n            });\n        }\n    }\n    const data = [];\n    let messageAnnotations = replaceLastMessage ? lastMessage == null ? void 0 : lastMessage.annotations : void 0;\n    const partialToolCalls = {};\n    let usage = {\n        completionTokens: NaN,\n        promptTokens: NaN,\n        totalTokens: NaN\n    };\n    let finishReason = \"unknown\";\n    function execUpdate() {\n        const copiedData = [\n            ...data\n        ];\n        if (messageAnnotations == null ? void 0 : messageAnnotations.length) {\n            message.annotations = messageAnnotations;\n        }\n        const copiedMessage = {\n            // deep copy the message to ensure that deep changes (msg attachments) are updated\n            // with SolidJS. SolidJS uses referential integration of sub-objects to detect changes.\n            ...structuredClone(message),\n            // add a revision id to ensure that the message is updated with SWR. SWR uses a\n            // hashing approach by default to detect changes, but it only works for shallow\n            // changes. This is why we need to add a revision id to ensure that the message\n            // is updated with SWR (without it, the changes get stuck in SWR and are not\n            // forwarded to rendering):\n            revisionId: generateId2()\n        };\n        update({\n            message: copiedMessage,\n            data: copiedData,\n            replaceLastMessage\n        });\n    }\n    await processDataStream({\n        stream,\n        onTextPart (value) {\n            if (currentTextPart == null) {\n                currentTextPart = {\n                    type: \"text\",\n                    text: value\n                };\n                message.parts.push(currentTextPart);\n            } else {\n                currentTextPart.text += value;\n            }\n            message.content += value;\n            execUpdate();\n        },\n        onReasoningPart (value) {\n            var _a2;\n            if (currentReasoningTextDetail == null) {\n                currentReasoningTextDetail = {\n                    type: \"text\",\n                    text: value\n                };\n                if (currentReasoningPart != null) {\n                    currentReasoningPart.details.push(currentReasoningTextDetail);\n                }\n            } else {\n                currentReasoningTextDetail.text += value;\n            }\n            if (currentReasoningPart == null) {\n                currentReasoningPart = {\n                    type: \"reasoning\",\n                    reasoning: value,\n                    details: [\n                        currentReasoningTextDetail\n                    ]\n                };\n                message.parts.push(currentReasoningPart);\n            } else {\n                currentReasoningPart.reasoning += value;\n            }\n            message.reasoning = ((_a2 = message.reasoning) != null ? _a2 : \"\") + value;\n            execUpdate();\n        },\n        onReasoningSignaturePart (value) {\n            if (currentReasoningTextDetail != null) {\n                currentReasoningTextDetail.signature = value.signature;\n            }\n        },\n        onRedactedReasoningPart (value) {\n            if (currentReasoningPart == null) {\n                currentReasoningPart = {\n                    type: \"reasoning\",\n                    reasoning: \"\",\n                    details: []\n                };\n                message.parts.push(currentReasoningPart);\n            }\n            currentReasoningPart.details.push({\n                type: \"redacted\",\n                data: value.data\n            });\n            currentReasoningTextDetail = void 0;\n            execUpdate();\n        },\n        onFilePart (value) {\n            message.parts.push({\n                type: \"file\",\n                mimeType: value.mimeType,\n                data: value.data\n            });\n            execUpdate();\n        },\n        onSourcePart (value) {\n            message.parts.push({\n                type: \"source\",\n                source: value\n            });\n            execUpdate();\n        },\n        onToolCallStreamingStartPart (value) {\n            if (message.toolInvocations == null) {\n                message.toolInvocations = [];\n            }\n            partialToolCalls[value.toolCallId] = {\n                text: \"\",\n                step,\n                toolName: value.toolName,\n                index: message.toolInvocations.length\n            };\n            const invocation = {\n                state: \"partial-call\",\n                step,\n                toolCallId: value.toolCallId,\n                toolName: value.toolName,\n                args: void 0\n            };\n            message.toolInvocations.push(invocation);\n            updateToolInvocationPart(value.toolCallId, invocation);\n            execUpdate();\n        },\n        onToolCallDeltaPart (value) {\n            const partialToolCall = partialToolCalls[value.toolCallId];\n            partialToolCall.text += value.argsTextDelta;\n            const { value: partialArgs } = parsePartialJson(partialToolCall.text);\n            const invocation = {\n                state: \"partial-call\",\n                step: partialToolCall.step,\n                toolCallId: value.toolCallId,\n                toolName: partialToolCall.toolName,\n                args: partialArgs\n            };\n            message.toolInvocations[partialToolCall.index] = invocation;\n            updateToolInvocationPart(value.toolCallId, invocation);\n            execUpdate();\n        },\n        async onToolCallPart (value) {\n            const invocation = {\n                state: \"call\",\n                step,\n                ...value\n            };\n            if (partialToolCalls[value.toolCallId] != null) {\n                message.toolInvocations[partialToolCalls[value.toolCallId].index] = invocation;\n            } else {\n                if (message.toolInvocations == null) {\n                    message.toolInvocations = [];\n                }\n                message.toolInvocations.push(invocation);\n            }\n            updateToolInvocationPart(value.toolCallId, invocation);\n            execUpdate();\n            if (onToolCall) {\n                const result = await onToolCall({\n                    toolCall: value\n                });\n                if (result != null) {\n                    const invocation2 = {\n                        state: \"result\",\n                        step,\n                        ...value,\n                        result\n                    };\n                    message.toolInvocations[message.toolInvocations.length - 1] = invocation2;\n                    updateToolInvocationPart(value.toolCallId, invocation2);\n                    execUpdate();\n                }\n            }\n        },\n        onToolResultPart (value) {\n            const toolInvocations = message.toolInvocations;\n            if (toolInvocations == null) {\n                throw new Error(\"tool_result must be preceded by a tool_call\");\n            }\n            const toolInvocationIndex = toolInvocations.findIndex((invocation2)=>invocation2.toolCallId === value.toolCallId);\n            if (toolInvocationIndex === -1) {\n                throw new Error(\"tool_result must be preceded by a tool_call with the same toolCallId\");\n            }\n            const invocation = {\n                ...toolInvocations[toolInvocationIndex],\n                state: \"result\",\n                ...value\n            };\n            toolInvocations[toolInvocationIndex] = invocation;\n            updateToolInvocationPart(value.toolCallId, invocation);\n            execUpdate();\n        },\n        onDataPart (value) {\n            data.push(...value);\n            execUpdate();\n        },\n        onMessageAnnotationsPart (value) {\n            if (messageAnnotations == null) {\n                messageAnnotations = [\n                    ...value\n                ];\n            } else {\n                messageAnnotations.push(...value);\n            }\n            execUpdate();\n        },\n        onFinishStepPart (value) {\n            step += 1;\n            currentTextPart = value.isContinued ? currentTextPart : void 0;\n            currentReasoningPart = void 0;\n            currentReasoningTextDetail = void 0;\n        },\n        onStartStepPart (value) {\n            if (!replaceLastMessage) {\n                message.id = value.messageId;\n            }\n            message.parts.push({\n                type: \"step-start\"\n            });\n            execUpdate();\n        },\n        onFinishMessagePart (value) {\n            finishReason = value.finishReason;\n            if (value.usage != null) {\n                usage = calculateLanguageModelUsage(value.usage);\n            }\n        },\n        onErrorPart (error) {\n            throw new Error(error);\n        }\n    });\n    onFinish == null ? void 0 : onFinish({\n        message,\n        finishReason,\n        usage\n    });\n}\n// src/process-chat-text-response.ts\n\n// src/process-text-stream.ts\nasync function processTextStream({ stream, onTextPart }) {\n    const reader = stream.pipeThrough(new TextDecoderStream()).getReader();\n    while(true){\n        const { done, value } = await reader.read();\n        if (done) {\n            break;\n        }\n        await onTextPart(value);\n    }\n}\n// src/process-chat-text-response.ts\nasync function processChatTextResponse({ stream, update, onFinish, getCurrentDate = ()=>/* @__PURE__ */ new Date(), generateId: generateId2 = _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId }) {\n    const textPart = {\n        type: \"text\",\n        text: \"\"\n    };\n    const resultMessage = {\n        id: generateId2(),\n        createdAt: getCurrentDate(),\n        role: \"assistant\",\n        content: \"\",\n        parts: [\n            textPart\n        ]\n    };\n    await processTextStream({\n        stream,\n        onTextPart: (chunk)=>{\n            resultMessage.content += chunk;\n            textPart.text += chunk;\n            update({\n                message: {\n                    ...resultMessage\n                },\n                data: [],\n                replaceLastMessage: false\n            });\n        }\n    });\n    onFinish == null ? void 0 : onFinish(resultMessage, {\n        usage: {\n            completionTokens: NaN,\n            promptTokens: NaN,\n            totalTokens: NaN\n        },\n        finishReason: \"unknown\"\n    });\n}\n// src/call-chat-api.ts\nvar getOriginalFetch = ()=>fetch;\nasync function callChatApi({ api, body, streamProtocol = \"data\", credentials, headers, abortController, restoreMessagesOnFailure, onResponse, onUpdate, onFinish, onToolCall, generateId: generateId2, fetch: fetch2 = getOriginalFetch(), lastMessage }) {\n    var _a, _b;\n    const response = await fetch2(api, {\n        method: \"POST\",\n        body: JSON.stringify(body),\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...headers\n        },\n        signal: (_a = abortController == null ? void 0 : abortController()) == null ? void 0 : _a.signal,\n        credentials\n    }).catch((err)=>{\n        restoreMessagesOnFailure();\n        throw err;\n    });\n    if (onResponse) {\n        try {\n            await onResponse(response);\n        } catch (err) {\n            throw err;\n        }\n    }\n    if (!response.ok) {\n        restoreMessagesOnFailure();\n        throw new Error((_b = await response.text()) != null ? _b : \"Failed to fetch the chat response.\");\n    }\n    if (!response.body) {\n        throw new Error(\"The response body is empty.\");\n    }\n    switch(streamProtocol){\n        case \"text\":\n            {\n                await processChatTextResponse({\n                    stream: response.body,\n                    update: onUpdate,\n                    onFinish,\n                    generateId: generateId2\n                });\n                return;\n            }\n        case \"data\":\n            {\n                await processChatResponse({\n                    stream: response.body,\n                    update: onUpdate,\n                    lastMessage,\n                    onToolCall,\n                    onFinish ({ message, finishReason, usage }) {\n                        if (onFinish && message != null) {\n                            onFinish(message, {\n                                usage,\n                                finishReason\n                            });\n                        }\n                    },\n                    generateId: generateId2\n                });\n                return;\n            }\n        default:\n            {\n                const exhaustiveCheck = streamProtocol;\n                throw new Error(`Unknown stream protocol: ${exhaustiveCheck}`);\n            }\n    }\n}\n// src/call-completion-api.ts\nvar getOriginalFetch2 = ()=>fetch;\nasync function callCompletionApi({ api, prompt, credentials, headers, body, streamProtocol = \"data\", setCompletion, setLoading, setError, setAbortController, onResponse, onFinish, onError, onData, fetch: fetch2 = getOriginalFetch2() }) {\n    var _a;\n    try {\n        setLoading(true);\n        setError(void 0);\n        const abortController = new AbortController();\n        setAbortController(abortController);\n        setCompletion(\"\");\n        const response = await fetch2(api, {\n            method: \"POST\",\n            body: JSON.stringify({\n                prompt,\n                ...body\n            }),\n            credentials,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...headers\n            },\n            signal: abortController.signal\n        }).catch((err)=>{\n            throw err;\n        });\n        if (onResponse) {\n            try {\n                await onResponse(response);\n            } catch (err) {\n                throw err;\n            }\n        }\n        if (!response.ok) {\n            throw new Error((_a = await response.text()) != null ? _a : \"Failed to fetch the chat response.\");\n        }\n        if (!response.body) {\n            throw new Error(\"The response body is empty.\");\n        }\n        let result = \"\";\n        switch(streamProtocol){\n            case \"text\":\n                {\n                    await processTextStream({\n                        stream: response.body,\n                        onTextPart: (chunk)=>{\n                            result += chunk;\n                            setCompletion(result);\n                        }\n                    });\n                    break;\n                }\n            case \"data\":\n                {\n                    await processDataStream({\n                        stream: response.body,\n                        onTextPart (value) {\n                            result += value;\n                            setCompletion(result);\n                        },\n                        onDataPart (value) {\n                            onData == null ? void 0 : onData(value);\n                        },\n                        onErrorPart (value) {\n                            throw new Error(value);\n                        }\n                    });\n                    break;\n                }\n            default:\n                {\n                    const exhaustiveCheck = streamProtocol;\n                    throw new Error(`Unknown stream protocol: ${exhaustiveCheck}`);\n                }\n        }\n        if (onFinish) {\n            onFinish(prompt, result);\n        }\n        setAbortController(null);\n        return result;\n    } catch (err) {\n        if (err.name === \"AbortError\") {\n            setAbortController(null);\n            return null;\n        }\n        if (err instanceof Error) {\n            if (onError) {\n                onError(err);\n            }\n        }\n        setError(err);\n    } finally{\n        setLoading(false);\n    }\n}\n// src/data-url.ts\nfunction getTextFromDataUrl(dataUrl) {\n    const [header, base64Content] = dataUrl.split(\",\");\n    const mimeType = header.split(\";\")[0].split(\":\")[1];\n    if (mimeType == null || base64Content == null) {\n        throw new Error(\"Invalid data URL format\");\n    }\n    try {\n        return window.atob(base64Content);\n    } catch (error) {\n        throw new Error(`Error decoding data URL`);\n    }\n}\n// src/extract-max-tool-invocation-step.ts\nfunction extractMaxToolInvocationStep(toolInvocations) {\n    return toolInvocations == null ? void 0 : toolInvocations.reduce((max, toolInvocation)=>{\n        var _a;\n        return Math.max(max, (_a = toolInvocation.step) != null ? _a : 0);\n    }, 0);\n}\n// src/get-message-parts.ts\nfunction getMessageParts(message) {\n    var _a;\n    return (_a = message.parts) != null ? _a : [\n        ...message.toolInvocations ? message.toolInvocations.map((toolInvocation)=>({\n                type: \"tool-invocation\",\n                toolInvocation\n            })) : [],\n        ...message.reasoning ? [\n            {\n                type: \"reasoning\",\n                reasoning: message.reasoning,\n                details: [\n                    {\n                        type: \"text\",\n                        text: message.reasoning\n                    }\n                ]\n            }\n        ] : [],\n        ...message.content ? [\n            {\n                type: \"text\",\n                text: message.content\n            }\n        ] : []\n    ];\n}\n// src/fill-message-parts.ts\nfunction fillMessageParts(messages) {\n    return messages.map((message)=>({\n            ...message,\n            parts: getMessageParts(message)\n        }));\n}\n// src/is-deep-equal-data.ts\nfunction isDeepEqualData(obj1, obj2) {\n    if (obj1 === obj2) return true;\n    if (obj1 == null || obj2 == null) return false;\n    if (typeof obj1 !== \"object\" && typeof obj2 !== \"object\") return obj1 === obj2;\n    if (obj1.constructor !== obj2.constructor) return false;\n    if (obj1 instanceof Date && obj2 instanceof Date) {\n        return obj1.getTime() === obj2.getTime();\n    }\n    if (Array.isArray(obj1)) {\n        if (obj1.length !== obj2.length) return false;\n        for(let i = 0; i < obj1.length; i++){\n            if (!isDeepEqualData(obj1[i], obj2[i])) return false;\n        }\n        return true;\n    }\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) return false;\n    for (const key of keys1){\n        if (!keys2.includes(key)) return false;\n        if (!isDeepEqualData(obj1[key], obj2[key])) return false;\n    }\n    return true;\n}\n// src/prepare-attachments-for-request.ts\nasync function prepareAttachmentsForRequest(attachmentsFromOptions) {\n    if (!attachmentsFromOptions) {\n        return [];\n    }\n    if (attachmentsFromOptions instanceof FileList) {\n        return Promise.all(Array.from(attachmentsFromOptions).map(async (attachment)=>{\n            const { name, type } = attachment;\n            const dataUrl = await new Promise((resolve, reject)=>{\n                const reader = new FileReader();\n                reader.onload = (readerEvent)=>{\n                    var _a;\n                    resolve((_a = readerEvent.target) == null ? void 0 : _a.result);\n                };\n                reader.onerror = (error)=>reject(error);\n                reader.readAsDataURL(attachment);\n            });\n            return {\n                name,\n                contentType: type,\n                url: dataUrl\n            };\n        }));\n    }\n    if (Array.isArray(attachmentsFromOptions)) {\n        return attachmentsFromOptions;\n    }\n    throw new Error(\"Invalid attachments type\");\n}\n// src/process-assistant-stream.ts\nvar NEWLINE2 = \"\\n\".charCodeAt(0);\nfunction concatChunks2(chunks, totalLength) {\n    const concatenatedChunks = new Uint8Array(totalLength);\n    let offset = 0;\n    for (const chunk of chunks){\n        concatenatedChunks.set(chunk, offset);\n        offset += chunk.length;\n    }\n    chunks.length = 0;\n    return concatenatedChunks;\n}\nasync function processAssistantStream({ stream, onTextPart, onErrorPart, onAssistantMessagePart, onAssistantControlDataPart, onDataMessagePart }) {\n    const reader = stream.getReader();\n    const decoder = new TextDecoder();\n    const chunks = [];\n    let totalLength = 0;\n    while(true){\n        const { value } = await reader.read();\n        if (value) {\n            chunks.push(value);\n            totalLength += value.length;\n            if (value[value.length - 1] !== NEWLINE2) {\n                continue;\n            }\n        }\n        if (chunks.length === 0) {\n            break;\n        }\n        const concatenatedChunks = concatChunks2(chunks, totalLength);\n        totalLength = 0;\n        const streamParts = decoder.decode(concatenatedChunks, {\n            stream: true\n        }).split(\"\\n\").filter((line)=>line !== \"\").map(parseAssistantStreamPart);\n        for (const { type, value: value2 } of streamParts){\n            switch(type){\n                case \"text\":\n                    await (onTextPart == null ? void 0 : onTextPart(value2));\n                    break;\n                case \"error\":\n                    await (onErrorPart == null ? void 0 : onErrorPart(value2));\n                    break;\n                case \"assistant_message\":\n                    await (onAssistantMessagePart == null ? void 0 : onAssistantMessagePart(value2));\n                    break;\n                case \"assistant_control_data\":\n                    await (onAssistantControlDataPart == null ? void 0 : onAssistantControlDataPart(value2));\n                    break;\n                case \"data_message\":\n                    await (onDataMessagePart == null ? void 0 : onDataMessagePart(value2));\n                    break;\n                default:\n                    {\n                        const exhaustiveCheck = type;\n                        throw new Error(`Unknown stream part type: ${exhaustiveCheck}`);\n                    }\n            }\n        }\n    }\n}\n// src/schema.ts\n\n// src/zod-schema.ts\n\nfunction zodSchema(zodSchema2, options) {\n    var _a;\n    const useReferences = (_a = options == null ? void 0 : options.useReferences) != null ? _a : false;\n    return jsonSchema((0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(zodSchema2, {\n        $refStrategy: useReferences ? \"root\" : \"none\",\n        target: \"jsonSchema7\"\n    }), {\n        validate: (value)=>{\n            const result = zodSchema2.safeParse(value);\n            return result.success ? {\n                success: true,\n                value: result.data\n            } : {\n                success: false,\n                error: result.error\n            };\n        }\n    });\n}\n// src/schema.ts\nvar schemaSymbol = Symbol.for(\"vercel.ai.schema\");\nfunction jsonSchema(jsonSchema2, { validate } = {}) {\n    return {\n        [schemaSymbol]: true,\n        _type: void 0,\n        // should never be used directly\n        [_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.validatorSymbol]: true,\n        jsonSchema: jsonSchema2,\n        validate\n    };\n}\nfunction isSchema(value) {\n    return typeof value === \"object\" && value !== null && schemaSymbol in value && value[schemaSymbol] === true && \"jsonSchema\" in value && \"validate\" in value;\n}\nfunction asSchema(schema) {\n    return isSchema(schema) ? schema : zodSchema(schema);\n}\n// src/should-resubmit-messages.ts\nfunction shouldResubmitMessages({ originalMaxToolInvocationStep, originalMessageCount, maxSteps, messages }) {\n    var _a;\n    const lastMessage = messages[messages.length - 1];\n    return(// check if the feature is enabled:\n    maxSteps > 1 && // ensure there is a last message:\n    lastMessage != null && // ensure we actually have new steps (to prevent infinite loops in case of errors):\n    (messages.length > originalMessageCount || extractMaxToolInvocationStep(lastMessage.toolInvocations) !== originalMaxToolInvocationStep) && // check that next step is possible:\n    isAssistantMessageWithCompletedToolCalls(lastMessage) && // limit the number of automatic steps:\n    ((_a = extractMaxToolInvocationStep(lastMessage.toolInvocations)) != null ? _a : 0) < maxSteps);\n}\nfunction isAssistantMessageWithCompletedToolCalls(message) {\n    if (message.role !== \"assistant\") {\n        return false;\n    }\n    const lastStepStartIndex = message.parts.reduce((lastIndex, part, index)=>{\n        return part.type === \"step-start\" ? index : lastIndex;\n    }, -1);\n    const lastStepToolInvocations = message.parts.slice(lastStepStartIndex + 1).filter((part)=>part.type === \"tool-invocation\");\n    return lastStepToolInvocations.length > 0 && lastStepToolInvocations.every((part)=>\"result\" in part.toolInvocation);\n}\n// src/update-tool-call-result.ts\nfunction updateToolCallResult({ messages, toolCallId, toolResult: result }) {\n    var _a;\n    const lastMessage = messages[messages.length - 1];\n    const invocationPart = lastMessage.parts.find((part)=>part.type === \"tool-invocation\" && part.toolInvocation.toolCallId === toolCallId);\n    if (invocationPart == null) {\n        return;\n    }\n    const toolResult = {\n        ...invocationPart.toolInvocation,\n        state: \"result\",\n        result\n    };\n    invocationPart.toolInvocation = toolResult;\n    lastMessage.toolInvocations = (_a = lastMessage.toolInvocations) == null ? void 0 : _a.map((toolInvocation)=>toolInvocation.toolCallId === toolCallId ? toolResult : toolInvocation);\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGFpLXNkay91aS11dGlscy9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZUFBZTtBQUNxQztBQUVwRCxnQ0FBZ0M7QUFDaEMsSUFBSUMsaUJBQWlCO0lBQ25CQyxNQUFNO0lBQ05DLE1BQU07SUFDTkMsT0FBTyxDQUFDQztRQUNOLElBQUksT0FBT0EsVUFBVSxVQUFVO1lBQzdCLE1BQU0sSUFBSUMsTUFBTTtRQUNsQjtRQUNBLE9BQU87WUFBRUMsTUFBTTtZQUFRRjtRQUFNO0lBQy9CO0FBQ0Y7QUFDQSxJQUFJRyxrQkFBa0I7SUFDcEJOLE1BQU07SUFDTkMsTUFBTTtJQUNOQyxPQUFPLENBQUNDO1FBQ04sSUFBSSxPQUFPQSxVQUFVLFVBQVU7WUFDN0IsTUFBTSxJQUFJQyxNQUFNO1FBQ2xCO1FBQ0EsT0FBTztZQUFFQyxNQUFNO1lBQVNGO1FBQU07SUFDaEM7QUFDRjtBQUNBLElBQUlJLDZCQUE2QjtJQUMvQlAsTUFBTTtJQUNOQyxNQUFNO0lBQ05DLE9BQU8sQ0FBQ0M7UUFDTixJQUFJQSxTQUFTLFFBQVEsT0FBT0EsVUFBVSxZQUFZLENBQUUsU0FBUUEsS0FBSSxLQUFNLENBQUUsV0FBVUEsS0FBSSxLQUFNLENBQUUsY0FBYUEsS0FBSSxLQUFNLE9BQU9BLE1BQU1LLEVBQUUsS0FBSyxZQUFZLE9BQU9MLE1BQU1NLElBQUksS0FBSyxZQUFZTixNQUFNTSxJQUFJLEtBQUssZUFBZSxDQUFDQyxNQUFNQyxPQUFPLENBQUNSLE1BQU1TLE9BQU8sS0FBSyxDQUFDVCxNQUFNUyxPQUFPLENBQUNDLEtBQUssQ0FDeFEsQ0FBQ0MsT0FBU0EsUUFBUSxRQUFRLE9BQU9BLFNBQVMsWUFBWSxVQUFVQSxRQUFRQSxLQUFLVCxJQUFJLEtBQUssVUFBVSxVQUFVUyxRQUFRQSxLQUFLQyxJQUFJLElBQUksUUFBUSxPQUFPRCxLQUFLQyxJQUFJLEtBQUssWUFBWSxXQUFXRCxL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S0FBS3NJLGNBQWMsQ0FBQ3JGLFVBQVUsS0FBS0E7SUFFbEYsSUFBSStOLGtCQUFrQixNQUFNO1FBQzFCO0lBQ0Y7SUFDQSxNQUFNRCxhQUFhO1FBQ2pCLEdBQUdDLGVBQWUxSSxjQUFjO1FBQ2hDOUYsT0FBTztRQUNQRDtJQUNGO0lBQ0F5TyxlQUFlMUksY0FBYyxHQUFHeUk7SUFDaENqSixZQUFZSyxlQUFlLEdBQUcsQ0FBQ0osS0FBS0QsWUFBWUssZUFBZSxLQUFLLE9BQU8sS0FBSyxJQUFJSixHQUFHaEksR0FBRyxDQUN4RixDQUFDdUksaUJBQW1CQSxlQUFlckYsVUFBVSxLQUFLQSxhQUFhOE4sYUFBYXpJO0FBRWhGO0FBeUJFLENBQ0Ysa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbm9kZV9tb2R1bGVzL0BhaS1zZGsvdWktdXRpbHMvZGlzdC9pbmRleC5tanM/NzgzYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaW5kZXgudHNcbmltcG9ydCB7IGdlbmVyYXRlSWQgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBzcmMvYXNzaXN0YW50LXN0cmVhbS1wYXJ0cy50c1xudmFyIHRleHRTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjBcIixcbiAgbmFtZTogXCJ0ZXh0XCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1widGV4dFwiIHBhcnRzIGV4cGVjdCBhIHN0cmluZyB2YWx1ZS4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdHlwZTogXCJ0ZXh0XCIsIHZhbHVlIH07XG4gIH1cbn07XG52YXIgZXJyb3JTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjNcIixcbiAgbmFtZTogXCJlcnJvclwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcImVycm9yXCIgcGFydHMgZXhwZWN0IGEgc3RyaW5nIHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcImVycm9yXCIsIHZhbHVlIH07XG4gIH1cbn07XG52YXIgYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiNFwiLFxuICBuYW1lOiBcImFzc2lzdGFudF9tZXNzYWdlXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcImlkXCIgaW4gdmFsdWUpIHx8ICEoXCJyb2xlXCIgaW4gdmFsdWUpIHx8ICEoXCJjb250ZW50XCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5pZCAhPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsdWUucm9sZSAhPT0gXCJzdHJpbmdcIiB8fCB2YWx1ZS5yb2xlICE9PSBcImFzc2lzdGFudFwiIHx8ICFBcnJheS5pc0FycmF5KHZhbHVlLmNvbnRlbnQpIHx8ICF2YWx1ZS5jb250ZW50LmV2ZXJ5KFxuICAgICAgKGl0ZW0pID0+IGl0ZW0gIT0gbnVsbCAmJiB0eXBlb2YgaXRlbSA9PT0gXCJvYmplY3RcIiAmJiBcInR5cGVcIiBpbiBpdGVtICYmIGl0ZW0udHlwZSA9PT0gXCJ0ZXh0XCIgJiYgXCJ0ZXh0XCIgaW4gaXRlbSAmJiBpdGVtLnRleHQgIT0gbnVsbCAmJiB0eXBlb2YgaXRlbS50ZXh0ID09PSBcIm9iamVjdFwiICYmIFwidmFsdWVcIiBpbiBpdGVtLnRleHQgJiYgdHlwZW9mIGl0ZW0udGV4dC52YWx1ZSA9PT0gXCJzdHJpbmdcIlxuICAgICkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1wiYXNzaXN0YW50X21lc3NhZ2VcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYW4gXCJpZFwiLCBcInJvbGVcIiwgYW5kIFwiY29udGVudFwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImFzc2lzdGFudF9tZXNzYWdlXCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgYXNzaXN0YW50Q29udHJvbERhdGFTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjVcIixcbiAgbmFtZTogXCJhc3Npc3RhbnRfY29udHJvbF9kYXRhXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInRocmVhZElkXCIgaW4gdmFsdWUpIHx8ICEoXCJtZXNzYWdlSWRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRocmVhZElkICE9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWx1ZS5tZXNzYWdlSWQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1wiYXNzaXN0YW50X2NvbnRyb2xfZGF0YVwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwidGhyZWFkSWRcIiBhbmQgXCJtZXNzYWdlSWRcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJhc3Npc3RhbnRfY29udHJvbF9kYXRhXCIsXG4gICAgICB2YWx1ZToge1xuICAgICAgICB0aHJlYWRJZDogdmFsdWUudGhyZWFkSWQsXG4gICAgICAgIG1lc3NhZ2VJZDogdmFsdWUubWVzc2FnZUlkXG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbnZhciBkYXRhTWVzc2FnZVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiNlwiLFxuICBuYW1lOiBcImRhdGFfbWVzc2FnZVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJyb2xlXCIgaW4gdmFsdWUpIHx8ICEoXCJkYXRhXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5yb2xlICE9PSBcInN0cmluZ1wiIHx8IHZhbHVlLnJvbGUgIT09IFwiZGF0YVwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcImRhdGFfbWVzc2FnZVwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwicm9sZVwiIGFuZCBcImRhdGFcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJkYXRhX21lc3NhZ2VcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciBhc3Npc3RhbnRTdHJlYW1QYXJ0cyA9IFtcbiAgdGV4dFN0cmVhbVBhcnQsXG4gIGVycm9yU3RyZWFtUGFydCxcbiAgYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQsXG4gIGFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydCxcbiAgZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0XG5dO1xudmFyIGFzc2lzdGFudFN0cmVhbVBhcnRzQnlDb2RlID0ge1xuICBbdGV4dFN0cmVhbVBhcnQuY29kZV06IHRleHRTdHJlYW1QYXJ0LFxuICBbZXJyb3JTdHJlYW1QYXJ0LmNvZGVdOiBlcnJvclN0cmVhbVBhcnQsXG4gIFthc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydC5jb2RlXTogYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQsXG4gIFthc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQuY29kZV06IGFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydCxcbiAgW2RhdGFNZXNzYWdlU3RyZWFtUGFydC5jb2RlXTogZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0XG59O1xudmFyIFN0cmVhbVN0cmluZ1ByZWZpeGVzID0ge1xuICBbdGV4dFN0cmVhbVBhcnQubmFtZV06IHRleHRTdHJlYW1QYXJ0LmNvZGUsXG4gIFtlcnJvclN0cmVhbVBhcnQubmFtZV06IGVycm9yU3RyZWFtUGFydC5jb2RlLFxuICBbYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQubmFtZV06IGFzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0LmNvZGUsXG4gIFthc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQubmFtZV06IGFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydC5jb2RlLFxuICBbZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0Lm5hbWVdOiBkYXRhTWVzc2FnZVN0cmVhbVBhcnQuY29kZVxufTtcbnZhciB2YWxpZENvZGVzID0gYXNzaXN0YW50U3RyZWFtUGFydHMubWFwKChwYXJ0KSA9PiBwYXJ0LmNvZGUpO1xudmFyIHBhcnNlQXNzaXN0YW50U3RyZWFtUGFydCA9IChsaW5lKSA9PiB7XG4gIGNvbnN0IGZpcnN0U2VwYXJhdG9ySW5kZXggPSBsaW5lLmluZGV4T2YoXCI6XCIpO1xuICBpZiAoZmlyc3RTZXBhcmF0b3JJbmRleCA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcGFyc2Ugc3RyZWFtIHN0cmluZy4gTm8gc2VwYXJhdG9yIGZvdW5kLlwiKTtcbiAgfVxuICBjb25zdCBwcmVmaXggPSBsaW5lLnNsaWNlKDAsIGZpcnN0U2VwYXJhdG9ySW5kZXgpO1xuICBpZiAoIXZhbGlkQ29kZXMuaW5jbHVkZXMocHJlZml4KSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIHN0cmVhbSBzdHJpbmcuIEludmFsaWQgY29kZSAke3ByZWZpeH0uYCk7XG4gIH1cbiAgY29uc3QgY29kZSA9IHByZWZpeDtcbiAgY29uc3QgdGV4dFZhbHVlID0gbGluZS5zbGljZShmaXJzdFNlcGFyYXRvckluZGV4ICsgMSk7XG4gIGNvbnN0IGpzb25WYWx1ZSA9IEpTT04ucGFyc2UodGV4dFZhbHVlKTtcbiAgcmV0dXJuIGFzc2lzdGFudFN0cmVhbVBhcnRzQnlDb2RlW2NvZGVdLnBhcnNlKGpzb25WYWx1ZSk7XG59O1xuZnVuY3Rpb24gZm9ybWF0QXNzaXN0YW50U3RyZWFtUGFydCh0eXBlLCB2YWx1ZSkge1xuICBjb25zdCBzdHJlYW1QYXJ0ID0gYXNzaXN0YW50U3RyZWFtUGFydHMuZmluZCgocGFydCkgPT4gcGFydC5uYW1lID09PSB0eXBlKTtcbiAgaWYgKCFzdHJlYW1QYXJ0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHN0cmVhbSBwYXJ0IHR5cGU6ICR7dHlwZX1gKTtcbiAgfVxuICByZXR1cm4gYCR7c3RyZWFtUGFydC5jb2RlfToke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1cbmA7XG59XG5cbi8vIHNyYy9wcm9jZXNzLWNoYXQtcmVzcG9uc2UudHNcbmltcG9ydCB7IGdlbmVyYXRlSWQgYXMgZ2VuZXJhdGVJZEZ1bmN0aW9uIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcblxuLy8gc3JjL2R1cGxpY2F0ZWQvdXNhZ2UudHNcbmZ1bmN0aW9uIGNhbGN1bGF0ZUxhbmd1YWdlTW9kZWxVc2FnZSh7XG4gIHByb21wdFRva2VucyxcbiAgY29tcGxldGlvblRva2Vuc1xufSkge1xuICByZXR1cm4ge1xuICAgIHByb21wdFRva2VucyxcbiAgICBjb21wbGV0aW9uVG9rZW5zLFxuICAgIHRvdGFsVG9rZW5zOiBwcm9tcHRUb2tlbnMgKyBjb21wbGV0aW9uVG9rZW5zXG4gIH07XG59XG5cbi8vIHNyYy9wYXJzZS1wYXJ0aWFsLWpzb24udHNcbmltcG9ydCB7IHNhZmVQYXJzZUpTT04gfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBzcmMvZml4LWpzb24udHNcbmZ1bmN0aW9uIGZpeEpzb24oaW5wdXQpIHtcbiAgY29uc3Qgc3RhY2sgPSBbXCJST09UXCJdO1xuICBsZXQgbGFzdFZhbGlkSW5kZXggPSAtMTtcbiAgbGV0IGxpdGVyYWxTdGFydCA9IG51bGw7XG4gIGZ1bmN0aW9uIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIHN3YXBTdGF0ZSkge1xuICAgIHtcbiAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfU1RSSU5HXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJmXCI6XG4gICAgICAgIGNhc2UgXCJ0XCI6XG4gICAgICAgIGNhc2UgXCJuXCI6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgbGl0ZXJhbFN0YXJ0ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9MSVRFUkFMXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCItXCI6IHtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9OVU1CRVJcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIjBcIjpcbiAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgY2FzZSBcIjJcIjpcbiAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgY2FzZSBcIjVcIjpcbiAgICAgICAgY2FzZSBcIjZcIjpcbiAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgY2FzZSBcIjhcIjpcbiAgICAgICAgY2FzZSBcIjlcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9OVU1CRVJcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIntcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfU1RBUlRcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIltcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9BUlJBWV9TVEFSVFwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKSB7XG4gICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICBjYXNlIFwiLFwiOiB7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX09CSkVDVF9BRlRFUl9DT01NQVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwifVwiOiB7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlKGNoYXIsIGkpIHtcbiAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgIGNhc2UgXCIsXCI6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIl1cIjoge1xuICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYXIgPSBpbnB1dFtpXTtcbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICBzd2l0Y2ggKGN1cnJlbnRTdGF0ZSkge1xuICAgICAgY2FzZSBcIlJPT1RcIjpcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJGSU5JU0hcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfU1RBUlRcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfS0VZXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJ9XCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUFcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfS0VZXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfS0VZXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCI6XCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCI6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJcXFxcXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfU1RSSU5HX0VTQ0FQRVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9TVEFSVFwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCIsXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9BUlJBWV9BRlRFUl9DT01NQVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiXVwiOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BXCI6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdfRVNDQVBFXCI6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX05VTUJFUlwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICBjYXNlIFwiMlwiOlxuICAgICAgICAgIGNhc2UgXCIzXCI6XG4gICAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgICBjYXNlIFwiNVwiOlxuICAgICAgICAgIGNhc2UgXCI2XCI6XG4gICAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgICBjYXNlIFwiOFwiOlxuICAgICAgICAgIGNhc2UgXCI5XCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiZVwiOlxuICAgICAgICAgIGNhc2UgXCJFXCI6XG4gICAgICAgICAgY2FzZSBcIi1cIjpcbiAgICAgICAgICBjYXNlIFwiLlwiOiB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIixcIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIn1cIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX0xJVEVSQUxcIjoge1xuICAgICAgICBjb25zdCBwYXJ0aWFsTGl0ZXJhbCA9IGlucHV0LnN1YnN0cmluZyhsaXRlcmFsU3RhcnQsIGkgKyAxKTtcbiAgICAgICAgaWYgKCFcImZhbHNlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkgJiYgIVwidHJ1ZVwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpICYmICFcIm51bGxcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSkge1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IHJlc3VsdCA9IGlucHV0LnNsaWNlKDAsIGxhc3RWYWxpZEluZGV4ICsgMSk7XG4gIGZvciAobGV0IGkgPSBzdGFjay5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IHN0YXRlID0gc3RhY2tbaV07XG4gICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdcIjoge1xuICAgICAgICByZXN1bHQgKz0gJ1wiJztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9LRVlcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiOlxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUFcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX1NUQVJUXCI6XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9CRUZPUkVfVkFMVUVcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgcmVzdWx0ICs9IFwifVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfU1RBUlRcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIjoge1xuICAgICAgICByZXN1bHQgKz0gXCJdXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9MSVRFUkFMXCI6IHtcbiAgICAgICAgY29uc3QgcGFydGlhbExpdGVyYWwgPSBpbnB1dC5zdWJzdHJpbmcobGl0ZXJhbFN0YXJ0LCBpbnB1dC5sZW5ndGgpO1xuICAgICAgICBpZiAoXCJ0cnVlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJ0cnVlXCIuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIGlmIChcImZhbHNlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJmYWxzZVwiLnNsaWNlKHBhcnRpYWxMaXRlcmFsLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXCJudWxsXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJudWxsXCIuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBzcmMvcGFyc2UtcGFydGlhbC1qc29uLnRzXG5mdW5jdGlvbiBwYXJzZVBhcnRpYWxKc29uKGpzb25UZXh0KSB7XG4gIGlmIChqc29uVGV4dCA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHZvaWQgMCwgc3RhdGU6IFwidW5kZWZpbmVkLWlucHV0XCIgfTtcbiAgfVxuICBsZXQgcmVzdWx0ID0gc2FmZVBhcnNlSlNPTih7IHRleHQ6IGpzb25UZXh0IH0pO1xuICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogcmVzdWx0LnZhbHVlLCBzdGF0ZTogXCJzdWNjZXNzZnVsLXBhcnNlXCIgfTtcbiAgfVxuICByZXN1bHQgPSBzYWZlUGFyc2VKU09OKHsgdGV4dDogZml4SnNvbihqc29uVGV4dCkgfSk7XG4gIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgIHJldHVybiB7IHZhbHVlOiByZXN1bHQudmFsdWUsIHN0YXRlOiBcInJlcGFpcmVkLXBhcnNlXCIgfTtcbiAgfVxuICByZXR1cm4geyB2YWx1ZTogdm9pZCAwLCBzdGF0ZTogXCJmYWlsZWQtcGFyc2VcIiB9O1xufVxuXG4vLyBzcmMvZGF0YS1zdHJlYW0tcGFydHMudHNcbnZhciB0ZXh0U3RyZWFtUGFydDIgPSB7XG4gIGNvZGU6IFwiMFwiLFxuICBuYW1lOiBcInRleHRcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCJ0ZXh0XCIgcGFydHMgZXhwZWN0IGEgc3RyaW5nIHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcInRleHRcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBkYXRhU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCIyXCIsXG4gIG5hbWU6IFwiZGF0YVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcImRhdGFcIiBwYXJ0cyBleHBlY3QgYW4gYXJyYXkgdmFsdWUuJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IFwiZGF0YVwiLCB2YWx1ZSB9O1xuICB9XG59O1xudmFyIGVycm9yU3RyZWFtUGFydDIgPSB7XG4gIGNvZGU6IFwiM1wiLFxuICBuYW1lOiBcImVycm9yXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiZXJyb3JcIiBwYXJ0cyBleHBlY3QgYSBzdHJpbmcgdmFsdWUuJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBtZXNzYWdlQW5ub3RhdGlvbnNTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjhcIixcbiAgbmFtZTogXCJtZXNzYWdlX2Fubm90YXRpb25zXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wibWVzc2FnZV9hbm5vdGF0aW9uc1wiIHBhcnRzIGV4cGVjdCBhbiBhcnJheSB2YWx1ZS4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdHlwZTogXCJtZXNzYWdlX2Fubm90YXRpb25zXCIsIHZhbHVlIH07XG4gIH1cbn07XG52YXIgdG9vbENhbGxTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjlcIixcbiAgbmFtZTogXCJ0b29sX2NhbGxcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidG9vbENhbGxJZFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbENhbGxJZCAhPT0gXCJzdHJpbmdcIiB8fCAhKFwidG9vbE5hbWVcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRvb2xOYW1lICE9PSBcInN0cmluZ1wiIHx8ICEoXCJhcmdzXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5hcmdzICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInRvb2xfY2FsbFwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwidG9vbENhbGxJZFwiLCBcInRvb2xOYW1lXCIsIGFuZCBcImFyZ3NcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX2NhbGxcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciB0b29sUmVzdWx0U3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJhXCIsXG4gIG5hbWU6IFwidG9vbF9yZXN1bHRcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidG9vbENhbGxJZFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbENhbGxJZCAhPT0gXCJzdHJpbmdcIiB8fCAhKFwicmVzdWx0XCIgaW4gdmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInRvb2xfcmVzdWx0XCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJ0b29sQ2FsbElkXCIgYW5kIGEgXCJyZXN1bHRcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX3Jlc3VsdFwiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIHRvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImJcIixcbiAgbmFtZTogXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInRvb2xDYWxsSWRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRvb2xDYWxsSWQgIT09IFwic3RyaW5nXCIgfHwgIShcInRvb2xOYW1lXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sTmFtZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJ0b29sQ2FsbElkXCIgYW5kIFwidG9vbE5hbWVcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgdG9vbENhbGxEZWx0YVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiY1wiLFxuICBuYW1lOiBcInRvb2xfY2FsbF9kZWx0YVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJ0b29sQ2FsbElkXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sQ2FsbElkICE9PSBcInN0cmluZ1wiIHx8ICEoXCJhcmdzVGV4dERlbHRhXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5hcmdzVGV4dERlbHRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInRvb2xfY2FsbF9kZWx0YVwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwidG9vbENhbGxJZFwiIGFuZCBcImFyZ3NUZXh0RGVsdGFcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX2NhbGxfZGVsdGFcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciBmaW5pc2hNZXNzYWdlU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJkXCIsXG4gIG5hbWU6IFwiZmluaXNoX21lc3NhZ2VcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwiZmluaXNoUmVhc29uXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5maW5pc2hSZWFzb24gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1wiZmluaXNoX21lc3NhZ2VcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcImZpbmlzaFJlYXNvblwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgIGZpbmlzaFJlYXNvbjogdmFsdWUuZmluaXNoUmVhc29uXG4gICAgfTtcbiAgICBpZiAoXCJ1c2FnZVwiIGluIHZhbHVlICYmIHZhbHVlLnVzYWdlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnVzYWdlID09PSBcIm9iamVjdFwiICYmIFwicHJvbXB0VG9rZW5zXCIgaW4gdmFsdWUudXNhZ2UgJiYgXCJjb21wbGV0aW9uVG9rZW5zXCIgaW4gdmFsdWUudXNhZ2UpIHtcbiAgICAgIHJlc3VsdC51c2FnZSA9IHtcbiAgICAgICAgcHJvbXB0VG9rZW5zOiB0eXBlb2YgdmFsdWUudXNhZ2UucHJvbXB0VG9rZW5zID09PSBcIm51bWJlclwiID8gdmFsdWUudXNhZ2UucHJvbXB0VG9rZW5zIDogTnVtYmVyLk5hTixcbiAgICAgICAgY29tcGxldGlvblRva2VuczogdHlwZW9mIHZhbHVlLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPT09IFwibnVtYmVyXCIgPyB2YWx1ZS51c2FnZS5jb21wbGV0aW9uVG9rZW5zIDogTnVtYmVyLk5hTlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiZmluaXNoX21lc3NhZ2VcIixcbiAgICAgIHZhbHVlOiByZXN1bHRcbiAgICB9O1xuICB9XG59O1xudmFyIGZpbmlzaFN0ZXBTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImVcIixcbiAgbmFtZTogXCJmaW5pc2hfc3RlcFwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJmaW5pc2hSZWFzb25cIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmZpbmlzaFJlYXNvbiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJmaW5pc2hfc3RlcFwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwiZmluaXNoUmVhc29uXCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgZmluaXNoUmVhc29uOiB2YWx1ZS5maW5pc2hSZWFzb24sXG4gICAgICBpc0NvbnRpbnVlZDogZmFsc2VcbiAgICB9O1xuICAgIGlmIChcInVzYWdlXCIgaW4gdmFsdWUgJiYgdmFsdWUudXNhZ2UgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudXNhZ2UgPT09IFwib2JqZWN0XCIgJiYgXCJwcm9tcHRUb2tlbnNcIiBpbiB2YWx1ZS51c2FnZSAmJiBcImNvbXBsZXRpb25Ub2tlbnNcIiBpbiB2YWx1ZS51c2FnZSkge1xuICAgICAgcmVzdWx0LnVzYWdlID0ge1xuICAgICAgICBwcm9tcHRUb2tlbnM6IHR5cGVvZiB2YWx1ZS51c2FnZS5wcm9tcHRUb2tlbnMgPT09IFwibnVtYmVyXCIgPyB2YWx1ZS51c2FnZS5wcm9tcHRUb2tlbnMgOiBOdW1iZXIuTmFOLFxuICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiB0eXBlb2YgdmFsdWUudXNhZ2UuY29tcGxldGlvblRva2VucyA9PT0gXCJudW1iZXJcIiA/IHZhbHVlLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgOiBOdW1iZXIuTmFOXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoXCJpc0NvbnRpbnVlZFwiIGluIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5pc0NvbnRpbnVlZCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHJlc3VsdC5pc0NvbnRpbnVlZCA9IHZhbHVlLmlzQ29udGludWVkO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJmaW5pc2hfc3RlcFwiLFxuICAgICAgdmFsdWU6IHJlc3VsdFxuICAgIH07XG4gIH1cbn07XG52YXIgc3RhcnRTdGVwU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJmXCIsXG4gIG5hbWU6IFwic3RhcnRfc3RlcFwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJtZXNzYWdlSWRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLm1lc3NhZ2VJZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJzdGFydF9zdGVwXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGFuIFwiaWRcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJzdGFydF9zdGVwXCIsXG4gICAgICB2YWx1ZToge1xuICAgICAgICBtZXNzYWdlSWQ6IHZhbHVlLm1lc3NhZ2VJZFxuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG52YXIgcmVhc29uaW5nU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJnXCIsXG4gIG5hbWU6IFwicmVhc29uaW5nXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wicmVhc29uaW5nXCIgcGFydHMgZXhwZWN0IGEgc3RyaW5nIHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcInJlYXNvbmluZ1wiLCB2YWx1ZSB9O1xuICB9XG59O1xudmFyIHNvdXJjZVBhcnQgPSB7XG4gIGNvZGU6IFwiaFwiLFxuICBuYW1lOiBcInNvdXJjZVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wic291cmNlXCIgcGFydHMgZXhwZWN0IGEgU291cmNlIG9iamVjdC4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwic291cmNlXCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgcmVkYWN0ZWRSZWFzb25pbmdTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImlcIixcbiAgbmFtZTogXCJyZWRhY3RlZF9yZWFzb25pbmdcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwiZGF0YVwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJyZWRhY3RlZF9yZWFzb25pbmdcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcImRhdGFcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcInJlZGFjdGVkX3JlYXNvbmluZ1wiLCB2YWx1ZTogeyBkYXRhOiB2YWx1ZS5kYXRhIH0gfTtcbiAgfVxufTtcbnZhciByZWFzb25pbmdTaWduYXR1cmVTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImpcIixcbiAgbmFtZTogXCJyZWFzb25pbmdfc2lnbmF0dXJlXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInNpZ25hdHVyZVwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuc2lnbmF0dXJlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInJlYXNvbmluZ19zaWduYXR1cmVcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcInNpZ25hdHVyZVwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInJlYXNvbmluZ19zaWduYXR1cmVcIixcbiAgICAgIHZhbHVlOiB7IHNpZ25hdHVyZTogdmFsdWUuc2lnbmF0dXJlIH1cbiAgICB9O1xuICB9XG59O1xudmFyIGZpbGVTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImtcIixcbiAgbmFtZTogXCJmaWxlXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcImRhdGFcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmRhdGEgIT09IFwic3RyaW5nXCIgfHwgIShcIm1pbWVUeXBlXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5taW1lVHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJmaWxlXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJkYXRhXCIgYW5kIFwibWltZVR5cGVcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcImZpbGVcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBkYXRhU3RyZWFtUGFydHMgPSBbXG4gIHRleHRTdHJlYW1QYXJ0MixcbiAgZGF0YVN0cmVhbVBhcnQsXG4gIGVycm9yU3RyZWFtUGFydDIsXG4gIG1lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQsXG4gIHRvb2xDYWxsU3RyZWFtUGFydCxcbiAgdG9vbFJlc3VsdFN0cmVhbVBhcnQsXG4gIHRvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0LFxuICB0b29sQ2FsbERlbHRhU3RyZWFtUGFydCxcbiAgZmluaXNoTWVzc2FnZVN0cmVhbVBhcnQsXG4gIGZpbmlzaFN0ZXBTdHJlYW1QYXJ0LFxuICBzdGFydFN0ZXBTdHJlYW1QYXJ0LFxuICByZWFzb25pbmdTdHJlYW1QYXJ0LFxuICBzb3VyY2VQYXJ0LFxuICByZWRhY3RlZFJlYXNvbmluZ1N0cmVhbVBhcnQsXG4gIHJlYXNvbmluZ1NpZ25hdHVyZVN0cmVhbVBhcnQsXG4gIGZpbGVTdHJlYW1QYXJ0XG5dO1xudmFyIGRhdGFTdHJlYW1QYXJ0c0J5Q29kZSA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgZGF0YVN0cmVhbVBhcnRzLm1hcCgocGFydCkgPT4gW3BhcnQuY29kZSwgcGFydF0pXG4pO1xudmFyIERhdGFTdHJlYW1TdHJpbmdQcmVmaXhlcyA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgZGF0YVN0cmVhbVBhcnRzLm1hcCgocGFydCkgPT4gW3BhcnQubmFtZSwgcGFydC5jb2RlXSlcbik7XG52YXIgdmFsaWRDb2RlczIgPSBkYXRhU3RyZWFtUGFydHMubWFwKChwYXJ0KSA9PiBwYXJ0LmNvZGUpO1xudmFyIHBhcnNlRGF0YVN0cmVhbVBhcnQgPSAobGluZSkgPT4ge1xuICBjb25zdCBmaXJzdFNlcGFyYXRvckluZGV4ID0gbGluZS5pbmRleE9mKFwiOlwiKTtcbiAgaWYgKGZpcnN0U2VwYXJhdG9ySW5kZXggPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIHN0cmVhbSBzdHJpbmcuIE5vIHNlcGFyYXRvciBmb3VuZC5cIik7XG4gIH1cbiAgY29uc3QgcHJlZml4ID0gbGluZS5zbGljZSgwLCBmaXJzdFNlcGFyYXRvckluZGV4KTtcbiAgaWYgKCF2YWxpZENvZGVzMi5pbmNsdWRlcyhwcmVmaXgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcGFyc2Ugc3RyZWFtIHN0cmluZy4gSW52YWxpZCBjb2RlICR7cHJlZml4fS5gKTtcbiAgfVxuICBjb25zdCBjb2RlID0gcHJlZml4O1xuICBjb25zdCB0ZXh0VmFsdWUgPSBsaW5lLnNsaWNlKGZpcnN0U2VwYXJhdG9ySW5kZXggKyAxKTtcbiAgY29uc3QganNvblZhbHVlID0gSlNPTi5wYXJzZSh0ZXh0VmFsdWUpO1xuICByZXR1cm4gZGF0YVN0cmVhbVBhcnRzQnlDb2RlW2NvZGVdLnBhcnNlKGpzb25WYWx1ZSk7XG59O1xuZnVuY3Rpb24gZm9ybWF0RGF0YVN0cmVhbVBhcnQodHlwZSwgdmFsdWUpIHtcbiAgY29uc3Qgc3RyZWFtUGFydCA9IGRhdGFTdHJlYW1QYXJ0cy5maW5kKChwYXJ0KSA9PiBwYXJ0Lm5hbWUgPT09IHR5cGUpO1xuICBpZiAoIXN0cmVhbVBhcnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc3RyZWFtIHBhcnQgdHlwZTogJHt0eXBlfWApO1xuICB9XG4gIHJldHVybiBgJHtzdHJlYW1QYXJ0LmNvZGV9OiR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfVxuYDtcbn1cblxuLy8gc3JjL3Byb2Nlc3MtZGF0YS1zdHJlYW0udHNcbnZhciBORVdMSU5FID0gXCJcXG5cIi5jaGFyQ29kZUF0KDApO1xuZnVuY3Rpb24gY29uY2F0Q2h1bmtzKGNodW5rcywgdG90YWxMZW5ndGgpIHtcbiAgY29uc3QgY29uY2F0ZW5hdGVkQ2h1bmtzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxMZW5ndGgpO1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgZm9yIChjb25zdCBjaHVuayBvZiBjaHVua3MpIHtcbiAgICBjb25jYXRlbmF0ZWRDaHVua3Muc2V0KGNodW5rLCBvZmZzZXQpO1xuICAgIG9mZnNldCArPSBjaHVuay5sZW5ndGg7XG4gIH1cbiAgY2h1bmtzLmxlbmd0aCA9IDA7XG4gIHJldHVybiBjb25jYXRlbmF0ZWRDaHVua3M7XG59XG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzRGF0YVN0cmVhbSh7XG4gIHN0cmVhbSxcbiAgb25UZXh0UGFydCxcbiAgb25SZWFzb25pbmdQYXJ0LFxuICBvblJlYXNvbmluZ1NpZ25hdHVyZVBhcnQsXG4gIG9uUmVkYWN0ZWRSZWFzb25pbmdQYXJ0LFxuICBvblNvdXJjZVBhcnQsXG4gIG9uRmlsZVBhcnQsXG4gIG9uRGF0YVBhcnQsXG4gIG9uRXJyb3JQYXJ0LFxuICBvblRvb2xDYWxsU3RyZWFtaW5nU3RhcnRQYXJ0LFxuICBvblRvb2xDYWxsRGVsdGFQYXJ0LFxuICBvblRvb2xDYWxsUGFydCxcbiAgb25Ub29sUmVzdWx0UGFydCxcbiAgb25NZXNzYWdlQW5ub3RhdGlvbnNQYXJ0LFxuICBvbkZpbmlzaE1lc3NhZ2VQYXJ0LFxuICBvbkZpbmlzaFN0ZXBQYXJ0LFxuICBvblN0YXJ0U3RlcFBhcnRcbn0pIHtcbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gIGNvbnN0IGNodW5rcyA9IFtdO1xuICBsZXQgdG90YWxMZW5ndGggPSAwO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNvbnN0IHsgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBjaHVua3MucHVzaCh2YWx1ZSk7XG4gICAgICB0b3RhbExlbmd0aCArPSB2YWx1ZS5sZW5ndGg7XG4gICAgICBpZiAodmFsdWVbdmFsdWUubGVuZ3RoIC0gMV0gIT09IE5FV0xJTkUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjaHVua3MubGVuZ3RoID09PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY29uc3QgY29uY2F0ZW5hdGVkQ2h1bmtzID0gY29uY2F0Q2h1bmtzKGNodW5rcywgdG90YWxMZW5ndGgpO1xuICAgIHRvdGFsTGVuZ3RoID0gMDtcbiAgICBjb25zdCBzdHJlYW1QYXJ0cyA9IGRlY29kZXIuZGVjb2RlKGNvbmNhdGVuYXRlZENodW5rcywgeyBzdHJlYW06IHRydWUgfSkuc3BsaXQoXCJcXG5cIikuZmlsdGVyKChsaW5lKSA9PiBsaW5lICE9PSBcIlwiKS5tYXAocGFyc2VEYXRhU3RyZWFtUGFydCk7XG4gICAgZm9yIChjb25zdCB7IHR5cGUsIHZhbHVlOiB2YWx1ZTIgfSBvZiBzdHJlYW1QYXJ0cykge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgYXdhaXQgKG9uVGV4dFBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uVGV4dFBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZWFzb25pbmdcIjpcbiAgICAgICAgICBhd2FpdCAob25SZWFzb25pbmdQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblJlYXNvbmluZ1BhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZWFzb25pbmdfc2lnbmF0dXJlXCI6XG4gICAgICAgICAgYXdhaXQgKG9uUmVhc29uaW5nU2lnbmF0dXJlUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25SZWFzb25pbmdTaWduYXR1cmVQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVkYWN0ZWRfcmVhc29uaW5nXCI6XG4gICAgICAgICAgYXdhaXQgKG9uUmVkYWN0ZWRSZWFzb25pbmdQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblJlZGFjdGVkUmVhc29uaW5nUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZpbGVcIjpcbiAgICAgICAgICBhd2FpdCAob25GaWxlUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25GaWxlUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInNvdXJjZVwiOlxuICAgICAgICAgIGF3YWl0IChvblNvdXJjZVBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uU291cmNlUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRhdGFcIjpcbiAgICAgICAgICBhd2FpdCAob25EYXRhUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25EYXRhUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgYXdhaXQgKG9uRXJyb3JQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbkVycm9yUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VfYW5ub3RhdGlvbnNcIjpcbiAgICAgICAgICBhd2FpdCAob25NZXNzYWdlQW5ub3RhdGlvbnNQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbk1lc3NhZ2VBbm5vdGF0aW9uc1BhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCI6XG4gICAgICAgICAgYXdhaXQgKG9uVG9vbENhbGxTdHJlYW1pbmdTdGFydFBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uVG9vbENhbGxTdHJlYW1pbmdTdGFydFBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0b29sX2NhbGxfZGVsdGFcIjpcbiAgICAgICAgICBhd2FpdCAob25Ub29sQ2FsbERlbHRhUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25Ub29sQ2FsbERlbHRhUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRvb2xfY2FsbFwiOlxuICAgICAgICAgIGF3YWl0IChvblRvb2xDYWxsUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25Ub29sQ2FsbFBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0b29sX3Jlc3VsdFwiOlxuICAgICAgICAgIGF3YWl0IChvblRvb2xSZXN1bHRQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblRvb2xSZXN1bHRQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZmluaXNoX21lc3NhZ2VcIjpcbiAgICAgICAgICBhd2FpdCAob25GaW5pc2hNZXNzYWdlUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25GaW5pc2hNZXNzYWdlUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZpbmlzaF9zdGVwXCI6XG4gICAgICAgICAgYXdhaXQgKG9uRmluaXNoU3RlcFBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRmluaXNoU3RlcFBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdGFydF9zdGVwXCI6XG4gICAgICAgICAgYXdhaXQgKG9uU3RhcnRTdGVwUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25TdGFydFN0ZXBQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrID0gdHlwZTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc3RyZWFtIHBhcnQgdHlwZTogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gc3JjL3Byb2Nlc3MtY2hhdC1yZXNwb25zZS50c1xuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0NoYXRSZXNwb25zZSh7XG4gIHN0cmVhbSxcbiAgdXBkYXRlLFxuICBvblRvb2xDYWxsLFxuICBvbkZpbmlzaCxcbiAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDIgPSBnZW5lcmF0ZUlkRnVuY3Rpb24sXG4gIGdldEN1cnJlbnREYXRlID0gKCkgPT4gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gIGxhc3RNZXNzYWdlXG59KSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IHJlcGxhY2VMYXN0TWVzc2FnZSA9IChsYXN0TWVzc2FnZSA9PSBudWxsID8gdm9pZCAwIDogbGFzdE1lc3NhZ2Uucm9sZSkgPT09IFwiYXNzaXN0YW50XCI7XG4gIGxldCBzdGVwID0gcmVwbGFjZUxhc3RNZXNzYWdlID8gMSArIC8vIGZpbmQgbWF4IHN0ZXAgaW4gZXhpc3RpbmcgdG9vbCBpbnZvY2F0aW9uczpcbiAgKChfYiA9IChfYSA9IGxhc3RNZXNzYWdlLnRvb2xJbnZvY2F0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJlZHVjZSgobWF4LCB0b29sSW52b2NhdGlvbikgPT4ge1xuICAgIHZhciBfYTI7XG4gICAgcmV0dXJuIE1hdGgubWF4KG1heCwgKF9hMiA9IHRvb2xJbnZvY2F0aW9uLnN0ZXApICE9IG51bGwgPyBfYTIgOiAwKTtcbiAgfSwgMCkpICE9IG51bGwgPyBfYiA6IDApIDogMDtcbiAgY29uc3QgbWVzc2FnZSA9IHJlcGxhY2VMYXN0TWVzc2FnZSA/IHN0cnVjdHVyZWRDbG9uZShsYXN0TWVzc2FnZSkgOiB7XG4gICAgaWQ6IGdlbmVyYXRlSWQyKCksXG4gICAgY3JlYXRlZEF0OiBnZXRDdXJyZW50RGF0ZSgpLFxuICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgY29udGVudDogXCJcIixcbiAgICBwYXJ0czogW11cbiAgfTtcbiAgbGV0IGN1cnJlbnRUZXh0UGFydCA9IHZvaWQgMDtcbiAgbGV0IGN1cnJlbnRSZWFzb25pbmdQYXJ0ID0gdm9pZCAwO1xuICBsZXQgY3VycmVudFJlYXNvbmluZ1RleHREZXRhaWwgPSB2b2lkIDA7XG4gIGZ1bmN0aW9uIHVwZGF0ZVRvb2xJbnZvY2F0aW9uUGFydCh0b29sQ2FsbElkLCBpbnZvY2F0aW9uKSB7XG4gICAgY29uc3QgcGFydCA9IG1lc3NhZ2UucGFydHMuZmluZChcbiAgICAgIChwYXJ0MikgPT4gcGFydDIudHlwZSA9PT0gXCJ0b29sLWludm9jYXRpb25cIiAmJiBwYXJ0Mi50b29sSW52b2NhdGlvbi50b29sQ2FsbElkID09PSB0b29sQ2FsbElkXG4gICAgKTtcbiAgICBpZiAocGFydCAhPSBudWxsKSB7XG4gICAgICBwYXJ0LnRvb2xJbnZvY2F0aW9uID0gaW52b2NhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS5wYXJ0cy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJ0b29sLWludm9jYXRpb25cIixcbiAgICAgICAgdG9vbEludm9jYXRpb246IGludm9jYXRpb25cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBjb25zdCBkYXRhID0gW107XG4gIGxldCBtZXNzYWdlQW5ub3RhdGlvbnMgPSByZXBsYWNlTGFzdE1lc3NhZ2UgPyBsYXN0TWVzc2FnZSA9PSBudWxsID8gdm9pZCAwIDogbGFzdE1lc3NhZ2UuYW5ub3RhdGlvbnMgOiB2b2lkIDA7XG4gIGNvbnN0IHBhcnRpYWxUb29sQ2FsbHMgPSB7fTtcbiAgbGV0IHVzYWdlID0ge1xuICAgIGNvbXBsZXRpb25Ub2tlbnM6IE5hTixcbiAgICBwcm9tcHRUb2tlbnM6IE5hTixcbiAgICB0b3RhbFRva2VuczogTmFOXG4gIH07XG4gIGxldCBmaW5pc2hSZWFzb24gPSBcInVua25vd25cIjtcbiAgZnVuY3Rpb24gZXhlY1VwZGF0ZSgpIHtcbiAgICBjb25zdCBjb3BpZWREYXRhID0gWy4uLmRhdGFdO1xuICAgIGlmIChtZXNzYWdlQW5ub3RhdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lc3NhZ2VBbm5vdGF0aW9ucy5sZW5ndGgpIHtcbiAgICAgIG1lc3NhZ2UuYW5ub3RhdGlvbnMgPSBtZXNzYWdlQW5ub3RhdGlvbnM7XG4gICAgfVxuICAgIGNvbnN0IGNvcGllZE1lc3NhZ2UgPSB7XG4gICAgICAvLyBkZWVwIGNvcHkgdGhlIG1lc3NhZ2UgdG8gZW5zdXJlIHRoYXQgZGVlcCBjaGFuZ2VzIChtc2cgYXR0YWNobWVudHMpIGFyZSB1cGRhdGVkXG4gICAgICAvLyB3aXRoIFNvbGlkSlMuIFNvbGlkSlMgdXNlcyByZWZlcmVudGlhbCBpbnRlZ3JhdGlvbiBvZiBzdWItb2JqZWN0cyB0byBkZXRlY3QgY2hhbmdlcy5cbiAgICAgIC4uLnN0cnVjdHVyZWRDbG9uZShtZXNzYWdlKSxcbiAgICAgIC8vIGFkZCBhIHJldmlzaW9uIGlkIHRvIGVuc3VyZSB0aGF0IHRoZSBtZXNzYWdlIGlzIHVwZGF0ZWQgd2l0aCBTV1IuIFNXUiB1c2VzIGFcbiAgICAgIC8vIGhhc2hpbmcgYXBwcm9hY2ggYnkgZGVmYXVsdCB0byBkZXRlY3QgY2hhbmdlcywgYnV0IGl0IG9ubHkgd29ya3MgZm9yIHNoYWxsb3dcbiAgICAgIC8vIGNoYW5nZXMuIFRoaXMgaXMgd2h5IHdlIG5lZWQgdG8gYWRkIGEgcmV2aXNpb24gaWQgdG8gZW5zdXJlIHRoYXQgdGhlIG1lc3NhZ2VcbiAgICAgIC8vIGlzIHVwZGF0ZWQgd2l0aCBTV1IgKHdpdGhvdXQgaXQsIHRoZSBjaGFuZ2VzIGdldCBzdHVjayBpbiBTV1IgYW5kIGFyZSBub3RcbiAgICAgIC8vIGZvcndhcmRlZCB0byByZW5kZXJpbmcpOlxuICAgICAgcmV2aXNpb25JZDogZ2VuZXJhdGVJZDIoKVxuICAgIH07XG4gICAgdXBkYXRlKHtcbiAgICAgIG1lc3NhZ2U6IGNvcGllZE1lc3NhZ2UsXG4gICAgICBkYXRhOiBjb3BpZWREYXRhLFxuICAgICAgcmVwbGFjZUxhc3RNZXNzYWdlXG4gICAgfSk7XG4gIH1cbiAgYXdhaXQgcHJvY2Vzc0RhdGFTdHJlYW0oe1xuICAgIHN0cmVhbSxcbiAgICBvblRleHRQYXJ0KHZhbHVlKSB7XG4gICAgICBpZiAoY3VycmVudFRleHRQYXJ0ID09IG51bGwpIHtcbiAgICAgICAgY3VycmVudFRleHRQYXJ0ID0ge1xuICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgIHRleHQ6IHZhbHVlXG4gICAgICAgIH07XG4gICAgICAgIG1lc3NhZ2UucGFydHMucHVzaChjdXJyZW50VGV4dFBhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFRleHRQYXJ0LnRleHQgKz0gdmFsdWU7XG4gICAgICB9XG4gICAgICBtZXNzYWdlLmNvbnRlbnQgKz0gdmFsdWU7XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgfSxcbiAgICBvblJlYXNvbmluZ1BhcnQodmFsdWUpIHtcbiAgICAgIHZhciBfYTI7XG4gICAgICBpZiAoY3VycmVudFJlYXNvbmluZ1RleHREZXRhaWwgPT0gbnVsbCkge1xuICAgICAgICBjdXJyZW50UmVhc29uaW5nVGV4dERldGFpbCA9IHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IHZhbHVlIH07XG4gICAgICAgIGlmIChjdXJyZW50UmVhc29uaW5nUGFydCAhPSBudWxsKSB7XG4gICAgICAgICAgY3VycmVudFJlYXNvbmluZ1BhcnQuZGV0YWlscy5wdXNoKGN1cnJlbnRSZWFzb25pbmdUZXh0RGV0YWlsKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFJlYXNvbmluZ1RleHREZXRhaWwudGV4dCArPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50UmVhc29uaW5nUGFydCA9PSBudWxsKSB7XG4gICAgICAgIGN1cnJlbnRSZWFzb25pbmdQYXJ0ID0ge1xuICAgICAgICAgIHR5cGU6IFwicmVhc29uaW5nXCIsXG4gICAgICAgICAgcmVhc29uaW5nOiB2YWx1ZSxcbiAgICAgICAgICBkZXRhaWxzOiBbY3VycmVudFJlYXNvbmluZ1RleHREZXRhaWxdXG4gICAgICAgIH07XG4gICAgICAgIG1lc3NhZ2UucGFydHMucHVzaChjdXJyZW50UmVhc29uaW5nUGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50UmVhc29uaW5nUGFydC5yZWFzb25pbmcgKz0gdmFsdWU7XG4gICAgICB9XG4gICAgICBtZXNzYWdlLnJlYXNvbmluZyA9ICgoX2EyID0gbWVzc2FnZS5yZWFzb25pbmcpICE9IG51bGwgPyBfYTIgOiBcIlwiKSArIHZhbHVlO1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25SZWFzb25pbmdTaWduYXR1cmVQYXJ0KHZhbHVlKSB7XG4gICAgICBpZiAoY3VycmVudFJlYXNvbmluZ1RleHREZXRhaWwgIT0gbnVsbCkge1xuICAgICAgICBjdXJyZW50UmVhc29uaW5nVGV4dERldGFpbC5zaWduYXR1cmUgPSB2YWx1ZS5zaWduYXR1cmU7XG4gICAgICB9XG4gICAgfSxcbiAgICBvblJlZGFjdGVkUmVhc29uaW5nUGFydCh2YWx1ZSkge1xuICAgICAgaWYgKGN1cnJlbnRSZWFzb25pbmdQYXJ0ID09IG51bGwpIHtcbiAgICAgICAgY3VycmVudFJlYXNvbmluZ1BhcnQgPSB7XG4gICAgICAgICAgdHlwZTogXCJyZWFzb25pbmdcIixcbiAgICAgICAgICByZWFzb25pbmc6IFwiXCIsXG4gICAgICAgICAgZGV0YWlsczogW11cbiAgICAgICAgfTtcbiAgICAgICAgbWVzc2FnZS5wYXJ0cy5wdXNoKGN1cnJlbnRSZWFzb25pbmdQYXJ0KTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRSZWFzb25pbmdQYXJ0LmRldGFpbHMucHVzaCh7XG4gICAgICAgIHR5cGU6IFwicmVkYWN0ZWRcIixcbiAgICAgICAgZGF0YTogdmFsdWUuZGF0YVxuICAgICAgfSk7XG4gICAgICBjdXJyZW50UmVhc29uaW5nVGV4dERldGFpbCA9IHZvaWQgMDtcbiAgICAgIGV4ZWNVcGRhdGUoKTtcbiAgICB9LFxuICAgIG9uRmlsZVBhcnQodmFsdWUpIHtcbiAgICAgIG1lc3NhZ2UucGFydHMucHVzaCh7XG4gICAgICAgIHR5cGU6IFwiZmlsZVwiLFxuICAgICAgICBtaW1lVHlwZTogdmFsdWUubWltZVR5cGUsXG4gICAgICAgIGRhdGE6IHZhbHVlLmRhdGFcbiAgICAgIH0pO1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25Tb3VyY2VQYXJ0KHZhbHVlKSB7XG4gICAgICBtZXNzYWdlLnBhcnRzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInNvdXJjZVwiLFxuICAgICAgICBzb3VyY2U6IHZhbHVlXG4gICAgICB9KTtcbiAgICAgIGV4ZWNVcGRhdGUoKTtcbiAgICB9LFxuICAgIG9uVG9vbENhbGxTdHJlYW1pbmdTdGFydFBhcnQodmFsdWUpIHtcbiAgICAgIGlmIChtZXNzYWdlLnRvb2xJbnZvY2F0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG1lc3NhZ2UudG9vbEludm9jYXRpb25zID0gW107XG4gICAgICB9XG4gICAgICBwYXJ0aWFsVG9vbENhbGxzW3ZhbHVlLnRvb2xDYWxsSWRdID0ge1xuICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICBzdGVwLFxuICAgICAgICB0b29sTmFtZTogdmFsdWUudG9vbE5hbWUsXG4gICAgICAgIGluZGV4OiBtZXNzYWdlLnRvb2xJbnZvY2F0aW9ucy5sZW5ndGhcbiAgICAgIH07XG4gICAgICBjb25zdCBpbnZvY2F0aW9uID0ge1xuICAgICAgICBzdGF0ZTogXCJwYXJ0aWFsLWNhbGxcIixcbiAgICAgICAgc3RlcCxcbiAgICAgICAgdG9vbENhbGxJZDogdmFsdWUudG9vbENhbGxJZCxcbiAgICAgICAgdG9vbE5hbWU6IHZhbHVlLnRvb2xOYW1lLFxuICAgICAgICBhcmdzOiB2b2lkIDBcbiAgICAgIH07XG4gICAgICBtZXNzYWdlLnRvb2xJbnZvY2F0aW9ucy5wdXNoKGludm9jYXRpb24pO1xuICAgICAgdXBkYXRlVG9vbEludm9jYXRpb25QYXJ0KHZhbHVlLnRvb2xDYWxsSWQsIGludm9jYXRpb24pO1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25Ub29sQ2FsbERlbHRhUGFydCh2YWx1ZSkge1xuICAgICAgY29uc3QgcGFydGlhbFRvb2xDYWxsID0gcGFydGlhbFRvb2xDYWxsc1t2YWx1ZS50b29sQ2FsbElkXTtcbiAgICAgIHBhcnRpYWxUb29sQ2FsbC50ZXh0ICs9IHZhbHVlLmFyZ3NUZXh0RGVsdGE7XG4gICAgICBjb25zdCB7IHZhbHVlOiBwYXJ0aWFsQXJncyB9ID0gcGFyc2VQYXJ0aWFsSnNvbihwYXJ0aWFsVG9vbENhbGwudGV4dCk7XG4gICAgICBjb25zdCBpbnZvY2F0aW9uID0ge1xuICAgICAgICBzdGF0ZTogXCJwYXJ0aWFsLWNhbGxcIixcbiAgICAgICAgc3RlcDogcGFydGlhbFRvb2xDYWxsLnN0ZXAsXG4gICAgICAgIHRvb2xDYWxsSWQ6IHZhbHVlLnRvb2xDYWxsSWQsXG4gICAgICAgIHRvb2xOYW1lOiBwYXJ0aWFsVG9vbENhbGwudG9vbE5hbWUsXG4gICAgICAgIGFyZ3M6IHBhcnRpYWxBcmdzXG4gICAgICB9O1xuICAgICAgbWVzc2FnZS50b29sSW52b2NhdGlvbnNbcGFydGlhbFRvb2xDYWxsLmluZGV4XSA9IGludm9jYXRpb247XG4gICAgICB1cGRhdGVUb29sSW52b2NhdGlvblBhcnQodmFsdWUudG9vbENhbGxJZCwgaW52b2NhdGlvbik7XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgfSxcbiAgICBhc3luYyBvblRvb2xDYWxsUGFydCh2YWx1ZSkge1xuICAgICAgY29uc3QgaW52b2NhdGlvbiA9IHtcbiAgICAgICAgc3RhdGU6IFwiY2FsbFwiLFxuICAgICAgICBzdGVwLFxuICAgICAgICAuLi52YWx1ZVxuICAgICAgfTtcbiAgICAgIGlmIChwYXJ0aWFsVG9vbENhbGxzW3ZhbHVlLnRvb2xDYWxsSWRdICE9IG51bGwpIHtcbiAgICAgICAgbWVzc2FnZS50b29sSW52b2NhdGlvbnNbcGFydGlhbFRvb2xDYWxsc1t2YWx1ZS50b29sQ2FsbElkXS5pbmRleF0gPSBpbnZvY2F0aW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudG9vbEludm9jYXRpb25zID09IG51bGwpIHtcbiAgICAgICAgICBtZXNzYWdlLnRvb2xJbnZvY2F0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2UudG9vbEludm9jYXRpb25zLnB1c2goaW52b2NhdGlvbik7XG4gICAgICB9XG4gICAgICB1cGRhdGVUb29sSW52b2NhdGlvblBhcnQodmFsdWUudG9vbENhbGxJZCwgaW52b2NhdGlvbik7XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgICBpZiAob25Ub29sQ2FsbCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvblRvb2xDYWxsKHsgdG9vbENhbGw6IHZhbHVlIH0pO1xuICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBpbnZvY2F0aW9uMiA9IHtcbiAgICAgICAgICAgIHN0YXRlOiBcInJlc3VsdFwiLFxuICAgICAgICAgICAgc3RlcCxcbiAgICAgICAgICAgIC4uLnZhbHVlLFxuICAgICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgfTtcbiAgICAgICAgICBtZXNzYWdlLnRvb2xJbnZvY2F0aW9uc1ttZXNzYWdlLnRvb2xJbnZvY2F0aW9ucy5sZW5ndGggLSAxXSA9IGludm9jYXRpb24yO1xuICAgICAgICAgIHVwZGF0ZVRvb2xJbnZvY2F0aW9uUGFydCh2YWx1ZS50b29sQ2FsbElkLCBpbnZvY2F0aW9uMik7XG4gICAgICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBvblRvb2xSZXN1bHRQYXJ0KHZhbHVlKSB7XG4gICAgICBjb25zdCB0b29sSW52b2NhdGlvbnMgPSBtZXNzYWdlLnRvb2xJbnZvY2F0aW9ucztcbiAgICAgIGlmICh0b29sSW52b2NhdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0b29sX3Jlc3VsdCBtdXN0IGJlIHByZWNlZGVkIGJ5IGEgdG9vbF9jYWxsXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgdG9vbEludm9jYXRpb25JbmRleCA9IHRvb2xJbnZvY2F0aW9ucy5maW5kSW5kZXgoXG4gICAgICAgIChpbnZvY2F0aW9uMikgPT4gaW52b2NhdGlvbjIudG9vbENhbGxJZCA9PT0gdmFsdWUudG9vbENhbGxJZFxuICAgICAgKTtcbiAgICAgIGlmICh0b29sSW52b2NhdGlvbkluZGV4ID09PSAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJ0b29sX3Jlc3VsdCBtdXN0IGJlIHByZWNlZGVkIGJ5IGEgdG9vbF9jYWxsIHdpdGggdGhlIHNhbWUgdG9vbENhbGxJZFwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBpbnZvY2F0aW9uID0ge1xuICAgICAgICAuLi50b29sSW52b2NhdGlvbnNbdG9vbEludm9jYXRpb25JbmRleF0sXG4gICAgICAgIHN0YXRlOiBcInJlc3VsdFwiLFxuICAgICAgICAuLi52YWx1ZVxuICAgICAgfTtcbiAgICAgIHRvb2xJbnZvY2F0aW9uc1t0b29sSW52b2NhdGlvbkluZGV4XSA9IGludm9jYXRpb247XG4gICAgICB1cGRhdGVUb29sSW52b2NhdGlvblBhcnQodmFsdWUudG9vbENhbGxJZCwgaW52b2NhdGlvbik7XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgfSxcbiAgICBvbkRhdGFQYXJ0KHZhbHVlKSB7XG4gICAgICBkYXRhLnB1c2goLi4udmFsdWUpO1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25NZXNzYWdlQW5ub3RhdGlvbnNQYXJ0KHZhbHVlKSB7XG4gICAgICBpZiAobWVzc2FnZUFubm90YXRpb25zID09IG51bGwpIHtcbiAgICAgICAgbWVzc2FnZUFubm90YXRpb25zID0gWy4uLnZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2VBbm5vdGF0aW9ucy5wdXNoKC4uLnZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGV4ZWNVcGRhdGUoKTtcbiAgICB9LFxuICAgIG9uRmluaXNoU3RlcFBhcnQodmFsdWUpIHtcbiAgICAgIHN0ZXAgKz0gMTtcbiAgICAgIGN1cnJlbnRUZXh0UGFydCA9IHZhbHVlLmlzQ29udGludWVkID8gY3VycmVudFRleHRQYXJ0IDogdm9pZCAwO1xuICAgICAgY3VycmVudFJlYXNvbmluZ1BhcnQgPSB2b2lkIDA7XG4gICAgICBjdXJyZW50UmVhc29uaW5nVGV4dERldGFpbCA9IHZvaWQgMDtcbiAgICB9LFxuICAgIG9uU3RhcnRTdGVwUGFydCh2YWx1ZSkge1xuICAgICAgaWYgKCFyZXBsYWNlTGFzdE1lc3NhZ2UpIHtcbiAgICAgICAgbWVzc2FnZS5pZCA9IHZhbHVlLm1lc3NhZ2VJZDtcbiAgICAgIH1cbiAgICAgIG1lc3NhZ2UucGFydHMucHVzaCh7IHR5cGU6IFwic3RlcC1zdGFydFwiIH0pO1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25GaW5pc2hNZXNzYWdlUGFydCh2YWx1ZSkge1xuICAgICAgZmluaXNoUmVhc29uID0gdmFsdWUuZmluaXNoUmVhc29uO1xuICAgICAgaWYgKHZhbHVlLnVzYWdlICE9IG51bGwpIHtcbiAgICAgICAgdXNhZ2UgPSBjYWxjdWxhdGVMYW5ndWFnZU1vZGVsVXNhZ2UodmFsdWUudXNhZ2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25FcnJvclBhcnQoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gICAgfVxuICB9KTtcbiAgb25GaW5pc2ggPT0gbnVsbCA/IHZvaWQgMCA6IG9uRmluaXNoKHsgbWVzc2FnZSwgZmluaXNoUmVhc29uLCB1c2FnZSB9KTtcbn1cblxuLy8gc3JjL3Byb2Nlc3MtY2hhdC10ZXh0LXJlc3BvbnNlLnRzXG5pbXBvcnQgeyBnZW5lcmF0ZUlkIGFzIGdlbmVyYXRlSWRGdW5jdGlvbjIgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBzcmMvcHJvY2Vzcy10ZXh0LXN0cmVhbS50c1xuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1RleHRTdHJlYW0oe1xuICBzdHJlYW0sXG4gIG9uVGV4dFBhcnRcbn0pIHtcbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKS5nZXRSZWFkZXIoKTtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgIGlmIChkb25lKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgYXdhaXQgb25UZXh0UGFydCh2YWx1ZSk7XG4gIH1cbn1cblxuLy8gc3JjL3Byb2Nlc3MtY2hhdC10ZXh0LXJlc3BvbnNlLnRzXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzQ2hhdFRleHRSZXNwb25zZSh7XG4gIHN0cmVhbSxcbiAgdXBkYXRlLFxuICBvbkZpbmlzaCxcbiAgZ2V0Q3VycmVudERhdGUgPSAoKSA9PiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDIgPSBnZW5lcmF0ZUlkRnVuY3Rpb24yXG59KSB7XG4gIGNvbnN0IHRleHRQYXJ0ID0geyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJcIiB9O1xuICBjb25zdCByZXN1bHRNZXNzYWdlID0ge1xuICAgIGlkOiBnZW5lcmF0ZUlkMigpLFxuICAgIGNyZWF0ZWRBdDogZ2V0Q3VycmVudERhdGUoKSxcbiAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgIGNvbnRlbnQ6IFwiXCIsXG4gICAgcGFydHM6IFt0ZXh0UGFydF1cbiAgfTtcbiAgYXdhaXQgcHJvY2Vzc1RleHRTdHJlYW0oe1xuICAgIHN0cmVhbSxcbiAgICBvblRleHRQYXJ0OiAoY2h1bmspID0+IHtcbiAgICAgIHJlc3VsdE1lc3NhZ2UuY29udGVudCArPSBjaHVuaztcbiAgICAgIHRleHRQYXJ0LnRleHQgKz0gY2h1bms7XG4gICAgICB1cGRhdGUoe1xuICAgICAgICBtZXNzYWdlOiB7IC4uLnJlc3VsdE1lc3NhZ2UgfSxcbiAgICAgICAgZGF0YTogW10sXG4gICAgICAgIHJlcGxhY2VMYXN0TWVzc2FnZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIG9uRmluaXNoID09IG51bGwgPyB2b2lkIDAgOiBvbkZpbmlzaChyZXN1bHRNZXNzYWdlLCB7XG4gICAgdXNhZ2U6IHsgY29tcGxldGlvblRva2VuczogTmFOLCBwcm9tcHRUb2tlbnM6IE5hTiwgdG90YWxUb2tlbnM6IE5hTiB9LFxuICAgIGZpbmlzaFJlYXNvbjogXCJ1bmtub3duXCJcbiAgfSk7XG59XG5cbi8vIHNyYy9jYWxsLWNoYXQtYXBpLnRzXG52YXIgZ2V0T3JpZ2luYWxGZXRjaCA9ICgpID0+IGZldGNoO1xuYXN5bmMgZnVuY3Rpb24gY2FsbENoYXRBcGkoe1xuICBhcGksXG4gIGJvZHksXG4gIHN0cmVhbVByb3RvY29sID0gXCJkYXRhXCIsXG4gIGNyZWRlbnRpYWxzLFxuICBoZWFkZXJzLFxuICBhYm9ydENvbnRyb2xsZXIsXG4gIHJlc3RvcmVNZXNzYWdlc09uRmFpbHVyZSxcbiAgb25SZXNwb25zZSxcbiAgb25VcGRhdGUsXG4gIG9uRmluaXNoLFxuICBvblRvb2xDYWxsLFxuICBnZW5lcmF0ZUlkOiBnZW5lcmF0ZUlkMixcbiAgZmV0Y2g6IGZldGNoMiA9IGdldE9yaWdpbmFsRmV0Y2goKSxcbiAgbGFzdE1lc3NhZ2Vcbn0pIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaDIoYXBpLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIC4uLmhlYWRlcnNcbiAgICB9LFxuICAgIHNpZ25hbDogKF9hID0gYWJvcnRDb250cm9sbGVyID09IG51bGwgPyB2b2lkIDAgOiBhYm9ydENvbnRyb2xsZXIoKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnNpZ25hbCxcbiAgICBjcmVkZW50aWFsc1xuICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgcmVzdG9yZU1lc3NhZ2VzT25GYWlsdXJlKCk7XG4gICAgdGhyb3cgZXJyO1xuICB9KTtcbiAgaWYgKG9uUmVzcG9uc2UpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgb25SZXNwb25zZShyZXNwb25zZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICByZXN0b3JlTWVzc2FnZXNPbkZhaWx1cmUoKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAoX2IgPSBhd2FpdCByZXNwb25zZS50ZXh0KCkpICE9IG51bGwgPyBfYiA6IFwiRmFpbGVkIHRvIGZldGNoIHRoZSBjaGF0IHJlc3BvbnNlLlwiXG4gICAgKTtcbiAgfVxuICBpZiAoIXJlc3BvbnNlLmJvZHkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcmVzcG9uc2UgYm9keSBpcyBlbXB0eS5cIik7XG4gIH1cbiAgc3dpdGNoIChzdHJlYW1Qcm90b2NvbCkge1xuICAgIGNhc2UgXCJ0ZXh0XCI6IHtcbiAgICAgIGF3YWl0IHByb2Nlc3NDaGF0VGV4dFJlc3BvbnNlKHtcbiAgICAgICAgc3RyZWFtOiByZXNwb25zZS5ib2R5LFxuICAgICAgICB1cGRhdGU6IG9uVXBkYXRlLFxuICAgICAgICBvbkZpbmlzaCxcbiAgICAgICAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYXNlIFwiZGF0YVwiOiB7XG4gICAgICBhd2FpdCBwcm9jZXNzQ2hhdFJlc3BvbnNlKHtcbiAgICAgICAgc3RyZWFtOiByZXNwb25zZS5ib2R5LFxuICAgICAgICB1cGRhdGU6IG9uVXBkYXRlLFxuICAgICAgICBsYXN0TWVzc2FnZSxcbiAgICAgICAgb25Ub29sQ2FsbCxcbiAgICAgICAgb25GaW5pc2goeyBtZXNzYWdlLCBmaW5pc2hSZWFzb24sIHVzYWdlIH0pIHtcbiAgICAgICAgICBpZiAob25GaW5pc2ggJiYgbWVzc2FnZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBvbkZpbmlzaChtZXNzYWdlLCB7IHVzYWdlLCBmaW5pc2hSZWFzb24gfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZW5lcmF0ZUlkOiBnZW5lcmF0ZUlkMlxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjayA9IHN0cmVhbVByb3RvY29sO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHN0cmVhbSBwcm90b2NvbDogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgfVxuICB9XG59XG5cbi8vIHNyYy9jYWxsLWNvbXBsZXRpb24tYXBpLnRzXG52YXIgZ2V0T3JpZ2luYWxGZXRjaDIgPSAoKSA9PiBmZXRjaDtcbmFzeW5jIGZ1bmN0aW9uIGNhbGxDb21wbGV0aW9uQXBpKHtcbiAgYXBpLFxuICBwcm9tcHQsXG4gIGNyZWRlbnRpYWxzLFxuICBoZWFkZXJzLFxuICBib2R5LFxuICBzdHJlYW1Qcm90b2NvbCA9IFwiZGF0YVwiLFxuICBzZXRDb21wbGV0aW9uLFxuICBzZXRMb2FkaW5nLFxuICBzZXRFcnJvcixcbiAgc2V0QWJvcnRDb250cm9sbGVyLFxuICBvblJlc3BvbnNlLFxuICBvbkZpbmlzaCxcbiAgb25FcnJvcixcbiAgb25EYXRhLFxuICBmZXRjaDogZmV0Y2gyID0gZ2V0T3JpZ2luYWxGZXRjaDIoKVxufSkge1xuICB2YXIgX2E7XG4gIHRyeSB7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcih2b2lkIDApO1xuICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBzZXRBYm9ydENvbnRyb2xsZXIoYWJvcnRDb250cm9sbGVyKTtcbiAgICBzZXRDb21wbGV0aW9uKFwiXCIpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gyKGFwaSwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgcHJvbXB0LFxuICAgICAgICAuLi5ib2R5XG4gICAgICB9KSxcbiAgICAgIGNyZWRlbnRpYWxzLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgLi4uaGVhZGVyc1xuICAgICAgfSxcbiAgICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyLnNpZ25hbFxuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgICBpZiAob25SZXNwb25zZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgb25SZXNwb25zZShyZXNwb25zZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIChfYSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKSkgIT0gbnVsbCA/IF9hIDogXCJGYWlsZWQgdG8gZmV0Y2ggdGhlIGNoYXQgcmVzcG9uc2UuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghcmVzcG9uc2UuYm9keSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHJlc3BvbnNlIGJvZHkgaXMgZW1wdHkuXCIpO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICBzd2l0Y2ggKHN0cmVhbVByb3RvY29sKSB7XG4gICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgIGF3YWl0IHByb2Nlc3NUZXh0U3RyZWFtKHtcbiAgICAgICAgICBzdHJlYW06IHJlc3BvbnNlLmJvZHksXG4gICAgICAgICAgb25UZXh0UGFydDogKGNodW5rKSA9PiB7XG4gICAgICAgICAgICByZXN1bHQgKz0gY2h1bms7XG4gICAgICAgICAgICBzZXRDb21wbGV0aW9uKHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiZGF0YVwiOiB7XG4gICAgICAgIGF3YWl0IHByb2Nlc3NEYXRhU3RyZWFtKHtcbiAgICAgICAgICBzdHJlYW06IHJlc3BvbnNlLmJvZHksXG4gICAgICAgICAgb25UZXh0UGFydCh2YWx1ZSkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHZhbHVlO1xuICAgICAgICAgICAgc2V0Q29tcGxldGlvbihyZXN1bHQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25EYXRhUGFydCh2YWx1ZSkge1xuICAgICAgICAgICAgb25EYXRhID09IG51bGwgPyB2b2lkIDAgOiBvbkRhdGEodmFsdWUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25FcnJvclBhcnQodmFsdWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjayA9IHN0cmVhbVByb3RvY29sO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc3RyZWFtIHByb3RvY29sOiAke2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9uRmluaXNoKSB7XG4gICAgICBvbkZpbmlzaChwcm9tcHQsIHJlc3VsdCk7XG4gICAgfVxuICAgIHNldEFib3J0Q29udHJvbGxlcihudWxsKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAoZXJyLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSB7XG4gICAgICBzZXRBYm9ydENvbnRyb2xsZXIobnVsbCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBpZiAob25FcnJvcikge1xuICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICB9XG4gICAgfVxuICAgIHNldEVycm9yKGVycik7XG4gIH0gZmluYWxseSB7XG4gICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gIH1cbn1cblxuLy8gc3JjL2RhdGEtdXJsLnRzXG5mdW5jdGlvbiBnZXRUZXh0RnJvbURhdGFVcmwoZGF0YVVybCkge1xuICBjb25zdCBbaGVhZGVyLCBiYXNlNjRDb250ZW50XSA9IGRhdGFVcmwuc3BsaXQoXCIsXCIpO1xuICBjb25zdCBtaW1lVHlwZSA9IGhlYWRlci5zcGxpdChcIjtcIilbMF0uc3BsaXQoXCI6XCIpWzFdO1xuICBpZiAobWltZVR5cGUgPT0gbnVsbCB8fCBiYXNlNjRDb250ZW50ID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRhdGEgVVJMIGZvcm1hdFwiKTtcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cuYXRvYihiYXNlNjRDb250ZW50KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGRlY29kaW5nIGRhdGEgVVJMYCk7XG4gIH1cbn1cblxuLy8gc3JjL2V4dHJhY3QtbWF4LXRvb2wtaW52b2NhdGlvbi1zdGVwLnRzXG5mdW5jdGlvbiBleHRyYWN0TWF4VG9vbEludm9jYXRpb25TdGVwKHRvb2xJbnZvY2F0aW9ucykge1xuICByZXR1cm4gdG9vbEludm9jYXRpb25zID09IG51bGwgPyB2b2lkIDAgOiB0b29sSW52b2NhdGlvbnMucmVkdWNlKChtYXgsIHRvb2xJbnZvY2F0aW9uKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBNYXRoLm1heChtYXgsIChfYSA9IHRvb2xJbnZvY2F0aW9uLnN0ZXApICE9IG51bGwgPyBfYSA6IDApO1xuICB9LCAwKTtcbn1cblxuLy8gc3JjL2dldC1tZXNzYWdlLXBhcnRzLnRzXG5mdW5jdGlvbiBnZXRNZXNzYWdlUGFydHMobWVzc2FnZSkge1xuICB2YXIgX2E7XG4gIHJldHVybiAoX2EgPSBtZXNzYWdlLnBhcnRzKSAhPSBudWxsID8gX2EgOiBbXG4gICAgLi4ubWVzc2FnZS50b29sSW52b2NhdGlvbnMgPyBtZXNzYWdlLnRvb2xJbnZvY2F0aW9ucy5tYXAoKHRvb2xJbnZvY2F0aW9uKSA9PiAoe1xuICAgICAgdHlwZTogXCJ0b29sLWludm9jYXRpb25cIixcbiAgICAgIHRvb2xJbnZvY2F0aW9uXG4gICAgfSkpIDogW10sXG4gICAgLi4ubWVzc2FnZS5yZWFzb25pbmcgPyBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwicmVhc29uaW5nXCIsXG4gICAgICAgIHJlYXNvbmluZzogbWVzc2FnZS5yZWFzb25pbmcsXG4gICAgICAgIGRldGFpbHM6IFt7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBtZXNzYWdlLnJlYXNvbmluZyB9XVxuICAgICAgfVxuICAgIF0gOiBbXSxcbiAgICAuLi5tZXNzYWdlLmNvbnRlbnQgPyBbeyB0eXBlOiBcInRleHRcIiwgdGV4dDogbWVzc2FnZS5jb250ZW50IH1dIDogW11cbiAgXTtcbn1cblxuLy8gc3JjL2ZpbGwtbWVzc2FnZS1wYXJ0cy50c1xuZnVuY3Rpb24gZmlsbE1lc3NhZ2VQYXJ0cyhtZXNzYWdlcykge1xuICByZXR1cm4gbWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiAoe1xuICAgIC4uLm1lc3NhZ2UsXG4gICAgcGFydHM6IGdldE1lc3NhZ2VQYXJ0cyhtZXNzYWdlKVxuICB9KSk7XG59XG5cbi8vIHNyYy9pcy1kZWVwLWVxdWFsLWRhdGEudHNcbmZ1bmN0aW9uIGlzRGVlcEVxdWFsRGF0YShvYmoxLCBvYmoyKSB7XG4gIGlmIChvYmoxID09PSBvYmoyKVxuICAgIHJldHVybiB0cnVlO1xuICBpZiAob2JqMSA9PSBudWxsIHx8IG9iajIgPT0gbnVsbClcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmICh0eXBlb2Ygb2JqMSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqMiAhPT0gXCJvYmplY3RcIilcbiAgICByZXR1cm4gb2JqMSA9PT0gb2JqMjtcbiAgaWYgKG9iajEuY29uc3RydWN0b3IgIT09IG9iajIuY29uc3RydWN0b3IpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAob2JqMSBpbnN0YW5jZW9mIERhdGUgJiYgb2JqMiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICByZXR1cm4gb2JqMS5nZXRUaW1lKCkgPT09IG9iajIuZ2V0VGltZSgpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KG9iajEpKSB7XG4gICAgaWYgKG9iajEubGVuZ3RoICE9PSBvYmoyLmxlbmd0aClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iajEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghaXNEZWVwRXF1YWxEYXRhKG9iajFbaV0sIG9iajJbaV0pKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGNvbnN0IGtleXMxID0gT2JqZWN0LmtleXMob2JqMSk7XG4gIGNvbnN0IGtleXMyID0gT2JqZWN0LmtleXMob2JqMik7XG4gIGlmIChrZXlzMS5sZW5ndGggIT09IGtleXMyLmxlbmd0aClcbiAgICByZXR1cm4gZmFsc2U7XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMxKSB7XG4gICAgaWYgKCFrZXlzMi5pbmNsdWRlcyhrZXkpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghaXNEZWVwRXF1YWxEYXRhKG9iajFba2V5XSwgb2JqMltrZXldKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gc3JjL3ByZXBhcmUtYXR0YWNobWVudHMtZm9yLXJlcXVlc3QudHNcbmFzeW5jIGZ1bmN0aW9uIHByZXBhcmVBdHRhY2htZW50c0ZvclJlcXVlc3QoYXR0YWNobWVudHNGcm9tT3B0aW9ucykge1xuICBpZiAoIWF0dGFjaG1lbnRzRnJvbU9wdGlvbnMpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgaWYgKGF0dGFjaG1lbnRzRnJvbU9wdGlvbnMgaW5zdGFuY2VvZiBGaWxlTGlzdCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgIEFycmF5LmZyb20oYXR0YWNobWVudHNGcm9tT3B0aW9ucykubWFwKGFzeW5jIChhdHRhY2htZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgdHlwZSB9ID0gYXR0YWNobWVudDtcbiAgICAgICAgY29uc3QgZGF0YVVybCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAocmVhZGVyRXZlbnQpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJlc29sdmUoKF9hID0gcmVhZGVyRXZlbnQudGFyZ2V0KSA9PSBudWxsID8gdm9pZCAwIDogX2EucmVzdWx0KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gKGVycm9yKSA9PiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGF0dGFjaG1lbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGNvbnRlbnRUeXBlOiB0eXBlLFxuICAgICAgICAgIHVybDogZGF0YVVybFxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICApO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGF0dGFjaG1lbnRzRnJvbU9wdGlvbnMpKSB7XG4gICAgcmV0dXJuIGF0dGFjaG1lbnRzRnJvbU9wdGlvbnM7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhdHRhY2htZW50cyB0eXBlXCIpO1xufVxuXG4vLyBzcmMvcHJvY2Vzcy1hc3Npc3RhbnQtc3RyZWFtLnRzXG52YXIgTkVXTElORTIgPSBcIlxcblwiLmNoYXJDb2RlQXQoMCk7XG5mdW5jdGlvbiBjb25jYXRDaHVua3MyKGNodW5rcywgdG90YWxMZW5ndGgpIHtcbiAgY29uc3QgY29uY2F0ZW5hdGVkQ2h1bmtzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxMZW5ndGgpO1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgZm9yIChjb25zdCBjaHVuayBvZiBjaHVua3MpIHtcbiAgICBjb25jYXRlbmF0ZWRDaHVua3Muc2V0KGNodW5rLCBvZmZzZXQpO1xuICAgIG9mZnNldCArPSBjaHVuay5sZW5ndGg7XG4gIH1cbiAgY2h1bmtzLmxlbmd0aCA9IDA7XG4gIHJldHVybiBjb25jYXRlbmF0ZWRDaHVua3M7XG59XG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzQXNzaXN0YW50U3RyZWFtKHtcbiAgc3RyZWFtLFxuICBvblRleHRQYXJ0LFxuICBvbkVycm9yUGFydCxcbiAgb25Bc3Npc3RhbnRNZXNzYWdlUGFydCxcbiAgb25Bc3Npc3RhbnRDb250cm9sRGF0YVBhcnQsXG4gIG9uRGF0YU1lc3NhZ2VQYXJ0XG59KSB7XG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICBjb25zdCBjaHVua3MgPSBbXTtcbiAgbGV0IHRvdGFsTGVuZ3RoID0gMDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgY2h1bmtzLnB1c2godmFsdWUpO1xuICAgICAgdG90YWxMZW5ndGggKz0gdmFsdWUubGVuZ3RoO1xuICAgICAgaWYgKHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdICE9PSBORVdMSU5FMikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNodW5rcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjb25zdCBjb25jYXRlbmF0ZWRDaHVua3MgPSBjb25jYXRDaHVua3MyKGNodW5rcywgdG90YWxMZW5ndGgpO1xuICAgIHRvdGFsTGVuZ3RoID0gMDtcbiAgICBjb25zdCBzdHJlYW1QYXJ0cyA9IGRlY29kZXIuZGVjb2RlKGNvbmNhdGVuYXRlZENodW5rcywgeyBzdHJlYW06IHRydWUgfSkuc3BsaXQoXCJcXG5cIikuZmlsdGVyKChsaW5lKSA9PiBsaW5lICE9PSBcIlwiKS5tYXAocGFyc2VBc3Npc3RhbnRTdHJlYW1QYXJ0KTtcbiAgICBmb3IgKGNvbnN0IHsgdHlwZSwgdmFsdWU6IHZhbHVlMiB9IG9mIHN0cmVhbVBhcnRzKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICBhd2FpdCAob25UZXh0UGFydCA9PSBudWxsID8gdm9pZCAwIDogb25UZXh0UGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgYXdhaXQgKG9uRXJyb3JQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbkVycm9yUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFzc2lzdGFudF9tZXNzYWdlXCI6XG4gICAgICAgICAgYXdhaXQgKG9uQXNzaXN0YW50TWVzc2FnZVBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQXNzaXN0YW50TWVzc2FnZVBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhc3Npc3RhbnRfY29udHJvbF9kYXRhXCI6XG4gICAgICAgICAgYXdhaXQgKG9uQXNzaXN0YW50Q29udHJvbERhdGFQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbkFzc2lzdGFudENvbnRyb2xEYXRhUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRhdGFfbWVzc2FnZVwiOlxuICAgICAgICAgIGF3YWl0IChvbkRhdGFNZXNzYWdlUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25EYXRhTWVzc2FnZVBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBjb25zdCBleGhhdXN0aXZlQ2hlY2sgPSB0eXBlO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzdHJlYW0gcGFydCB0eXBlOiAke2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBzcmMvc2NoZW1hLnRzXG5pbXBvcnQgeyB2YWxpZGF0b3JTeW1ib2wgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBzcmMvem9kLXNjaGVtYS50c1xuaW1wb3J0IHpvZFRvSnNvblNjaGVtYSBmcm9tIFwiem9kLXRvLWpzb24tc2NoZW1hXCI7XG5mdW5jdGlvbiB6b2RTY2hlbWEoem9kU2NoZW1hMiwgb3B0aW9ucykge1xuICB2YXIgX2E7XG4gIGNvbnN0IHVzZVJlZmVyZW5jZXMgPSAoX2EgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnVzZVJlZmVyZW5jZXMpICE9IG51bGwgPyBfYSA6IGZhbHNlO1xuICByZXR1cm4ganNvblNjaGVtYShcbiAgICB6b2RUb0pzb25TY2hlbWEoem9kU2NoZW1hMiwge1xuICAgICAgJHJlZlN0cmF0ZWd5OiB1c2VSZWZlcmVuY2VzID8gXCJyb290XCIgOiBcIm5vbmVcIixcbiAgICAgIHRhcmdldDogXCJqc29uU2NoZW1hN1wiXG4gICAgICAvLyBub3RlOiBvcGVuYWkgbW9kZSBicmVha3MgdmFyaW91cyBnZW1pbmkgY29udmVyc2lvbnNcbiAgICB9KSxcbiAgICB7XG4gICAgICB2YWxpZGF0ZTogKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHpvZFNjaGVtYTIuc2FmZVBhcnNlKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWNjZXNzID8geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogcmVzdWx0LmRhdGEgfSA6IHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiByZXN1bHQuZXJyb3IgfTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5cbi8vIHNyYy9zY2hlbWEudHNcbnZhciBzY2hlbWFTeW1ib2wgPSBTeW1ib2wuZm9yKFwidmVyY2VsLmFpLnNjaGVtYVwiKTtcbmZ1bmN0aW9uIGpzb25TY2hlbWEoanNvblNjaGVtYTIsIHtcbiAgdmFsaWRhdGVcbn0gPSB7fSkge1xuICByZXR1cm4ge1xuICAgIFtzY2hlbWFTeW1ib2xdOiB0cnVlLFxuICAgIF90eXBlOiB2b2lkIDAsXG4gICAgLy8gc2hvdWxkIG5ldmVyIGJlIHVzZWQgZGlyZWN0bHlcbiAgICBbdmFsaWRhdG9yU3ltYm9sXTogdHJ1ZSxcbiAgICBqc29uU2NoZW1hOiBqc29uU2NoZW1hMixcbiAgICB2YWxpZGF0ZVxuICB9O1xufVxuZnVuY3Rpb24gaXNTY2hlbWEodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiBzY2hlbWFTeW1ib2wgaW4gdmFsdWUgJiYgdmFsdWVbc2NoZW1hU3ltYm9sXSA9PT0gdHJ1ZSAmJiBcImpzb25TY2hlbWFcIiBpbiB2YWx1ZSAmJiBcInZhbGlkYXRlXCIgaW4gdmFsdWU7XG59XG5mdW5jdGlvbiBhc1NjaGVtYShzY2hlbWEpIHtcbiAgcmV0dXJuIGlzU2NoZW1hKHNjaGVtYSkgPyBzY2hlbWEgOiB6b2RTY2hlbWEoc2NoZW1hKTtcbn1cblxuLy8gc3JjL3Nob3VsZC1yZXN1Ym1pdC1tZXNzYWdlcy50c1xuZnVuY3Rpb24gc2hvdWxkUmVzdWJtaXRNZXNzYWdlcyh7XG4gIG9yaWdpbmFsTWF4VG9vbEludm9jYXRpb25TdGVwLFxuICBvcmlnaW5hbE1lc3NhZ2VDb3VudCxcbiAgbWF4U3RlcHMsXG4gIG1lc3NhZ2VzXG59KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgbGFzdE1lc3NhZ2UgPSBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIChcbiAgICAvLyBjaGVjayBpZiB0aGUgZmVhdHVyZSBpcyBlbmFibGVkOlxuICAgIG1heFN0ZXBzID4gMSAmJiAvLyBlbnN1cmUgdGhlcmUgaXMgYSBsYXN0IG1lc3NhZ2U6XG4gICAgbGFzdE1lc3NhZ2UgIT0gbnVsbCAmJiAvLyBlbnN1cmUgd2UgYWN0dWFsbHkgaGF2ZSBuZXcgc3RlcHMgKHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcHMgaW4gY2FzZSBvZiBlcnJvcnMpOlxuICAgIChtZXNzYWdlcy5sZW5ndGggPiBvcmlnaW5hbE1lc3NhZ2VDb3VudCB8fCBleHRyYWN0TWF4VG9vbEludm9jYXRpb25TdGVwKGxhc3RNZXNzYWdlLnRvb2xJbnZvY2F0aW9ucykgIT09IG9yaWdpbmFsTWF4VG9vbEludm9jYXRpb25TdGVwKSAmJiAvLyBjaGVjayB0aGF0IG5leHQgc3RlcCBpcyBwb3NzaWJsZTpcbiAgICBpc0Fzc2lzdGFudE1lc3NhZ2VXaXRoQ29tcGxldGVkVG9vbENhbGxzKGxhc3RNZXNzYWdlKSAmJiAvLyBsaW1pdCB0aGUgbnVtYmVyIG9mIGF1dG9tYXRpYyBzdGVwczpcbiAgICAoKF9hID0gZXh0cmFjdE1heFRvb2xJbnZvY2F0aW9uU3RlcChsYXN0TWVzc2FnZS50b29sSW52b2NhdGlvbnMpKSAhPSBudWxsID8gX2EgOiAwKSA8IG1heFN0ZXBzXG4gICk7XG59XG5mdW5jdGlvbiBpc0Fzc2lzdGFudE1lc3NhZ2VXaXRoQ29tcGxldGVkVG9vbENhbGxzKG1lc3NhZ2UpIHtcbiAgaWYgKG1lc3NhZ2Uucm9sZSAhPT0gXCJhc3Npc3RhbnRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBsYXN0U3RlcFN0YXJ0SW5kZXggPSBtZXNzYWdlLnBhcnRzLnJlZHVjZSgobGFzdEluZGV4LCBwYXJ0LCBpbmRleCkgPT4ge1xuICAgIHJldHVybiBwYXJ0LnR5cGUgPT09IFwic3RlcC1zdGFydFwiID8gaW5kZXggOiBsYXN0SW5kZXg7XG4gIH0sIC0xKTtcbiAgY29uc3QgbGFzdFN0ZXBUb29sSW52b2NhdGlvbnMgPSBtZXNzYWdlLnBhcnRzLnNsaWNlKGxhc3RTdGVwU3RhcnRJbmRleCArIDEpLmZpbHRlcigocGFydCkgPT4gcGFydC50eXBlID09PSBcInRvb2wtaW52b2NhdGlvblwiKTtcbiAgcmV0dXJuIGxhc3RTdGVwVG9vbEludm9jYXRpb25zLmxlbmd0aCA+IDAgJiYgbGFzdFN0ZXBUb29sSW52b2NhdGlvbnMuZXZlcnkoKHBhcnQpID0+IFwicmVzdWx0XCIgaW4gcGFydC50b29sSW52b2NhdGlvbik7XG59XG5cbi8vIHNyYy91cGRhdGUtdG9vbC1jYWxsLXJlc3VsdC50c1xuZnVuY3Rpb24gdXBkYXRlVG9vbENhbGxSZXN1bHQoe1xuICBtZXNzYWdlcyxcbiAgdG9vbENhbGxJZCxcbiAgdG9vbFJlc3VsdDogcmVzdWx0XG59KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgbGFzdE1lc3NhZ2UgPSBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXTtcbiAgY29uc3QgaW52b2NhdGlvblBhcnQgPSBsYXN0TWVzc2FnZS5wYXJ0cy5maW5kKFxuICAgIChwYXJ0KSA9PiBwYXJ0LnR5cGUgPT09IFwidG9vbC1pbnZvY2F0aW9uXCIgJiYgcGFydC50b29sSW52b2NhdGlvbi50b29sQ2FsbElkID09PSB0b29sQ2FsbElkXG4gICk7XG4gIGlmIChpbnZvY2F0aW9uUGFydCA9PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHRvb2xSZXN1bHQgPSB7XG4gICAgLi4uaW52b2NhdGlvblBhcnQudG9vbEludm9jYXRpb24sXG4gICAgc3RhdGU6IFwicmVzdWx0XCIsXG4gICAgcmVzdWx0XG4gIH07XG4gIGludm9jYXRpb25QYXJ0LnRvb2xJbnZvY2F0aW9uID0gdG9vbFJlc3VsdDtcbiAgbGFzdE1lc3NhZ2UudG9vbEludm9jYXRpb25zID0gKF9hID0gbGFzdE1lc3NhZ2UudG9vbEludm9jYXRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2EubWFwKFxuICAgICh0b29sSW52b2NhdGlvbikgPT4gdG9vbEludm9jYXRpb24udG9vbENhbGxJZCA9PT0gdG9vbENhbGxJZCA/IHRvb2xSZXN1bHQgOiB0b29sSW52b2NhdGlvblxuICApO1xufVxuZXhwb3J0IHtcbiAgYXNTY2hlbWEsXG4gIGNhbGxDaGF0QXBpLFxuICBjYWxsQ29tcGxldGlvbkFwaSxcbiAgZXh0cmFjdE1heFRvb2xJbnZvY2F0aW9uU3RlcCxcbiAgZmlsbE1lc3NhZ2VQYXJ0cyxcbiAgZm9ybWF0QXNzaXN0YW50U3RyZWFtUGFydCxcbiAgZm9ybWF0RGF0YVN0cmVhbVBhcnQsXG4gIGdlbmVyYXRlSWQsXG4gIGdldE1lc3NhZ2VQYXJ0cyxcbiAgZ2V0VGV4dEZyb21EYXRhVXJsLFxuICBpc0Fzc2lzdGFudE1lc3NhZ2VXaXRoQ29tcGxldGVkVG9vbENhbGxzLFxuICBpc0RlZXBFcXVhbERhdGEsXG4gIGpzb25TY2hlbWEsXG4gIHBhcnNlQXNzaXN0YW50U3RyZWFtUGFydCxcbiAgcGFyc2VEYXRhU3RyZWFtUGFydCxcbiAgcGFyc2VQYXJ0aWFsSnNvbixcbiAgcHJlcGFyZUF0dGFjaG1lbnRzRm9yUmVxdWVzdCxcbiAgcHJvY2Vzc0Fzc2lzdGFudFN0cmVhbSxcbiAgcHJvY2Vzc0RhdGFTdHJlYW0sXG4gIHByb2Nlc3NUZXh0U3RyZWFtLFxuICBzaG91bGRSZXN1Ym1pdE1lc3NhZ2VzLFxuICB1cGRhdGVUb29sQ2FsbFJlc3VsdCxcbiAgem9kU2NoZW1hXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6WyJnZW5lcmF0ZUlkIiwidGV4dFN0cmVhbVBhcnQiLCJjb2RlIiwibmFtZSIsInBhcnNlIiwidmFsdWUiLCJFcnJvciIsInR5cGUiLCJlcnJvclN0cmVhbVBhcnQiLCJhc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydCIsImlkIiwicm9sZSIsIkFycmF5IiwiaXNBcnJheSIsImNvbnRlbnQiLCJldmVyeSIsIml0ZW0iLCJ0ZXh0IiwiYXNzaXN0YW50Q29udHJvbERhdGFTdHJlYW1QYXJ0IiwidGhyZWFkSWQiLCJtZXNzYWdlSWQiLCJkYXRhTWVzc2FnZVN0cmVhbVBhcnQiLCJhc3Npc3RhbnRTdHJlYW1QYXJ0cyIsImFzc2lzdGFudFN0cmVhbVBhcnRzQnlDb2RlIiwiU3RyZWFtU3RyaW5nUHJlZml4ZXMiLCJ2YWxpZENvZGVzIiwibWFwIiwicGFydCIsInBhcnNlQXNzaXN0YW50U3RyZWFtUGFydCIsImxpbmUiLCJmaXJzdFNlcGFyYXRvckluZGV4IiwiaW5kZXhPZiIsInByZWZpeCIsInNsaWNlIiwiaW5jbHVkZXMiLCJ0ZXh0VmFsdWUiLCJqc29uVmFsdWUiLCJKU09OIiwiZm9ybWF0QXNzaXN0YW50U3RyZWFtUGFydCIsInN0cmVhbVBhcnQiLCJmaW5kIiwic3RyaW5naWZ5IiwiZ2VuZXJhdGVJZEZ1bmN0aW9uIiwiY2FsY3VsYXRlTGFuZ3VhZ2VNb2RlbFVzYWdlIiwicHJvbXB0VG9rZW5zIiwiY29tcGxldGlvblRva2VucyIsInRvdGFsVG9rZW5zIiwic2FmZVBhcnNlSlNPTiIsImZpeEpzb24iLCJpbnB1dCIsInN0YWNrIiwibGFzdFZhbGlkSW5kZXgiLCJsaXRlcmFsU3RhcnQiLCJwcm9jZXNzVmFsdWVTdGFydCIsImNoYXIiLCJpIiwic3dhcFN0YXRlIiwicG9wIiwicHVzaCIsInByb2Nlc3NBZnRlck9iamVjdFZhbHVlIiwicHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZSIsImxlbmd0aCIsImN1cnJlbnRTdGF0ZSIsInBhcnRpYWxMaXRlcmFsIiwic3Vic3RyaW5nIiwic3RhcnRzV2l0aCIsInJlc3VsdCIsInN0YXRlIiwicGFyc2VQYXJ0aWFsSnNvbiIsImpzb25UZXh0Iiwic3VjY2VzcyIsInRleHRTdHJlYW1QYXJ0MiIsImRhdGFTdHJlYW1QYXJ0IiwiZXJyb3JTdHJlYW1QYXJ0MiIsIm1lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQiLCJ0b29sQ2FsbFN0cmVhbVBhcnQiLCJ0b29sQ2FsbElkIiwidG9vbE5hbWUiLCJhcmdzIiwidG9vbFJlc3VsdFN0cmVhbVBhcnQiLCJ0b29sQ2FsbFN0cmVhbWluZ1N0YXJ0U3RyZWFtUGFydCIsInRvb2xDYWxsRGVsdGFTdHJlYW1QYXJ0IiwiYXJnc1RleHREZWx0YSIsImZpbmlzaE1lc3NhZ2VTdHJlYW1QYXJ0IiwiZmluaXNoUmVhc29uIiwidXNhZ2UiLCJOdW1iZXIiLCJOYU4iLCJmaW5pc2hTdGVwU3RyZWFtUGFydCIsImlzQ29udGludWVkIiwic3RhcnRTdGVwU3RyZWFtUGFydCIsInJlYXNvbmluZ1N0cmVhbVBhcnQiLCJzb3VyY2VQYXJ0IiwicmVkYWN0ZWRSZWFzb25pbmdTdHJlYW1QYXJ0IiwiZGF0YSIsInJlYXNvbmluZ1NpZ25hdHVyZVN0cmVhbVBhcnQiLCJzaWduYXR1cmUiLCJmaWxlU3RyZWFtUGFydCIsIm1pbWVUeXBlIiwiZGF0YVN0cmVhbVBhcnRzIiwiZGF0YVN0cmVhbVBhcnRzQnlDb2RlIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJEYXRhU3RyZWFtU3RyaW5nUHJlZml4ZXMiLCJ2YWxpZENvZGVzMiIsInBhcnNlRGF0YVN0cmVhbVBhcnQiLCJmb3JtYXREYXRhU3RyZWFtUGFydCIsIk5FV0xJTkUiLCJjaGFyQ29kZUF0IiwiY29uY2F0Q2h1bmtzIiwiY2h1bmtzIiwidG90YWxMZW5ndGgiLCJjb25jYXRlbmF0ZWRDaHVua3MiLCJVaW50OEFycmF5Iiwib2Zmc2V0IiwiY2h1bmsiLCJzZXQiLCJwcm9jZXNzRGF0YVN0cmVhbSIsInN0cmVhbSIsIm9uVGV4dFBhcnQiLCJvblJlYXNvbmluZ1BhcnQiLCJvblJlYXNvbmluZ1NpZ25hdHVyZVBhcnQiLCJvblJlZGFjdGVkUmVhc29uaW5nUGFydCIsIm9uU291cmNlUGFydCIsIm9uRmlsZVBhcnQiLCJvbkRhdGFQYXJ0Iiwib25FcnJvclBhcnQiLCJvblRvb2xDYWxsU3RyZWFtaW5nU3RhcnRQYXJ0Iiwib25Ub29sQ2FsbERlbHRhUGFydCIsIm9uVG9vbENhbGxQYXJ0Iiwib25Ub29sUmVzdWx0UGFydCIsIm9uTWVzc2FnZUFubm90YXRpb25zUGFydCIsIm9uRmluaXNoTWVzc2FnZVBhcnQiLCJvbkZpbmlzaFN0ZXBQYXJ0Iiwib25TdGFydFN0ZXBQYXJ0IiwicmVhZGVyIiwiZ2V0UmVhZGVyIiwiZGVjb2RlciIsIlRleHREZWNvZGVyIiwicmVhZCIsInN0cmVhbVBhcnRzIiwiZGVjb2RlIiwic3BsaXQiLCJmaWx0ZXIiLCJ2YWx1ZTIiLCJleGhhdXN0aXZlQ2hlY2siLCJwcm9jZXNzQ2hhdFJlc3BvbnNlIiwidXBkYXRlIiwib25Ub29sQ2FsbCIsIm9uRmluaXNoIiwiZ2VuZXJhdGVJZDIiLCJnZXRDdXJyZW50RGF0ZSIsIkRhdGUiLCJsYXN0TWVzc2FnZSIsIl9hIiwiX2IiLCJyZXBsYWNlTGFzdE1lc3NhZ2UiLCJzdGVwIiwidG9vbEludm9jYXRpb25zIiwicmVkdWNlIiwibWF4IiwidG9vbEludm9jYXRpb24iLCJfYTIiLCJNYXRoIiwibWVzc2FnZSIsInN0cnVjdHVyZWRDbG9uZSIsImNyZWF0ZWRBdCIsInBhcnRzIiwiY3VycmVudFRleHRQYXJ0IiwiY3VycmVudFJlYXNvbmluZ1BhcnQiLCJjdXJyZW50UmVhc29uaW5nVGV4dERldGFpbCIsInVwZGF0ZVRvb2xJbnZvY2F0aW9uUGFydCIsImludm9jYXRpb24iLCJwYXJ0MiIsIm1lc3NhZ2VBbm5vdGF0aW9ucyIsImFubm90YXRpb25zIiwicGFydGlhbFRvb2xDYWxscyIsImV4ZWNVcGRhdGUiLCJjb3BpZWREYXRhIiwiY29waWVkTWVzc2FnZSIsInJldmlzaW9uSWQiLCJkZXRhaWxzIiwicmVhc29uaW5nIiwic291cmNlIiwiaW5kZXgiLCJwYXJ0aWFsVG9vbENhbGwiLCJwYXJ0aWFsQXJncyIsInRvb2xDYWxsIiwiaW52b2NhdGlvbjIiLCJ0b29sSW52b2NhdGlvbkluZGV4IiwiZmluZEluZGV4IiwiZXJyb3IiLCJnZW5lcmF0ZUlkRnVuY3Rpb24yIiwicHJvY2Vzc1RleHRTdHJlYW0iLCJwaXBlVGhyb3VnaCIsIlRleHREZWNvZGVyU3RyZWFtIiwiZG9uZSIsInByb2Nlc3NDaGF0VGV4dFJlc3BvbnNlIiwidGV4dFBhcnQiLCJyZXN1bHRNZXNzYWdlIiwiZ2V0T3JpZ2luYWxGZXRjaCIsImZldGNoIiwiY2FsbENoYXRBcGkiLCJhcGkiLCJib2R5Iiwic3RyZWFtUHJvdG9jb2wiLCJjcmVkZW50aWFscyIsImhlYWRlcnMiLCJhYm9ydENvbnRyb2xsZXIiLCJyZXN0b3JlTWVzc2FnZXNPbkZhaWx1cmUiLCJvblJlc3BvbnNlIiwib25VcGRhdGUiLCJmZXRjaDIiLCJyZXNwb25zZSIsIm1ldGhvZCIsInNpZ25hbCIsImNhdGNoIiwiZXJyIiwib2siLCJnZXRPcmlnaW5hbEZldGNoMiIsImNhbGxDb21wbGV0aW9uQXBpIiwicHJvbXB0Iiwic2V0Q29tcGxldGlvbiIsInNldExvYWRpbmciLCJzZXRFcnJvciIsInNldEFib3J0Q29udHJvbGxlciIsIm9uRXJyb3IiLCJvbkRhdGEiLCJBYm9ydENvbnRyb2xsZXIiLCJnZXRUZXh0RnJvbURhdGFVcmwiLCJkYXRhVXJsIiwiaGVhZGVyIiwiYmFzZTY0Q29udGVudCIsIndpbmRvdyIsImF0b2IiLCJleHRyYWN0TWF4VG9vbEludm9jYXRpb25TdGVwIiwiZ2V0TWVzc2FnZVBhcnRzIiwiZmlsbE1lc3NhZ2VQYXJ0cyIsIm1lc3NhZ2VzIiwiaXNEZWVwRXF1YWxEYXRhIiwib2JqMSIsIm9iajIiLCJjb25zdHJ1Y3RvciIsImdldFRpbWUiLCJrZXlzMSIsImtleXMiLCJrZXlzMiIsImtleSIsInByZXBhcmVBdHRhY2htZW50c0ZvclJlcXVlc3QiLCJhdHRhY2htZW50c0Zyb21PcHRpb25zIiwiRmlsZUxpc3QiLCJQcm9taXNlIiwiYWxsIiwiZnJvbSIsImF0dGFjaG1lbnQiLCJyZXNvbHZlIiwicmVqZWN0IiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsInJlYWRlckV2ZW50IiwidGFyZ2V0Iiwib25lcnJvciIsInJlYWRBc0RhdGFVUkwiLCJjb250ZW50VHlwZSIsInVybCIsIk5FV0xJTkUyIiwiY29uY2F0Q2h1bmtzMiIsInByb2Nlc3NBc3Npc3RhbnRTdHJlYW0iLCJvbkFzc2lzdGFudE1lc3NhZ2VQYXJ0Iiwib25Bc3Npc3RhbnRDb250cm9sRGF0YVBhcnQiLCJvbkRhdGFNZXNzYWdlUGFydCIsInZhbGlkYXRvclN5bWJvbCIsInpvZFRvSnNvblNjaGVtYSIsInpvZFNjaGVtYSIsInpvZFNjaGVtYTIiLCJvcHRpb25zIiwidXNlUmVmZXJlbmNlcyIsImpzb25TY2hlbWEiLCIkcmVmU3RyYXRlZ3kiLCJ2YWxpZGF0ZSIsInNhZmVQYXJzZSIsInNjaGVtYVN5bWJvbCIsIlN5bWJvbCIsImZvciIsImpzb25TY2hlbWEyIiwiX3R5cGUiLCJpc1NjaGVtYSIsImFzU2NoZW1hIiwic2NoZW1hIiwic2hvdWxkUmVzdWJtaXRNZXNzYWdlcyIsIm9yaWdpbmFsTWF4VG9vbEludm9jYXRpb25TdGVwIiwib3JpZ2luYWxNZXNzYWdlQ291bnQiLCJtYXhTdGVwcyIsImlzQXNzaXN0YW50TWVzc2FnZVdpdGhDb21wbGV0ZWRUb29sQ2FsbHMiLCJsYXN0U3RlcFN0YXJ0SW5kZXgiLCJsYXN0SW5kZXgiLCJsYXN0U3RlcFRvb2xJbnZvY2F0aW9ucyIsInVwZGF0ZVRvb2xDYWxsUmVzdWx0IiwidG9vbFJlc3VsdCIsImludm9jYXRpb25QYXJ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@ai-sdk/ui-utils/dist/index.mjs\n");

/***/ })

};
;